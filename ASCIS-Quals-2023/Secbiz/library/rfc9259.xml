<?xml version='1.0' encoding='utf-8'?>
<rfc xmlns:xi="http://www.w3.org/2001/XInclude" version="3" category="std" consensus="true" docName="draft-ietf-6man-spring-srv6-oam-13" indexInclude="true" ipr="trust200902" number="9259" prepTime="2022-06-23T11:42:54" scripts="Common,Latin" sortRefs="true" submissionType="IETF" symRefs="true" tocDepth="3" tocInclude="true" xml:lang="en">
  <link href="https://datatracker.ietf.org/doc/draft-ietf-6man-spring-srv6-oam-13" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc9259" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <front>
    <title abbrev="SRv6 OAM">Operations, Administration, and Maintenance (OAM) in Segment Routing over IPv6 (SRv6)</title>
    <seriesInfo name="RFC" value="9259" stream="IETF"/>
    <author fullname="Zafar Ali" initials="Z" surname="Ali">
      <organization showOnFrontPage="true">Cisco Systems</organization>
      <address>
        <postal>
          <street/>
          <city/>
          <code/>
          <country/>
        </postal>
        <email>zali@cisco.com</email>
      </address>
    </author>
    <author fullname="Clarence Filsfils" initials="C." surname="Filsfils">
      <organization showOnFrontPage="true">Cisco Systems</organization>
      <address>
        <postal>
          <street/>
          <city/>
          <code/>
          <country/>
        </postal>
        <email>cfilsfil@cisco.com</email>
      </address>
    </author>
    <author fullname="Satoru Matsushima" initials="S" surname="Matsushima">
      <organization showOnFrontPage="true">Softbank</organization>
      <address>
        <postal>
          <street/>
          <city/>
          <code/>
          <country/>
        </postal>
        <email>satoru.matsushima@g.softbank.co.jp</email>
      </address>
    </author>
    <author fullname="Daniel Voyer" initials="D" surname="Voyer">
      <organization showOnFrontPage="true">Bell Canada</organization>
      <address>
        <postal>
          <street/>
          <city/>
          <code/>
          <country/>
        </postal>
        <email>daniel.voyer@bell.ca</email>
      </address>
    </author>
    <author fullname="Mach(Guoyi) Chen" initials="M" surname="Chen">
      <organization showOnFrontPage="true">Huawei</organization>
      <address>
        <postal>
          <street/>
          <city/>
          <code/>
          <country/>
        </postal>
        <email>mach.chen@huawei.com</email>
      </address>
    </author>
    <date month="06" year="2022"/>
    <area>int</area>
    <workgroup>6man</workgroup>
    <keyword>SRv6</keyword>
    <keyword>Segment Routing</keyword>
    <keyword>OAM</keyword>
    <abstract pn="section-abstract">
      <t indent="0" pn="section-abstract-1">This document describes how the existing IPv6 mechanisms for ping 
      and traceroute can be used in a Segment Routing over IPv6 (SRv6) network. 
      The document also specifies the OAM flag (O-flag) in the Segment Routing Header (SRH) 
      for performing controllable and predictable flow sampling from segment endpoints. 
      In addition, the document describes how a centralized monitoring system performs a 
      path continuity check between any nodes within an SRv6 domain. 
      </t>
    </abstract>
    <boilerplate>
      <section anchor="status-of-memo" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.1">
        <name slugifiedName="name-status-of-this-memo">Status of This Memo</name>
        <t indent="0" pn="section-boilerplate.1-1">
            This is an Internet Standards Track document.
        </t>
        <t indent="0" pn="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.
        </t>
        <t indent="0" pn="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <eref target="https://www.rfc-editor.org/info/rfc9259" brackets="none"/>.
        </t>
      </section>
      <section anchor="copyright" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.2">
        <name slugifiedName="name-copyright-notice">Copyright Notice</name>
        <t indent="0" pn="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.
        </t>
        <t indent="0" pn="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<eref target="https://trustee.ietf.org/license-info" brackets="none"/>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.
        </t>
      </section>
    </boilerplate>
    <toc>
      <section anchor="toc" numbered="false" removeInRFC="false" toc="exclude" pn="section-toc.1">
        <name slugifiedName="name-table-of-contents">Table of Contents</name>
        <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1">
          <li pn="section-toc.1-1.1">
            <t indent="0" pn="section-toc.1-1.1.1"><xref derivedContent="1" format="counter" sectionFormat="of" target="section-1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-introduction">Introduction</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.1.2">
              <li pn="section-toc.1-1.1.2.1">
                <t indent="0" keepWithNext="true" pn="section-toc.1-1.1.2.1.1"><xref derivedContent="1.1" format="counter" sectionFormat="of" target="section-1.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-requirements-language">Requirements Language</xref></t>
              </li>
              <li pn="section-toc.1-1.1.2.2">
                <t indent="0" keepWithNext="true" pn="section-toc.1-1.1.2.2.1"><xref derivedContent="1.2" format="counter" sectionFormat="of" target="section-1.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-abbreviations">Abbreviations</xref></t>
              </li>
              <li pn="section-toc.1-1.1.2.3">
                <t indent="0" keepWithNext="true" pn="section-toc.1-1.1.2.3.1"><xref derivedContent="1.3" format="counter" sectionFormat="of" target="section-1.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-terminology-and-reference-t">Terminology and Reference Topology</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.2">
            <t indent="0" pn="section-toc.1-1.2.1"><xref derivedContent="2" format="counter" sectionFormat="of" target="section-2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-oam-mechanisms">OAM Mechanisms</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.2.2">
              <li pn="section-toc.1-1.2.2.1">
                <t indent="0" pn="section-toc.1-1.2.2.1.1"><xref derivedContent="2.1" format="counter" sectionFormat="of" target="section-2.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-oam-flag-in-the-segment-rou">OAM Flag in the Segment Routing Header</xref></t>
                <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.2.2.1.2">
                  <li pn="section-toc.1-1.2.2.1.2.1">
                    <t indent="0" pn="section-toc.1-1.2.2.1.2.1.1"><xref derivedContent="2.1.1" format="counter" sectionFormat="of" target="section-2.1.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-oam-flag-processing">OAM Flag Processing</xref></t>
                  </li>
                </ul>
              </li>
              <li pn="section-toc.1-1.2.2.2">
                <t indent="0" pn="section-toc.1-1.2.2.2.1"><xref derivedContent="2.2" format="counter" sectionFormat="of" target="section-2.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-oam-operations">OAM Operations</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.3">
            <t indent="0" pn="section-toc.1-1.3.1"><xref derivedContent="3" format="counter" sectionFormat="of" target="section-3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-security-considerations">Security Considerations</xref></t>
          </li>
          <li pn="section-toc.1-1.4">
            <t indent="0" pn="section-toc.1-1.4.1"><xref derivedContent="4" format="counter" sectionFormat="of" target="section-4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-privacy-considerations">Privacy Considerations</xref></t>
          </li>
          <li pn="section-toc.1-1.5">
            <t indent="0" pn="section-toc.1-1.5.1"><xref derivedContent="5" format="counter" sectionFormat="of" target="section-5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-iana-considerations">IANA Considerations</xref></t>
          </li>
          <li pn="section-toc.1-1.6">
            <t indent="0" pn="section-toc.1-1.6.1"><xref derivedContent="6" format="counter" sectionFormat="of" target="section-6"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-references">References</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.6.2">
              <li pn="section-toc.1-1.6.2.1">
                <t indent="0" pn="section-toc.1-1.6.2.1.1"><xref derivedContent="6.1" format="counter" sectionFormat="of" target="section-6.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-normative-references">Normative References</xref></t>
              </li>
              <li pn="section-toc.1-1.6.2.2">
                <t indent="0" pn="section-toc.1-1.6.2.2.1"><xref derivedContent="6.2" format="counter" sectionFormat="of" target="section-6.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-informative-references">Informative References</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.7">
            <t indent="0" pn="section-toc.1-1.7.1"><xref derivedContent="Appendix A" format="default" sectionFormat="of" target="section-appendix.a"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-illustrations">Illustrations</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.7.2">
              <li pn="section-toc.1-1.7.2.1">
                <t indent="0" pn="section-toc.1-1.7.2.1.1"><xref derivedContent="A.1" format="counter" sectionFormat="of" target="section-appendix.a.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-ping-in-srv6-networks">Ping in SRv6 Networks</xref></t>
                <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.7.2.1.2">
                  <li pn="section-toc.1-1.7.2.1.2.1">
                    <t indent="0" pn="section-toc.1-1.7.2.1.2.1.1"><xref derivedContent="A.1.1" format="counter" sectionFormat="of" target="section-appendix.a.1.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-pinging-an-ipv6-address-via">Pinging an IPv6 Address via a Segment List</xref></t>
                  </li>
                  <li pn="section-toc.1-1.7.2.1.2.2">
                    <t indent="0" pn="section-toc.1-1.7.2.1.2.2.1"><xref derivedContent="A.1.2" format="counter" sectionFormat="of" target="section-appendix.a.1.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-pinging-a-sid">Pinging a SID</xref></t>
                  </li>
                </ul>
              </li>
              <li pn="section-toc.1-1.7.2.2">
                <t indent="0" pn="section-toc.1-1.7.2.2.1"><xref derivedContent="A.2" format="counter" sectionFormat="of" target="section-appendix.a.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-traceroute-in-srv6-networks">Traceroute in SRv6 Networks</xref></t>
                <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.7.2.2.2">
                  <li pn="section-toc.1-1.7.2.2.2.1">
                    <t indent="0" pn="section-toc.1-1.7.2.2.2.1.1"><xref derivedContent="A.2.1" format="counter" sectionFormat="of" target="section-appendix.a.2.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-traceroute-to-an-ipv6-addre">Traceroute to an IPv6 Address via a Segment List</xref></t>
                  </li>
                  <li pn="section-toc.1-1.7.2.2.2.2">
                    <t indent="0" pn="section-toc.1-1.7.2.2.2.2.1"><xref derivedContent="A.2.2" format="counter" sectionFormat="of" target="section-appendix.a.2.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-traceroute-to-a-sid">Traceroute to a SID</xref></t>
                  </li>
                </ul>
              </li>
              <li pn="section-toc.1-1.7.2.3">
                <t indent="0" pn="section-toc.1-1.7.2.3.1"><xref derivedContent="A.3" format="counter" sectionFormat="of" target="section-appendix.a.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-hybrid-oam-using-the-oam-fl">Hybrid OAM Using the OAM Flag</xref></t>
              </li>
              <li pn="section-toc.1-1.7.2.4">
                <t indent="0" pn="section-toc.1-1.7.2.4.1"><xref derivedContent="A.4" format="counter" sectionFormat="of" target="section-appendix.a.4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-monitoring-of-srv6-paths">Monitoring of SRv6 Paths</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.8">
            <t indent="0" pn="section-toc.1-1.8.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.b"/><xref derivedContent="" format="title" sectionFormat="of" target="name-acknowledgements">Acknowledgements</xref></t>
          </li>
          <li pn="section-toc.1-1.9">
            <t indent="0" pn="section-toc.1-1.9.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.c"/><xref derivedContent="" format="title" sectionFormat="of" target="name-contributors">Contributors</xref></t>
          </li>
          <li pn="section-toc.1-1.10">
            <t indent="0" pn="section-toc.1-1.10.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.d"/><xref derivedContent="" format="title" sectionFormat="of" target="name-authors-addresses">Authors' Addresses</xref></t>
          </li>
        </ul>
      </section>
    </toc>
  </front>
  <middle>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-1">
      <name slugifiedName="name-introduction">Introduction</name>
      <t indent="0" pn="section-1-1"> 
   As Segment Routing over IPv6 (SRv6) <xref target="RFC8402" format="default" sectionFormat="of" derivedContent="RFC8402"/> 
   simply adds a new type
   of Routing Extension Header, existing IPv6 OAM mechanisms can be used
   in an SRv6 network.  This document describes how the existing 
   IPv6 mechanisms for ping and traceroute can be used in an SRv6 network.  
   This includes illustrations of pinging an SRv6 Segment Identifier (SID) to
   verify that the SID is reachable and is locally programmed at the target node.
   This also includes illustrations for
   tracerouting to an SRv6 SID for hop-by-hop
   fault localization as well as path tracing to a SID.  
   
      </t>
      <t indent="0" pn="section-1-2"> 
   This document also introduces enhancements for the OAM mechanism for SRv6
   networks that allow controllable and predictable flow sampling from segment
   endpoints using, e.g., the IP Flow Information Export (IPFIX) protocol
   <xref target="RFC7011" format="default" sectionFormat="of" derivedContent="RFC7011"/>. Specifically, the document
   specifies the OAM flag (O-flag) in the SRH as a marking bit in the user
   packets to trigger telemetry data collection and export at the segment
   endpoints.
      </t>
      <t indent="0" pn="section-1-3"> 
   This document also outlines how the centralized OAM technique in 
   <xref target="RFC8403" format="default" sectionFormat="of" derivedContent="RFC8403"/> can be extended for SRv6 to perform a path continuity check between 
   any nodes within an SRv6 domain. 
   Specifically, the document illustrates how a centralized monitoring system can 
   monitor arbitrary SRv6 paths by   
   creating loopback probes that
   originate and terminate at the centralized monitoring system. 

      </t>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-1.1">
        <name slugifiedName="name-requirements-language">Requirements Language</name>
        <t indent="0" pn="section-1.1-1">
    The key words "<bcp14>MUST</bcp14>", "<bcp14>MUST NOT</bcp14>", "<bcp14>REQUIRED</bcp14>", "<bcp14>SHALL</bcp14>", "<bcp14>SHALL NOT</bcp14>", "<bcp14>SHOULD</bcp14>", "<bcp14>SHOULD NOT</bcp14>", "<bcp14>RECOMMENDED</bcp14>", "<bcp14>NOT RECOMMENDED</bcp14>",
    "<bcp14>MAY</bcp14>", and "<bcp14>OPTIONAL</bcp14>" in this document are to be interpreted as
    described in BCP 14 <xref target="RFC2119" format="default" sectionFormat="of" derivedContent="RFC2119"/> <xref target="RFC8174" format="default" sectionFormat="of" derivedContent="RFC8174"/> 
    when, and only when, they appear in all capitals, as shown here.
        </t>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-1.2">
        <name slugifiedName="name-abbreviations">Abbreviations</name>
        <t indent="0" pn="section-1.2-1"> The following abbreviations are used in this document: 
        </t>
        <dl newline="false" spacing="normal" indent="3" pn="section-1.2-2">
          <dt pn="section-1.2-2.1">SID:</dt>
          <dd pn="section-1.2-2.2">Segment Identifier
            </dd>
          <dt pn="section-1.2-2.3">SL:</dt>
          <dd pn="section-1.2-2.4">Segments Left
           </dd>
          <dt pn="section-1.2-2.5">SR:</dt>
          <dd pn="section-1.2-2.6">Segment Routing
           </dd>
          <dt pn="section-1.2-2.7">SRH:</dt>
          <dd pn="section-1.2-2.8">Segment Routing Header <xref target="RFC8754" format="default" sectionFormat="of" derivedContent="RFC8754"/>
          </dd>
          <dt pn="section-1.2-2.9">SRv6:</dt>
          <dd pn="section-1.2-2.10">Segment Routing over IPv6 <xref target="RFC8402" format="default" sectionFormat="of" derivedContent="RFC8402"/>
          </dd>
          <dt pn="section-1.2-2.11">PSP:</dt>
          <dd pn="section-1.2-2.12">Penultimate Segment Pop <xref target="RFC8986" format="default" sectionFormat="of" derivedContent="RFC8986"/>
          </dd>
          <dt pn="section-1.2-2.13">USP:</dt>
          <dd pn="section-1.2-2.14">Ultimate Segment Pop <xref target="RFC8986" format="default" sectionFormat="of" derivedContent="RFC8986"/>
          </dd>
          <dt pn="section-1.2-2.15">ICMPv6:</dt>
          <dd pn="section-1.2-2.16">Internet Control Message Protocol for the Internet Protocol version 6 <xref target="RFC4443" format="default" sectionFormat="of" derivedContent="RFC4443"/>
          </dd>
          <dt pn="section-1.2-2.17">IS-IS:</dt>
          <dd pn="section-1.2-2.18">Intermediate System to Intermediate System
           </dd>
          <dt pn="section-1.2-2.19">OSPF:</dt>
          <dd pn="section-1.2-2.20">Open Shortest Path First <xref target="RFC2328" format="default" sectionFormat="of" derivedContent="RFC2328"/>
          </dd>
          <dt pn="section-1.2-2.21">IGP:</dt>
          <dd pn="section-1.2-2.22">Interior Gateway Protocol (e.g., OSPF and IS-IS)
           </dd>
          <dt pn="section-1.2-2.23">BGP-LS:</dt>
          <dd pn="section-1.2-2.24">Border Gateway Protocol - Link State <xref target="RFC8571" format="default" sectionFormat="of" derivedContent="RFC8571"/>
          </dd>
        </dl>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-1.3">
        <name slugifiedName="name-terminology-and-reference-t">Terminology and Reference Topology</name>
        <t indent="0" pn="section-1.3-1">The terminology and 
     simple topology in this section are used for illustration throughout the document. </t>
        <figure anchor="ref-top" align="left" suppress-title="false" pn="figure-1">
          <name slugifiedName="name-reference-topology">Reference Topology</name>
          <artwork name="" type="" align="left" alt="" pn="section-1.3-2.1">
+--------------------------| N100 |---------------------------------+
|                                                                   |
|  ====== link1====== link3------ link5====== link9------   ======  |
   ||N1||------||N2||------| N3 |------||N4||------| N5 |---||N7||
   ||  ||------||  ||------|    |------||  ||------|    |---||  ||
   ====== link2====== link4------ link6======link10------   ======
      |            |                      |                   |
   ---+--          |       ------         |                 --+---
   |CE1 |          +-------| N6 |---------+                 |CE2 |
   ------            link7 |    | link8                     ------        
                           ------                          
</artwork>
        </figure>
        <t indent="0" pn="section-1.3-3"> In the reference topology: 
        </t>
        <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-1.3-4">
          <li pn="section-1.3-4.1"> Node j has an IPv6 loopback address 2001:db8:L:j::/128.
           </li>
          <li pn="section-1.3-4.2"> Nodes N1, N2, N4, and N7 are SRv6-capable nodes.
            </li>
          <li pn="section-1.3-4.3"> Nodes N3, N5, and N6 are IPv6 nodes that are not SRv6-capable nodes. 
            Such nodes are referred to as "non-SRv6-capable nodes".
           </li>
          <li pn="section-1.3-4.4"> CE1 and CE2 are Customer Edge devices of any data plane 
			capability (e.g., IPv4, IPv6, and L2). 
           </li>
          <li pn="section-1.3-4.5"> A SID at node j with locator block 2001:db8:K::/48 and function U is represented
     by 2001:db8:K:j:U::.
           </li>
          <li pn="section-1.3-4.6"> Node N100 is a controller.
           </li>
          <li pn="section-1.3-4.7"> The IPv6 address of the nth link between nodes i and j at the i side
     is represented as 2001:db8:i:j:in::. For example, in <xref target="ref-top" format="default" sectionFormat="of" derivedContent="Figure 1"/>, the IPv6 address of link6
     (the second link between nodes N3 and N4) at node N3 is
     2001:db8:3:4:32::. Similarly, the IPv6 address of link5 (the first
     link between nodes N3 and N4) at node N3 is 2001:db8:3:4:31::. 
           </li>
          <li pn="section-1.3-4.8"> 2001:db8:K:j:Xin:: is explicitly allocated as the End.X SID 
            at node j 
     towards neighbor node i via the nth link between nodes i and j. 
     For example, 2001:db8:K:2:X31:: represents End.X at node N2 towards node N3 via link3 (the first 
     link between nodes N2 and N3). Similarly, 2001:db8:K:4:X52:: represents the End.X at 
     node N4 towards node N5 via link10 (the second 
     link between nodes N4 and N5). Please refer to <xref target="RFC8986" format="default" sectionFormat="of" derivedContent="RFC8986"/> for 
     a description of End.X SID. 
           </li>
          <li pn="section-1.3-4.9"> A SID list is represented as &lt;S1, S2, S3&gt;, where 
            S1 is the first SID
   to visit, S2 is the second SID to visit, and S3 is the last SID to
   visit along the SR path.
           </li>
          <li pn="section-1.3-4.10">
            <t indent="0" pn="section-1.3-4.10.1"> (SA,DA) (S3, S2, S1; SL)(payload) represents an IPv6 packet with:

            </t>
            <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-1.3-4.10.2">
              <li pn="section-1.3-4.10.2.1"> IPv6 header with source address SA, destination address DA, and
     SRH as the next header
            </li>
              <li pn="section-1.3-4.10.2.2">
                <t indent="0" pn="section-1.3-4.10.2.2.1">SRH with SID list &lt;S1, S2, S3&gt; with SegmentsLeft = SL</t>
                <t indent="0" pn="section-1.3-4.10.2.2.2"> Note the difference between the &lt; &gt; and () symbols: 
            &lt;S1, S2, S3&gt;
     represents a SID list where S1 is the first SID and S3 is the last
     SID to traverse.  (S3, S2, S1; SL) represents the same SID list but
     encoded in the SRH format where the rightmost SID in the SRH is the
     first SID and the leftmost SID in the SRH is the last SID.  When
     referring to an SR Policy in a high-level use case, it is simpler
     to use the &lt;S1, S2, S3&gt; notation.  When referring to an
     illustration of the detailed packet behavior, the (S3, S2, S1; SL)
     notation is more convenient.</t>
              </li>
              <li pn="section-1.3-4.10.2.3"> (payload) represents the payload of the packet.
           </li>
            </ul>
          </li>
        </ul>
      </section>
    </section>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-2">
      <name slugifiedName="name-oam-mechanisms">OAM Mechanisms</name>
      <t indent="0" pn="section-2-1">This section defines OAM enhancements for SRv6 networks. 
      </t>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-2.1">
        <name slugifiedName="name-oam-flag-in-the-segment-rou">OAM Flag in the Segment Routing Header</name>
        <t indent="0" pn="section-2.1-1"><xref target="RFC8754" format="default" sectionFormat="of" derivedContent="RFC8754"/> describes the Segment
     Routing Header (SRH) and how SR-capable nodes use it. The SRH
     contains an 8-bit Flags field. </t>
        <t indent="0" pn="section-2.1-2"> This document defines the following bit in the 
     SRH Flags field to carry the O-flag: </t>
        <artwork name="" type="" align="left" alt="" pn="section-2.1-3">
               0 1 2 3 4 5 6 7
              +-+-+-+-+-+-+-+-+
              |   |O|         |
              +-+-+-+-+-+-+-+-+
</artwork>
        <t indent="0" pn="section-2.1-4"> Where: 
      
        </t>
        <dl newline="false" spacing="normal" indent="3" pn="section-2.1-5">
          <dt pn="section-2.1-5.1">O-flag:</dt>
          <dd pn="section-2.1-5.2">OAM flag in the SRH Flags field defined in <xref target="RFC8754" format="default" sectionFormat="of" derivedContent="RFC8754"/>. 
            </dd>
        </dl>
        <section anchor="oflag-proc" numbered="true" toc="include" removeInRFC="false" pn="section-2.1.1">
          <name slugifiedName="name-oam-flag-processing">OAM Flag Processing</name>
          <t indent="0" pn="section-2.1.1-1"> The O-flag in the SRH is used as a marking bit in user packets to trigger 
	telemetry data collection and export at the segment endpoints. 	
          </t>
          <t indent="0" pn="section-2.1.1-2"> An SR domain ingress edge node encapsulates packets traversing the SR
    domain as defined in <xref target="RFC8754" format="default" sectionFormat="of" derivedContent="RFC8754"/>. The SR domain ingress edge node
    <bcp14>MAY</bcp14> use the O-flag in the SRH for marking the packet to trigger 
	the telemetry data collection and export at the segment endpoints. 
	Based on local configuration, the SR domain ingress edge node 
	may implement a classification and sampling mechanism to mark a packet with the O-flag in the SRH. 
	Specification of the classification and sampling method is outside the scope of this
    document. 
          </t>
          <t indent="0" pn="section-2.1.1-3"> 
	This document does not specify the data elements that need to be exported 
	and the associated configurations. 
	Similarly, this document does not define any formats for exporting the data
	elements. 
	Nonetheless, without the loss of generality, this document assumes that the
	IP Flow Information Export (IPFIX) protocol <xref target="RFC7011" format="default" sectionFormat="of" derivedContent="RFC7011"/> is used for exporting 
	the traffic flow information from the network devices to a controller for 
	monitoring and analytics.  	
	Similarly, without the loss of generality, this document assumes that requested information 
	elements are configured
    by the management plane through data set templates (e.g., as in IPFIX
    <xref target="RFC7012" format="default" sectionFormat="of" derivedContent="RFC7012"/>). 
          </t>
          <t indent="0" pn="section-2.1.1-4">Implementation of the O-flag is <bcp14>OPTIONAL</bcp14>. If a node does not support the
     O-flag, then it simply ignores it upon reception.  If a node supports
     the O-flag, it can optionally advertise its potential via 
     control plane protocol(s). 
          </t>
          <t indent="0" pn="section-2.1.1-5">The following is appended to line S01 of the pseudocode
	  associated with the SID S (as defined in <xref target="RFC8754" sectionFormat="of" section="4.3.1.1" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8754#section-4.3.1.1" derivedContent="RFC8754"/>) when N
	  receives a packet destined to S, S is a local SID, and the O-flag is
	  processed.
          </t>
          <sourcecode type="pseudocode" markers="false" pn="section-2.1.1-6">
   S01.1. IF the O-flag is set and local configuration permits
          O-flag processing {
             a. Make a copy of the packet.
             b. Send the copied packet, along with a timestamp,
             to the OAM process for telemetry data collection
             and export.      ;; Ref1
             }
   Ref1: To provide an accurate timestamp, an implementation should
   copy and record the timestamp as soon as possible during packet
   processing. Timestamp and any other metadata are not carried in
   the packet forwarded to the next hop.
</sourcecode>
          <t indent="0" pn="section-2.1.1-7"> Please note that the O-flag processing happens before execution of regular 
	processing of the local SID S. Specifically, line S01.1 of the pseudocode 
	specified in this document is inserted between lines S01 
    and S02 of the pseudocode defined in <xref target="RFC8754" sectionFormat="of" section="4.3.1.1" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8754#section-4.3.1.1" derivedContent="RFC8754"/>. 
          </t>
          <t indent="0" pn="section-2.1.1-8">
      Based on the 
      requested information elements configured
      by the management plane through data set templates <xref target="RFC7012" format="default" sectionFormat="of" derivedContent="RFC7012"/>, 
      the OAM process exports the requested information elements. 
   The information elements include parts of the packet header and/or parts of 
   the packet payload for flow identification.   
   The OAM process uses information elements defined in 
   IPFIX <xref target="RFC7011" format="default" sectionFormat="of" derivedContent="RFC7011"/> and Packet Sampling (PSAMP) <xref target="RFC5476" format="default" sectionFormat="of" derivedContent="RFC5476"/> for exporting the requested sections 
   of the mirrored packets. 
          </t>
          <t indent="0" pn="section-2.1.1-9">   
    
    If the penultimate segment of a segment list is a PSP SID, 
    telemetry data from the ultimate segment cannot be requested. This is because, 
    when the penultimate segment is a PSP SID,
   the SRH is removed at the penultimate segment, and the O-flag is 
   not processed at the ultimate segment.
    
          </t>
          <t indent="0" pn="section-2.1.1-10">         
      The processing node <bcp14>MUST</bcp14> 
      rate-limit the number of packets punted to the OAM process 
      to a configurable rate. 
      This is to avoid impacting the
      performance of the OAM and 
      telemetry collection processes. Failure to implement the rate 
      limit can lead to a denial-of-service attack, as detailed in <xref target="Security" format="default" sectionFormat="of" derivedContent="Section 3"/>.  
      
          </t>
          <t indent="0" pn="section-2.1.1-11">
     The OAM process <bcp14>MUST NOT</bcp14> process the copy of the packet or respond 
      to any Upper-Layer header 
      (like ICMP, UDP, 
      etc.) payload to prevent multiple evaluations of the datagram. 
          </t>
          <t indent="0" pn="section-2.1.1-12">
      The OAM process is expected to be located on the routing node processing the packet.
      Although the specification of the OAM process or the external controller
      operations are beyond the scope of this document, the OAM process <bcp14>SHOULD NOT</bcp14> be
      topologically distant from the routing node, as this is likely to create significant security
      and congestion issues.  
      How to correlate the data collected from different nodes at an
      external controller is also outside the scope of this document. 
      <xref target="app-illustrations" format="default" sectionFormat="of" derivedContent="Appendix A"/> illustrates use of the O-flag for implementing 
      a hybrid OAM mechanism, where the "hybrid" classification      
      is based on <xref target="RFC7799" format="default" sectionFormat="of" derivedContent="RFC7799"/>. 

          </t>
        </section>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-2.2">
        <name slugifiedName="name-oam-operations">OAM Operations</name>
        <t indent="0" pn="section-2.2-1"> IPv6 OAM operations can be performed for any SRv6 SID whose behavior
   allows Upper-Layer header processing for an applicable OAM payload
   (e.g., ICMP, UDP). 
</t>
        <t indent="0" pn="section-2.2-2"> Ping to an SRv6 SID is used to verify  
   that the SID is reachable and is locally programmed at the target node.
   Traceroute to a SID is used for hop-by-hop
   fault localization as well as path tracing to a SID.  <xref target="app-illustrations" format="default" sectionFormat="of" derivedContent="Appendix A"/>
   illustrates the ICMPv6-based ping and UDP-based traceroute mechanisms
   for ping and traceroute to an SRv6 SID.  Although this document only
   illustrates ICMPv6-based ping and UDP-based traceroute to an SRv6 SID, the procedures are
   equally applicable to other OAM mechanisms that probe an SRv6 SID 
   (e.g., Bidirectional Forwarding Detection (BFD) <xref target="RFC5880" format="default" sectionFormat="of" derivedContent="RFC5880"/>, 
Seamless BFD (S-BFD) <xref target="RFC7880" format="default" sectionFormat="of" derivedContent="RFC7880"/>, and Simple Two-way Active Measurement Protocol (STAMP) probe message processing 
<xref target="I-D.ietf-spring-stamp-srpm" format="default" sectionFormat="of" derivedContent="STAMP-SR"/>).  
Specifically, as
   long as local configuration allows the Upper-Layer header processing of
   the applicable OAM payload for SRv6 SIDs, the existing IPv6 OAM
   techniques can be used to target a probe to a (remote) SID.  
</t>
        <t indent="0" pn="section-2.2-3"> IPv6 OAM operations can be performed with the target SID in the IPv6 
destination address without an SRH or with an SRH where the target SID is the last segment. 
In general, OAM operations to a target SID may not exercise all of its 
processing depending on its behavior definition. 
For example, ping to an End.X SID <xref target="RFC8986" format="default" sectionFormat="of" derivedContent="RFC8986"/>  
only validates the SID is locally programmed at the target node 
and does not validate switching to the 
correct outgoing interface.  
To exercise the behavior 
of a target SID, the OAM operation should construct the probe in a manner 
similar to a data packet that exercises the SID behavior, i.e. to include 
that SID as a transit SID in either an SRH or IPv6 DA of an outer IPv6 header 
or as appropriate 
based on the definition of the SID behavior. 

</t>
      </section>
    </section>
    <section anchor="Security" numbered="true" toc="include" removeInRFC="false" pn="section-3">
      <name slugifiedName="name-security-considerations">Security Considerations</name>
      <t indent="0" pn="section-3-1">  <xref target="RFC8754" format="default" sectionFormat="of" derivedContent="RFC8754"/> defines the notion of an SR domain and 
     use of the SRH within the SR domain.
     The use of OAM procedures described in this document is restricted to an SR domain. 
     For example, similar to SID manipulation, O-flag manipulation is not considered 
     a threat within the SR domain. 
     Procedures for securing an SR domain are defined in Sections <xref target="RFC8754" format="default" section="5.1" sectionFormat="bare" derivedLink="https://rfc-editor.org/rfc/rfc8754#section-5.1" derivedContent="RFC8754"/> and <xref target="RFC8754" format="default" section="7" sectionFormat="bare" derivedLink="https://rfc-editor.org/rfc/rfc8754#section-7" derivedContent="RFC8754"/> of 
     <xref target="RFC8754" format="default" sectionFormat="of" derivedContent="RFC8754"/>. 
      </t>
      <t indent="0" pn="section-3-2">
     As noted in <xref target="RFC8754" format="default" sectionFormat="of" section="7.1" derivedLink="https://rfc-editor.org/rfc/rfc8754#section-7.1" derivedContent="RFC8754"/>, 
     compromised nodes within the SR domain may mount attacks. The O-flag 
     may be set by an attacking node attempting a denial-of-service attack on the 
     OAM process at the segment endpoint node. 
     An implementation correctly implementing 
     the rate limiting described in <xref target="oflag-proc" format="default" sectionFormat="of" derivedContent="Section 2.1.1"/> is not susceptible to that 
     denial-of-service attack. 
     Additionally, SRH flags are protected by the Hashed Message Authentication Code (HMAC) TLV, as 
     described in <xref target="RFC8754" format="default" sectionFormat="of" section="2.1.2.1" derivedLink="https://rfc-editor.org/rfc/rfc8754#section-2.1.2.1" derivedContent="RFC8754"/>. 
     Once an HMAC is generated for a segment list with the O-flag set, 
     it can be used for an arbitrary amount of traffic using that 
     segment list with the O-flag set. 

      </t>
      <t indent="0" pn="section-3-3">
 
     The security properties of the channel used to send exported packets marked 
     by the O-flag will depend on the specific OAM processes used.  
     An on-path attacker able to observe this OAM channel could conduct 
     traffic analysis, or potentially eavesdropping (depending on the OAM configuration), 
     of this telemetry for the entire SR domain from such a vantage point.
     
      </t>
      <t indent="0" pn="section-3-4"> 
     This document does not
     impose any additional security challenges to be considered beyond the
     security threats described in <xref target="RFC4884" format="default" sectionFormat="of" derivedContent="RFC4884"/>, <xref target="RFC4443" format="default" sectionFormat="of" derivedContent="RFC4443"/>, 
     <xref target="RFC0792" format="default" sectionFormat="of" derivedContent="RFC0792"/>, 
    <xref target="RFC8754" format="default" sectionFormat="of" derivedContent="RFC8754"/>, and <xref target="RFC8986" format="default" sectionFormat="of" derivedContent="RFC8986"/>. 
      </t>
    </section>
    <section anchor="PRIVACY" numbered="true" toc="include" removeInRFC="false" pn="section-4">
      <name slugifiedName="name-privacy-considerations">Privacy Considerations</name>
      <t indent="0" pn="section-4-1"> The per-packet marking capabilities of the O-flag provide a granular 
     mechanism to collect telemetry.  When this collection is deployed by an operator 
     with the knowledge and consent of the users, it will enable a variety of diagnostics 
     and monitoring to support the OAM and security operations use cases needed for 
     resilient network operations.  However, this collection mechanism will also 
     provide an explicit protocol mechanism to operators for surveillance and 
     pervasive monitoring use cases done contrary to the user's consent.         
      </t>
    </section>
    <section anchor="IANA" numbered="true" toc="include" removeInRFC="false" pn="section-5">
      <name slugifiedName="name-iana-considerations">IANA Considerations</name>
      <t indent="0" pn="section-5-1">IANA has registered the following in the "Segment
	   Routing Header Flags" subregistry in the "Internet Protocol Version
	   6 (IPv6) Parameters" registry:
      </t>
      <table anchor="iana-table" align="center" pn="table-1">
        <name/>
        <thead>
          <tr>
            <th align="left" colspan="1" rowspan="1">Bit</th>
            <th align="left" colspan="1" rowspan="1">Description</th>
            <th align="left" colspan="1" rowspan="1">Reference</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="left" colspan="1" rowspan="1">2</td>
            <td align="left" colspan="1" rowspan="1">O-flag</td>
            <td align="left" colspan="1" rowspan="1">RFC 9259</td>
          </tr>
        </tbody>
      </table>
    </section>
  </middle>
  <back>
    <displayreference target="I-D.ietf-spring-stamp-srpm" to="STAMP-SR"/>
    <references pn="section-6">
      <name slugifiedName="name-references">References</name>
      <references pn="section-6.1">
        <name slugifiedName="name-normative-references">Normative References</name>
        <reference anchor="RFC2119" target="https://www.rfc-editor.org/info/rfc2119" quoteTitle="true" derivedAnchor="RFC2119">
          <front>
            <title>Key words for use in RFCs to Indicate Requirement Levels</title>
            <author initials="S." surname="Bradner" fullname="S. Bradner">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="1997" month="March"/>
            <abstract>
              <t indent="0">In many standards track documents several words are used to signify the requirements in the specification.  These words are often capitalized. This document defines these words as they should be interpreted in IETF documents.  This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="2119"/>
          <seriesInfo name="DOI" value="10.17487/RFC2119"/>
        </reference>
        <reference anchor="RFC8174" target="https://www.rfc-editor.org/info/rfc8174" quoteTitle="true" derivedAnchor="RFC8174">
          <front>
            <title>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</title>
            <author initials="B." surname="Leiba" fullname="B. Leiba">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2017" month="May"/>
            <abstract>
              <t indent="0">RFC 2119 specifies common key words that may be used in protocol  specifications.  This document aims to reduce the ambiguity by clarifying that only UPPERCASE usage of the key words have the  defined special meanings.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="8174"/>
          <seriesInfo name="DOI" value="10.17487/RFC8174"/>
        </reference>
        <reference anchor="RFC8754" target="https://www.rfc-editor.org/info/rfc8754" quoteTitle="true" derivedAnchor="RFC8754">
          <front>
            <title>IPv6 Segment Routing Header (SRH)</title>
            <author initials="C." surname="Filsfils" fullname="C. Filsfils" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="D." surname="Dukes" fullname="D. Dukes" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Previdi" fullname="S. Previdi">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="J." surname="Leddy" fullname="J. Leddy">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Matsushima" fullname="S. Matsushima">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="D." surname="Voyer" fullname="D. Voyer">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2020" month="March"/>
            <abstract>
              <t indent="0">Segment Routing can be applied to the IPv6 data plane using a new type of Routing Extension Header called the Segment Routing Header (SRH). This document describes the SRH and how it is used by nodes that are Segment Routing (SR) capable.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8754"/>
          <seriesInfo name="DOI" value="10.17487/RFC8754"/>
        </reference>
        <reference anchor="RFC8986" target="https://www.rfc-editor.org/info/rfc8986" quoteTitle="true" derivedAnchor="RFC8986">
          <front>
            <title>Segment Routing over IPv6 (SRv6) Network Programming</title>
            <author initials="C." surname="Filsfils" fullname="C. Filsfils" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="P." surname="Camarillo" fullname="P. Camarillo" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="J." surname="Leddy" fullname="J. Leddy">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="D." surname="Voyer" fullname="D. Voyer">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Matsushima" fullname="S. Matsushima">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="Z." surname="Li" fullname="Z. Li">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2021" month="February"/>
            <abstract>
              <t indent="0">The Segment Routing over IPv6 (SRv6) Network Programming framework enables a network operator or an application to specify a packet processing program by encoding a sequence of instructions in the IPv6 packet header.</t>
              <t indent="0">Each instruction is implemented on one or several nodes in the network and identified by an SRv6 Segment Identifier in the packet.</t>
              <t indent="0">This document defines the SRv6 Network Programming concept and specifies the base set of SRv6 behaviors that enables the creation of interoperable overlays with underlay optimization.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8986"/>
          <seriesInfo name="DOI" value="10.17487/RFC8986"/>
        </reference>
      </references>
      <references pn="section-6.2">
        <name slugifiedName="name-informative-references">Informative References</name>
        <reference anchor="RFC0792" target="https://www.rfc-editor.org/info/rfc792" quoteTitle="true" derivedAnchor="RFC0792">
          <front>
            <title>Internet Control Message Protocol</title>
            <author initials="J." surname="Postel" fullname="J. Postel">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="1981" month="September"/>
          </front>
          <seriesInfo name="STD" value="5"/>
          <seriesInfo name="RFC" value="792"/>
          <seriesInfo name="DOI" value="10.17487/RFC0792"/>
        </reference>
        <reference anchor="RFC2328" target="https://www.rfc-editor.org/info/rfc2328" quoteTitle="true" derivedAnchor="RFC2328">
          <front>
            <title>OSPF Version 2</title>
            <author initials="J." surname="Moy" fullname="J. Moy">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="1998" month="April"/>
            <abstract>
              <t indent="0">This memo documents version 2 of the OSPF protocol.  OSPF is a link- state routing protocol.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="STD" value="54"/>
          <seriesInfo name="RFC" value="2328"/>
          <seriesInfo name="DOI" value="10.17487/RFC2328"/>
        </reference>
        <reference anchor="RFC4443" target="https://www.rfc-editor.org/info/rfc4443" quoteTitle="true" derivedAnchor="RFC4443">
          <front>
            <title>Internet Control Message Protocol (ICMPv6) for the Internet Protocol Version 6 (IPv6) Specification</title>
            <author initials="A." surname="Conta" fullname="A. Conta">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Deering" fullname="S. Deering">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Gupta" fullname="M. Gupta" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2006" month="March"/>
            <abstract>
              <t indent="0">This document describes the format of a set of control messages used in ICMPv6 (Internet Control Message Protocol).  ICMPv6 is the Internet Control Message Protocol for Internet Protocol version 6 (IPv6).  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="STD" value="89"/>
          <seriesInfo name="RFC" value="4443"/>
          <seriesInfo name="DOI" value="10.17487/RFC4443"/>
        </reference>
        <reference anchor="RFC4884" target="https://www.rfc-editor.org/info/rfc4884" quoteTitle="true" derivedAnchor="RFC4884">
          <front>
            <title>Extended ICMP to Support Multi-Part Messages</title>
            <author initials="R." surname="Bonica" fullname="R. Bonica">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="D." surname="Gan" fullname="D. Gan">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="D." surname="Tappan" fullname="D. Tappan">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="C." surname="Pignataro" fullname="C. Pignataro">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2007" month="April"/>
            <abstract>
              <t indent="0">This document redefines selected ICMP messages to support multi-part operation.  A multi-part ICMP message carries all of the information that ICMP messages carried previously, as well as additional information that applications may require.</t>
              <t indent="0">Multi-part messages are supported by an ICMP extension structure. The extension structure is situated at the end of the ICMP message. It includes an extension header followed by one or more extension objects.  Each extension object contains an object header and object payload.  All object headers share a common format.</t>
              <t indent="0">This document further redefines the above mentioned ICMP messages by specifying a length attribute.  All of the currently defined ICMP messages to which an extension structure can be appended include an "original datagram" field.  The "original datagram" field contains the initial octets of the datagram that elicited the ICMP error message.  Although the original datagram field is of variable length, the ICMP message does not include a field that specifies its length. Therefore, in order to facilitate message parsing, this document allocates eight previously reserved bits to reflect the length of the "original datagram" field.</t>
              <t indent="0">The proposed modifications change the requirements for ICMP compliance.  The impact of these changes on compliant implementations is discussed, and new requirements for future implementations are presented.</t>
              <t indent="0">This memo updates RFC 792 and RFC 4443.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="4884"/>
          <seriesInfo name="DOI" value="10.17487/RFC4884"/>
        </reference>
        <reference anchor="RFC5476" target="https://www.rfc-editor.org/info/rfc5476" quoteTitle="true" derivedAnchor="RFC5476">
          <front>
            <title>Packet Sampling (PSAMP) Protocol Specifications</title>
            <author initials="B." surname="Claise" fullname="B. Claise" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="A." surname="Johnson" fullname="A. Johnson">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="J." surname="Quittek" fullname="J. Quittek">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2009" month="March"/>
            <abstract>
              <t indent="0">This document specifies the export of packet information from a Packet SAMPling (PSAMP) Exporting Process to a PSAMP Collecting Process.   For export of packet information, the IP Flow Information eXport (IPFIX) protocol is used, as both the IPFIX and PSAMP architecture match very well, and the means provided by the IPFIX protocol are sufficient.  The document specifies in detail how the IPFIX protocol is used for PSAMP export of packet information.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5476"/>
          <seriesInfo name="DOI" value="10.17487/RFC5476"/>
        </reference>
        <reference anchor="RFC5837" target="https://www.rfc-editor.org/info/rfc5837" quoteTitle="true" derivedAnchor="RFC5837">
          <front>
            <title>Extending ICMP for Interface and Next-Hop Identification</title>
            <author initials="A." surname="Atlas" fullname="A. Atlas" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Bonica" fullname="R. Bonica" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="C." surname="Pignataro" fullname="C. Pignataro" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="N." surname="Shen" fullname="N. Shen">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="JR." surname="Rivers" fullname="JR. Rivers">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2010" month="April"/>
            <abstract>
              <t indent="0">This memo defines a data structure that can be appended to selected ICMP messages.  The ICMP extension defined herein can be used to identify any combination of the following: the IP interface upon which a datagram arrived, the sub-IP component of an IP interface upon which a datagram arrived, the IP interface through which the datagram would have been forwarded had it been forwardable, and the IP next hop to which the datagram would have been forwarded.</t>
              <t indent="0">Devices can use this ICMP extension to identify interfaces and their components by any combination of the following: ifIndex, IPv4 address, IPv6 address, name, and MTU.  ICMP-aware devices can use these extensions to identify both numbered and unnumbered interfaces.   [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5837"/>
          <seriesInfo name="DOI" value="10.17487/RFC5837"/>
        </reference>
        <reference anchor="RFC5880" target="https://www.rfc-editor.org/info/rfc5880" quoteTitle="true" derivedAnchor="RFC5880">
          <front>
            <title>Bidirectional Forwarding Detection (BFD)</title>
            <author initials="D." surname="Katz" fullname="D. Katz">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="D." surname="Ward" fullname="D. Ward">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2010" month="June"/>
            <abstract>
              <t indent="0">This document describes a protocol intended to detect faults in the bidirectional path between two forwarding engines, including interfaces, data link(s), and to the extent possible the forwarding engines themselves, with potentially very low latency.  It operates independently of media, data protocols, and routing protocols. [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5880"/>
          <seriesInfo name="DOI" value="10.17487/RFC5880"/>
        </reference>
        <reference anchor="RFC7011" target="https://www.rfc-editor.org/info/rfc7011" quoteTitle="true" derivedAnchor="RFC7011">
          <front>
            <title>Specification of the IP Flow Information Export (IPFIX) Protocol for the Exchange of Flow Information</title>
            <author initials="B." surname="Claise" fullname="B. Claise" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B." surname="Trammell" fullname="B. Trammell" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="P." surname="Aitken" fullname="P. Aitken">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2013" month="September"/>
            <abstract>
              <t indent="0">This document specifies the IP Flow Information Export (IPFIX) protocol, which serves as a means for transmitting Traffic Flow information over the network.  In order to transmit Traffic Flow information from an Exporting Process to a Collecting Process, a common representation of flow data and a standard means of communicating them are required.  This document describes how the IPFIX Data and Template Records are carried over a number of transport protocols from an IPFIX Exporting Process to an IPFIX Collecting Process.  This document obsoletes RFC 5101.</t>
            </abstract>
          </front>
          <seriesInfo name="STD" value="77"/>
          <seriesInfo name="RFC" value="7011"/>
          <seriesInfo name="DOI" value="10.17487/RFC7011"/>
        </reference>
        <reference anchor="RFC7012" target="https://www.rfc-editor.org/info/rfc7012" quoteTitle="true" derivedAnchor="RFC7012">
          <front>
            <title>Information Model for IP Flow Information Export (IPFIX)</title>
            <author initials="B." surname="Claise" fullname="B. Claise" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B." surname="Trammell" fullname="B. Trammell" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2013" month="September"/>
            <abstract>
              <t indent="0">This document defines the data types and management policy for the information model for the IP Flow Information Export (IPFIX) protocol.  This information model is maintained as the IANA "IPFIX                         Information Elements" registry, the initial contents of which were defined by RFC 5102.  This information model is used by the IPFIX protocol for encoding measured traffic information and information related to the traffic Observation Point, the traffic Metering Process, and the Exporting Process.  Although this model was developed for the IPFIX protocol, it is defined in an open way that allows it to be easily used in other protocols, interfaces, and applications. This document obsoletes RFC 5102.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7012"/>
          <seriesInfo name="DOI" value="10.17487/RFC7012"/>
        </reference>
        <reference anchor="RFC7799" target="https://www.rfc-editor.org/info/rfc7799" quoteTitle="true" derivedAnchor="RFC7799">
          <front>
            <title>Active and Passive Metrics and Methods (with Hybrid Types In-Between)</title>
            <author initials="A." surname="Morton" fullname="A. Morton">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2016" month="May"/>
            <abstract>
              <t indent="0">This memo provides clear definitions for Active and Passive performance assessment.  The construction of Metrics and Methods can be described as either "Active" or "Passive".  Some methods may use a subset of both Active and Passive attributes, and we refer to these as "Hybrid Methods".  This memo also describes multiple dimensions to help evaluate new methods as they emerge.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7799"/>
          <seriesInfo name="DOI" value="10.17487/RFC7799"/>
        </reference>
        <reference anchor="RFC7880" target="https://www.rfc-editor.org/info/rfc7880" quoteTitle="true" derivedAnchor="RFC7880">
          <front>
            <title>Seamless Bidirectional Forwarding Detection (S-BFD)</title>
            <author initials="C." surname="Pignataro" fullname="C. Pignataro">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="D." surname="Ward" fullname="D. Ward">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="N." surname="Akiya" fullname="N. Akiya">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Bhatia" fullname="M. Bhatia">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Pallagatti" fullname="S. Pallagatti">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2016" month="July"/>
            <abstract>
              <t indent="0">This document defines Seamless Bidirectional Forwarding Detection (S-BFD), a simplified mechanism for using BFD with a large proportion of negotiation aspects eliminated, thus providing benefits such as quick provisioning, as well as improved control and flexibility for network nodes initiating path monitoring.</t>
              <t indent="0">This document updates RFC 5880.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7880"/>
          <seriesInfo name="DOI" value="10.17487/RFC7880"/>
        </reference>
        <reference anchor="RFC8402" target="https://www.rfc-editor.org/info/rfc8402" quoteTitle="true" derivedAnchor="RFC8402">
          <front>
            <title>Segment Routing Architecture</title>
            <author initials="C." surname="Filsfils" fullname="C. Filsfils" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Previdi" fullname="S. Previdi" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="L." surname="Ginsberg" fullname="L. Ginsberg">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B." surname="Decraene" fullname="B. Decraene">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Litkowski" fullname="S. Litkowski">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Shakir" fullname="R. Shakir">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2018" month="July"/>
            <abstract>
              <t indent="0">Segment Routing (SR) leverages the source routing paradigm.  A node steers a packet through an ordered list of instructions, called "segments".  A segment can represent any instruction, topological or service based.  A segment can have a semantic local to an SR node or global within an SR domain.  SR provides a mechanism that allows a flow to be restricted to a specific topological path, while maintaining per-flow state only at the ingress node(s) to the SR domain.</t>
              <t indent="0">SR can be directly applied to the MPLS architecture with no change to the forwarding plane.  A segment is encoded as an MPLS label.  An ordered list of segments is encoded as a stack of labels.  The segment to process is on the top of the stack.  Upon completion of a segment, the related label is popped from the stack.</t>
              <t indent="0">SR can be applied to the IPv6 architecture, with a new type of routing header.  A segment is encoded as an IPv6 address.  An ordered list of segments is encoded as an ordered list of IPv6 addresses in the routing header.  The active segment is indicated by the Destination Address (DA) of the packet.  The next active segment is indicated by a pointer in the new routing header.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8402"/>
          <seriesInfo name="DOI" value="10.17487/RFC8402"/>
        </reference>
        <reference anchor="RFC8403" target="https://www.rfc-editor.org/info/rfc8403" quoteTitle="true" derivedAnchor="RFC8403">
          <front>
            <title>A Scalable and Topology-Aware MPLS Data-Plane Monitoring System</title>
            <author initials="R." surname="Geib" fullname="R. Geib" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="C." surname="Filsfils" fullname="C. Filsfils">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="C." surname="Pignataro" fullname="C. Pignataro" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="N." surname="Kumar" fullname="N. Kumar">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2018" month="July"/>
            <abstract>
              <t indent="0">This document describes features of an MPLS path monitoring system and related use cases.  Segment-based routing enables a scalable and simple method to monitor data-plane liveliness of the complete set of paths belonging to a single domain.  The MPLS monitoring system adds features to the traditional MPLS ping and Label Switched Path (LSP) trace, in a very complementary way.  MPLS topology awareness reduces management and control-plane involvement of Operations, Administration, and Maintenance (OAM) measurements while enabling new OAM features.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8403"/>
          <seriesInfo name="DOI" value="10.17487/RFC8403"/>
        </reference>
        <reference anchor="RFC8571" target="https://www.rfc-editor.org/info/rfc8571" quoteTitle="true" derivedAnchor="RFC8571">
          <front>
            <title>BGP - Link State (BGP-LS) Advertisement of IGP Traffic Engineering Performance Metric Extensions</title>
            <author initials="L." surname="Ginsberg" fullname="L. Ginsberg" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Previdi" fullname="S. Previdi">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="Q." surname="Wu" fullname="Q. Wu">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="J." surname="Tantsura" fullname="J. Tantsura">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="C." surname="Filsfils" fullname="C. Filsfils">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2019" month="March"/>
            <abstract>
              <t indent="0">This document defines new BGP - Link State (BGP-LS) TLVs in order to carry the IGP Traffic Engineering Metric Extensions defined in the IS-IS and OSPF protocols.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8571"/>
          <seriesInfo name="DOI" value="10.17487/RFC8571"/>
        </reference>
        <reference anchor="RFC9197" target="https://www.rfc-editor.org/info/rfc9197" quoteTitle="true" derivedAnchor="RFC9197">
          <front>
            <title>Data Fields for In Situ Operations, Administration, and Maintenance (IOAM)</title>
            <author initials="F." surname="Brockners" fullname="F. Brockners" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Bhandari" fullname="S. Bhandari" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="T." surname="Mizrahi" fullname="T. Mizrahi" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2022" month="May"/>
            <abstract>
              <t indent="0">In situ Operations, Administration, and Maintenance (IOAM) collects operational and telemetry information in the packet while the packet traverses a path between two points in the network. This document discusses the data fields and associated data types for IOAM. IOAM-Data-Fields can be encapsulated into a variety of protocols, such as Network Service Header (NSH), Segment Routing, Generic Network Virtualization Encapsulation (Geneve), or IPv6.  IOAM can be used to complement OAM mechanisms based on, e.g., ICMP or other types of probe packets.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="9197"/>
          <seriesInfo name="DOI" value="10.17487/RFC9197"/>
        </reference>
        <reference anchor="I-D.ietf-spring-stamp-srpm" quoteTitle="true" target="https://datatracker.ietf.org/doc/html/draft-ietf-spring-stamp-srpm-03" derivedAnchor="STAMP-SR">
          <front>
            <title>Performance Measurement Using Simple TWAMP (STAMP) for Segment Routing Networks</title>
            <author fullname="Rakesh Gandhi" role="editor">
              <organization showOnFrontPage="true">Cisco Systems, Inc.</organization>
            </author>
            <author fullname="Clarence Filsfils">
              <organization showOnFrontPage="true">Cisco Systems, Inc.</organization>
            </author>
            <author fullname="Daniel Voyer">
              <organization showOnFrontPage="true">Bell Canada</organization>
            </author>
            <author fullname="Mach(Guoyi) Chen">
              <organization showOnFrontPage="true">Huawei</organization>
            </author>
            <author fullname="Bart Janssens">
              <organization showOnFrontPage="true">Colt</organization>
            </author>
            <author fullname="Richard Foote">
              <organization showOnFrontPage="true">Nokia</organization>
            </author>
            <date month="February" day="1" year="2022"/>
          </front>
          <seriesInfo name="Internet-Draft" value="draft-ietf-spring-stamp-srpm-03"/>
          <format type="TXT" target="https://www.ietf.org/archive/id/draft-ietf-spring-stamp-srpm-03.txt"/>
          <refcontent>Work in Progress</refcontent>
        </reference>
      </references>
    </references>
    <section anchor="app-illustrations" numbered="true" toc="include" removeInRFC="false" pn="section-appendix.a">
      <name slugifiedName="name-illustrations">Illustrations</name>
      <t indent="0" pn="section-appendix.a-1"> This appendix shows how some of the
   existing IPv6 OAM mechanisms can be used in an SRv6 network. It also  
   illustrates an OAM mechanism for
   performing controllable and predictable flow sampling from segment
   endpoints. How the centralized OAM technique in 
   <xref target="RFC8403" format="default" sectionFormat="of" derivedContent="RFC8403"/> can be extended for SRv6 is also described in this appendix. 
      </t>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-appendix.a.1">
        <name slugifiedName="name-ping-in-srv6-networks">Ping in SRv6 Networks</name>
        <t indent="0" pn="section-appendix.a.1-1"> The existing mechanism to perform the reachability checks, 
     along the shortest path, continues to work without any modification. 
     Any IPv6 node (SRv6-capable or non-SRv6-capable) can initiate, transit, 
     and egress a ping packet. 

        </t>
        <t indent="0" pn="section-appendix.a.1-2"> The following subsections outline some additional use cases of ICMPv6 ping in
     SRv6 networks. 
        </t>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-appendix.a.1.1">
          <name slugifiedName="name-pinging-an-ipv6-address-via">Pinging an IPv6 Address via a Segment List</name>
          <t indent="0" pn="section-appendix.a.1.1-1"> If an SRv6-capable ingress node wants to ping an IPv6 address via an
     arbitrary segment list &lt;S1, S2, S3&gt;, it needs to initiate an ICMPv6
     ping with an SR header containing the SID list &lt;S1, S2, S3&gt;. This is
     illustrated using the topology in <xref target="ref-top" format="default" sectionFormat="of" derivedContent="Figure 1"/>. The user issues a ping from node N1 to a
     loopback of node N5 via segment list &lt;2001:db8:K:2:X31::, 2001:db8:K:4:X52::&gt;. 
     The SID behavior used in the example is End.X,  
     as described in <xref target="RFC8986" format="default" sectionFormat="of" derivedContent="RFC8986"/>, but the procedure is 
     equally applicable to any other (transit) SID type. 
          </t>
          <t indent="0" pn="section-appendix.a.1.1-2"><xref target="sample-ping" format="default" sectionFormat="of" derivedContent="Figure 2"/> contains sample output for a ping request initiated at node
     N1 to a loopback address of node N5 via segment list &lt;2001:db8:K:2:X31::,
     2001:db8:K:4:X52::&gt;.
          </t>
          <figure anchor="sample-ping" align="left" suppress-title="false" pn="figure-2">
            <name slugifiedName="name-sample-ping-output-at-an-sr">Sample Ping Output at an SRv6-Capable Node</name>
            <artwork name="" type="" align="left" alt="" pn="section-appendix.a.1.1-3.1">
    &gt; ping 2001:db8:L:5:: via segment list 2001:db8:K:2:X31::, 
           2001:db8:K:4:X52::

    Sending 5, 100-byte ICMPv6 Echos to B5::, timeout is 2 seconds:
    !!!!!
    Success rate is 100 percent (5/5), round-trip min/avg/max = 0.625
    /0.749/0.931 ms
</artwork>
          </figure>
          <t indent="0" pn="section-appendix.a.1.1-4"> All transit nodes process the echo request message like any other
     data packet carrying an SR header and hence do not require any change.
     Similarly, the egress node does not
     require any change to process the ICMPv6 echo request. For example,
     in the example in <xref target="sample-ping" format="default" sectionFormat="of" derivedContent="Figure 2"/>:
     
          </t>
          <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-appendix.a.1.1-5">
            <li pn="section-appendix.a.1.1-5.1">Node N1 initiates an ICMPv6 ping packet with the SRH as follows:
          (2001:db8:L:1::, 2001:db8:K:2:X31::)
          (2001:db8:L:5::, 2001:db8:K:4:X52::, 2001:db8:K:2:X31::, SL=2, 
          NH = ICMPv6)(ICMPv6 Echo Request). 
          </li>
            <li pn="section-appendix.a.1.1-5.2">Node N2, which is an SRv6-capable node, performs the standard
          SRH processing. Specifically, it executes the End.X behavior 
          indicated by the 2001:db8:K:2:X31:: SID and forwards the packet on link3 to node N3.</li>
            <li pn="section-appendix.a.1.1-5.3"> Node N3, which is a non-SRv6-capable node, performs the standard
          IPv6 processing. Specifically, it forwards the echo request
          based on DA 2001:db8:K:4:X52:: in the IPv6 header. </li>
            <li pn="section-appendix.a.1.1-5.4"> Node N4, which is an SRv6-capable node, performs the standard
          SRH processing. Specifically, it observes the End.X behavior
          (2001:db8:K:4:X52::) and forwards the packet on link10 towards node N5. 
          If 2001:db8:K:4:X52:: is a PSP SID,
          the penultimate node (node N4) does not, should not, and cannot differentiate 
          between the data packets and OAM probes. 
          Specifically, if 2001:db8:K:4:X52:: is a PSP SID, 
          node N4 executes the SID like any other data packet with DA = 2001:db8:K:4:X52:: 
          and removes the SRH. 
          </li>
            <li pn="section-appendix.a.1.1-5.5"> The echo request packet at node N5 arrives as an IPv6 packet with or 
          without an SRH. If node N5 receives the packet with an SRH, it skips SRH processing (SL=0). 
          In either case, node N5 performs the
          standard ICMPv6 processing on the echo request and responds with the 
          echo reply message to node N1. The echo reply message is IP routed. 
          
          </li>
          </ul>
        </section>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-appendix.a.1.2">
          <name slugifiedName="name-pinging-a-sid">Pinging a SID</name>
          <t indent="0" pn="section-appendix.a.1.2-1">
   The ping mechanism described above can also be used to perform SID
   reachability checks and to validate that the SID is locally programmed at
   the target node.
 	   This is explained in the
   following example. The example uses ping to an End SID, as described in <xref target="RFC8986" format="default" sectionFormat="of" derivedContent="RFC8986"/>, 
   but the procedure is 
     equally applicable to ping any other SID behaviors. 
          </t>
          <t indent="0" pn="section-appendix.a.1.2-2">  Consider the example where the user wants to ping a remote
          SID 2001:db8:K:4::, via 2001:db8:K:2:X31::, from node N1. 
          The ICMPv6 echo request is processed at the individual nodes
          along the path as follows: 
          
          </t>
          <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-appendix.a.1.2-3">
            <li pn="section-appendix.a.1.2-3.1">Node N1 initiates an ICMPv6 ping packet with the SRH as follows:
          (2001:db8:L:1::, 2001:db8:K:2:X31::)
          (2001:db8:K:4::, 2001:db8:K:2:X31::; SL=1;
          NH=ICMPv6)(ICMPv6 Echo Request).  </li>
            <li pn="section-appendix.a.1.2-3.2">Node N2, which is an SRv6-capable node, performs the standard
          SRH processing. Specifically, it executes the End.X behavior 
          indicated by the 2001:db8:K:2:X31:: SID on the echo request packet. If 
          2001:db8:K:2:X31:: is a PSP SID, node N4 executes the SID like any	 		
      other data packet with DA = 2001:db8:K:2:X31:: and removes the	 		
      SRH. 
          </li>
            <li pn="section-appendix.a.1.2-3.3"> Node N3, which is a non-SRv6-capable node, performs
          the standard IPv6 processing. Specifically, it forwards the
          echo request based on DA = 2001:db8:K:4:: in the IPv6 header.</li>
            <li pn="section-appendix.a.1.2-3.4">When node N4 receives the packet, it
          processes the target SID (2001:db8:K:4::). </li>
            <li pn="section-appendix.a.1.2-3.5"> If the target SID (2001:db8:K:4::) is not locally instantiated  
          and does not represent a local interface,
          the packet is discarded </li>
            <li pn="section-appendix.a.1.2-3.6">
          If the target SID (2001:db8:K:4::) is locally instantiated or 
          represents a local interface, the node processes 
          the Upper-Layer header. 
          As part of the Upper-Layer header processing, node N4 responds
          to the ICMPv6 echo request message with an
          echo reply message. The echo reply message is IP routed. 
          
          </li>
          </ul>
        </section>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-appendix.a.2">
        <name slugifiedName="name-traceroute-in-srv6-networks">Traceroute in SRv6 Networks</name>
        <t indent="0" pn="section-appendix.a.2-1">  The existing traceroute
     mechanisms, along the shortest path, continue to work without any modification. 
     Any IPv6 node (SRv6-capable or a non-SRv6-capable) can initiate, transit, 
     and egress a traceroute probe. 

        </t>
        <t indent="0" pn="section-appendix.a.2-2"> 
     The following subsections outline some additional use cases of traceroute
     in SRv6 networks. 
        </t>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-appendix.a.2.1">
          <name slugifiedName="name-traceroute-to-an-ipv6-addre">Traceroute to an IPv6 Address via a Segment List</name>
          <t indent="0" pn="section-appendix.a.2.1-1">  If an SRv6-capable ingress node wants to traceroute to an IPv6 address
     via an arbitrary segment list &lt;S1, S2, S3&gt;, it needs to initiate
     a traceroute probe with an SR header containing the SID list 
     &lt;S1, S2, S3&gt;. The user issues a traceroute
     from node N1 to a loopback of node N5 via segment list 
     &lt;2001:db8:K:2:X31::, 2001:db8:K:4:X52::&gt;. 
     The SID behavior used in the example is End.X, as described in 
      <xref target="RFC8986" format="default" sectionFormat="of" derivedContent="RFC8986"/>, 
 	   but the procedure is equally applicable to any other (transit) SID	
 	   type.    
     
     <xref target="sample-traceroute" format="default" sectionFormat="of" derivedContent="Figure 3"/> contains sample output for the traceroute
     request. 
          </t>
          <figure anchor="sample-traceroute" align="left" suppress-title="false" pn="figure-3">
            <name slugifiedName="name-sample-traceroute-output-at">Sample Traceroute Output at an SRv6-Capable Node</name>
            <artwork name="" type="" align="left" alt="" pn="section-appendix.a.2.1-2.1">
&gt; traceroute 2001:db8:L:5:: via segment list 2001:db8:K:2:X31::, 
             2001:db8:K:4:X52::

Tracing the route to 2001:db8:L:5::
1  2001:db8:2:1:21:: 0.512 msec 0.425 msec 0.374 msec
   DA: 2001:db8:K:2:X31::, 
   SRH:(2001:db8:L:5::, 2001:db8:K:4:X52::, 2001:db8:K:2:X31::, SL=2)
2  2001:db8:3:2:31:: 0.721 msec 0.810 msec 0.795 msec
   DA: 2001:db8:K:4:X52::, 
   SRH:(2001:db8:L:5::, 2001:db8:K:4:X52::, 2001:db8:K:2:X31::, SL=1)
3  2001:db8:4:3::41:: 0.921 msec 0.816 msec 0.759 msec
   DA: 2001:db8:K:4:X52::, 
   SRH:(2001:db8:L:5::, 2001:db8:K:4:X52::, 2001:db8:K:2:X31::, SL=1)
4  2001:db8:5:4::52:: 0.879 msec 0.916 msec 1.024 msec
   DA: 2001:db8:L:5::
</artwork>
          </figure>
          <t indent="0" pn="section-appendix.a.2.1-3">  In the sample traceroute output, the information displayed at each hop 
	is obtained using the contents of the "Time Exceeded" or 
	"Destination Unreachable" ICMPv6 responses. These ICMPv6 responses 
	are IP routed. 
	
          </t>
          <t indent="0" pn="section-appendix.a.2.1-4"> In the sample traceroute output, the information for link3 is 
     returned by node N3, which is a
     non-SRv6-capable node. Nonetheless, the ingress node is able to display
     SR header contents as the packet travels through the non-SRv6-capable node. 
     This is because the "Time Exceeded" ICMPv6 message can
     contain as much of the invoking packet as possible without the 
     ICMPv6 packet exceeding the minimum IPv6 MTU <xref target="RFC4443" format="default" sectionFormat="of" derivedContent="RFC4443"/>. The SR
     header is included in these ICMPv6 messages initiated by the
     non-SRv6-capable transit nodes that are not running SRv6 software.
     Specifically, a node generating an ICMPv6 message containing a copy of
     the invoking packet does not need to understand the extension
     header(s) in the invoking packet.
          </t>
          <t indent="0" pn="section-appendix.a.2.1-5">  The segment list information returned for the first hop is returned by node N2,
     which is an SRv6-capable node. Just like for the second hop, the ingress node
     is able to display SR header contents for the first hop.
          </t>
          <t indent="0" pn="section-appendix.a.2.1-6">  There is no difference in processing of the traceroute probe at an
     SRv6-capable and a non-SRv6-capable node. Similarly, both SRv6-capable and 
     non-SRv6-capable nodes may use the address of the interface on
     which probe was received as the source address in the ICMPv6
     response. ICMPv6 extensions defined in <xref target="RFC5837" format="default" sectionFormat="of" derivedContent="RFC5837"/> can be used to 
     display information about the IP interface through which the
     datagram would have been forwarded had it been forwardable, the
     IP next hop to which the datagram would have been forwarded, the IP
     interface upon which the datagram arrived, and the sub-IP component of an
     IP interface upon which the datagram arrived. 
          </t>
          <t indent="0" pn="section-appendix.a.2.1-7">  The IP address of the interface on which the traceroute probe was received
     is useful. This information can also be used to verify if SIDs
     2001:db8:K:2:X31:: and 2001:db8:K:4:X52:: are executed correctly by nodes N2 and N4,
     respectively. Specifically, the information displayed for the second hop
     contains the incoming interface address 2001:db8:2:3:31:: at node N3.
     This matches the expected interface bound to End.X behavior
     2001:db8:K:2:X31:: (link3). Similarly, the information displayed for the fourth hop
     contains the incoming interface address 2001:db8:4:5::52:: at node N5.
     This matches the expected interface bound to the End.X behavior
     2001:db8:K:4:X52:: (link10). 
          </t>
        </section>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-appendix.a.2.2">
          <name slugifiedName="name-traceroute-to-a-sid">Traceroute to a SID</name>
          <t indent="0" pn="section-appendix.a.2.2-1">The mechanism to traceroute an IPv6 address via a segment list
          described in the previous section can also be used to traceroute a
          remote SID behavior, as explained in the following example.  The
          example uses traceroute to an End SID, as described in <xref target="RFC8986" format="default" sectionFormat="of" derivedContent="RFC8986"/>, but the procedure is equally
          applicable to tracerouting any other SID behaviors.
          </t>
          <t indent="0" pn="section-appendix.a.2.2-2">  Please note that traceroute to a SID is
     exemplified using UDP probes. However, the procedure is equally
     applicable to other implementations of traceroute mechanism.     
     The UDP encoded message to traceroute a SID would use the UDP ports 
     assigned by IANA for "traceroute use". 
          </t>
          <t indent="0" pn="section-appendix.a.2.2-3"> Consider the example where the user wants to traceroute a remote SID
    2001:db8:K:4::, via 2001:db8:K:2:X31::, from node N1. The
     traceroute probe is processed at the individual nodes along the path
     as follows: 
     
          </t>
          <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-appendix.a.2.2-4">
            <li pn="section-appendix.a.2.2-4.1">Node N1 initiates a traceroute probe packet as follows
          (2001:db8:L:1::, 2001:db8:K:2:X31::)
          (2001:db8:K:4::, 2001:db8:K:2:X31::; SL=1; NH=UDP)(Traceroute probe). 
          The first traceroute probe is sent with the hop-count value set to 1. 
          The hop-count value is incremented by 1 for each subsequent traceroute probe. 

           </li>
            <li pn="section-appendix.a.2.2-4.2">When node N2 receives the packet with hop-count = 1, it
          processes the hop-count expiry. Specifically, node N2
          responds with the ICMPv6 message with type "Time Exceeded" and code
          "hop limit exceeded in transit". The ICMPv6 response 
	      is IP routed. 
	      
          </li>
            <li pn="section-appendix.a.2.2-4.3">When node N2 receives the packet with hop-count &gt; 1, it
          performs the standard SRH processing. Specifically, it executes
          the End.X behavior indicated by the 
          2001:db8:K:2:X31:: SID on the traceroute probe. 
          If 2001:db8:K:2:X31:: is a PSP SID, 
      node N2 executes the SID like any other data packet with DA = 2001:db8:K:2:X31:: 
      and removes the SRH. 
          </li>
            <li pn="section-appendix.a.2.2-4.4">When node N3, which is a non-SRv6-capable node, receives the packet
          with hop-count = 1, it processes the
          hop-count expiry. Specifically, node N3 responds with the
          ICMPv6 message with type "Time Exceeded" and code "Hop limit 
          exceeded in transit". The ICMPv6 response is IP routed. 
	
          </li>
            <li pn="section-appendix.a.2.2-4.5">When node N3, which is a non-SRv6-capable node, receives the packet
          with hop-count &gt; 1, it performs the standard IPv6 processing.
          Specifically, it forwards the traceroute probe based on DA
          2001:db8:K:4:: in the IPv6 header. </li>
            <li pn="section-appendix.a.2.2-4.6">When node N4 receives the packet with DA set to the local SID 2001:db8:K:4::, it
          processes the End SID. </li>
            <li pn="section-appendix.a.2.2-4.7">  If the target SID (2001:db8:K:4::) is not locally instantiated and 
          does not represent a local interface, the packet is discarded. 
     </li>
            <li pn="section-appendix.a.2.2-4.8">
          If the target SID (2001:db8:K:4::) is locally instantiated or represents a 
          local interface, the node processes 
          the Upper-Layer header. 
	  As part of the Upper-Layer header processing, node N4 responds
          with the ICMPv6 message with type "Destination Unreachable" and code
          "Port Unreachable". The ICMPv6 response 
	     is IP routed. 
	     
          </li>
          </ul>
          <t indent="0" pn="section-appendix.a.2.2-5"><xref target="sample-output" format="default" sectionFormat="of" derivedContent="Figure 4"/> displays a sample traceroute output for this example. 
     
          </t>
          <figure anchor="sample-output" align="left" suppress-title="false" pn="figure-4">
            <name slugifiedName="name-sample-output-for-hop-by-ho">Sample Output for Hop-by-Hop Traceroute to a SID</name>
            <artwork name="" type="" align="left" alt="" pn="section-appendix.a.2.2-6.1">
  &gt; traceroute 2001:db8:K:4:X52:: via segment list 2001:db8:K:2:X31::

  Tracing the route to SID 2001:db8:K:4:X52::
  1  2001:db8:2:1:21:: 0.512 msec 0.425 msec 0.374 msec
     DA: 2001:db8:K:2:X31::, 
     SRH:(2001:db8:K:4:X52::, 2001:db8:K:2:X31::; SL=1)
  2  2001:db8:3:2:21:: 0.721 msec 0.810 msec 0.795 msec
     DA: 2001:db8:K:4:X52::, 
     SRH:(2001:db8:K:4:X52::, 2001:db8:K:2:X31::; SL=0)
  3  2001:db8:4:3:41:: 0.921 msec 0.816 msec 0.759 msec
     DA: 2001:db8:K:4:X52::, 
     SRH:(2001:db8:K:4:X52::, 2001:db8:K:2:X31::; SL=0)
</artwork>
          </figure>
        </section>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-appendix.a.3">
        <name slugifiedName="name-hybrid-oam-using-the-oam-fl">Hybrid OAM Using the OAM Flag</name>
        <t indent="0" pn="section-appendix.a.3-1"> This section illustrates a hybrid OAM mechanism using 
    the O-flag. Without loss of the generality, the illustration 
    assumes node N100 is a centralized controller. 
        </t>
        <t indent="0" pn="section-appendix.a.3-2">
    This illustration is different from the "in situ OAM" defined in <xref target="RFC9197" format="default" sectionFormat="of" derivedContent="RFC9197"/>.  This is because in situ OAM records
    operational and telemetry information in the packet as the packet
    traverses a path between two points in the network <xref target="RFC9197" format="default" sectionFormat="of" derivedContent="RFC9197"/>.  The illustration in this subsection does not require
    the recording of OAM data in the packet.
        
</t>
        <t indent="0" pn="section-appendix.a.3-3">    
The illustration does not assume any formats for exporting the data
	elements or the data elements that need to be exported. 
	The illustration assumes system clocks among all nodes in the SR domain are synchronized. 
</t>
        <t indent="0" pn="section-appendix.a.3-4">  Consider the example where the user wants to monitor sampled IPv4 
    VPN 999 traffic going from CE1 to CE2 via a low-latency SR Policy P installed 
    at node N1. 
    To exercise a low-latency path, the SR Policy P forces the packet via segments 
    2001:db8:K:2:X31:: and 2001:db8:K:4:X52::. 
    The VPN SID at node N7 associated with VPN 999 is 2001:db8:K:7:DT999::. 
    2001:db8:K:7:DT999:: is a USP SID. 
    Nodes N1, N4, and N7 are capable of processing the O-flag, but 
    node N2 is not capable of processing the O-flag. 
    Node N100 is the centralized controller capable of processing and correlating 
    the copy of the packets sent from nodes N1, N4, and N7.     
    Node N100 is aware of O-flag processing capabilities.  
    Node N100, with help from nodes N1, N4, and N7, implements a hybrid 
    OAM mechanism using the O-flag as follows: 
     
        </t>
        <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-appendix.a.3-5">
          <li pn="section-appendix.a.3-5.1">
            <t indent="0" pn="section-appendix.a.3-5.1.1">A packet P1 is sent from CE1 to node N1. The packet is:</t>
            <t indent="0" pn="section-appendix.a.3-5.1.2">P1: (IPv4 header)(payload)</t>
          </li>
          <li pn="section-appendix.a.3-5.2">
            <t indent="0" pn="section-appendix.a.3-5.2.1">Node N1 steers packet P1 through the SR Policy P. 
          Based on local configuration, node N1 also implements logic to sample 
          traffic steered through SR Policy P for hybrid OAM purposes. 
          Specification for the sampling logic is beyond the scope of this document. 
          Consider the case where packet P1 is classified as a packet to be monitored 
          via the hybrid OAM. 
          Node N1 sets the O-flag during the encapsulation required by SR Policy P. 
          As part of setting the O-flag, node N1 also sends a timestamped copy 
          of packet P1 to a local 
          OAM process. The packet is:</t>
            <t indent="0" pn="section-appendix.a.3-5.2.2">P1: (2001:db8:L:1::, 2001:db8:K:2:X31::) (2001:db8:K:7:DT999::,
	  2001:db8:K:4:X52::, 2001:db8:K:2:X31::; SL=2; O-flag=1;
	  NH=IPv4)(IPv4 header)(payload)</t>
            <t indent="0" pn="section-appendix.a.3-5.2.3">The local OAM process sends a full or partial copy of 
          packet P1 to node N100. 
          The OAM process includes the 
          recorded timestamp, additional 
          OAM information (like incoming and outgoing interface), and 
          any applicable metadata.
          Node N1 forwards the original packet towards the next 
          segment 2001:db8:K:2:X31::.</t>
          </li>
          <li pn="section-appendix.a.3-5.3">
            <t indent="0" pn="section-appendix.a.3-5.3.1">When node N2 receives the packet with the O-flag set, it
          ignores the O-flag. This is because node N2 is not capable of
          processing the O-flag. Node N2 performs the standard SRv6 SID and
          SRH processing.  Specifically, it executes the End.X behavior <xref target="RFC8986" format="default" sectionFormat="of" derivedContent="RFC8986"/>
          indicated by the 2001:db8:K:2:X31:: SID and forwards packet P1 over
          link3 towards node N3. The packet is:</t>
            <t indent="0" pn="section-appendix.a.3-5.3.2">P1: (2001:db8:L:1::, 2001:db8:K:4:X52::) (2001:db8:K:7:DT999::,
	  2001:db8:K:4:X52::, 2001:db8:K:2:X31::; SL=1; O-flag=1;
	  NH=IPv4)(IPv4 header)(payload)
            </t>
          </li>
          <li pn="section-appendix.a.3-5.4">When node N3, which is a non-SRv6-capable node, receives packet P1, it performs the standard IPv6 processing.
          Specifically, it forwards packet P1 based on DA
          2001:db8:K:4:X52:: in the IPv6 header. 
          </li>
          <li pn="section-appendix.a.3-5.5">
            <t indent="0" pn="section-appendix.a.3-5.5.1">When node N4 receives packet P1, it processes the O-flag. The packet is:</t>
            <t indent="0" pn="section-appendix.a.3-5.5.2">P1: (2001:db8:L:1::, 2001:db8:K:4:X52::)
          (2001:db8:K:7:DT999::, 2001:db8:K:4:X52::, 2001:db8:K:2:X31::; SL=1; O-flag=1;
          NH=IPv4)(IPv4 header)(payload)
            </t>
            <t indent="0" pn="section-appendix.a.3-5.5.3">As part of processing the O-flag, it sends a timestamped copy of 
          the packet to a local OAM process. 
          Based on local configuration, the local OAM process sends a full or partial 
          copy of packet 
          P1 to node N100. The OAM process includes the 
          recorded timestamp, additional 
          OAM information (like incoming and outgoing interface, etc.), and
          any applicable metadata. 
          Node N4 performs the standard SRv6 SID and SRH processing on the original packet P1. 
          Specifically, it executes
          the End.X behavior indicated by the 2001:db8:K:4:X52:: SID and forwards packet P1 
          over link10 towards node N5. The packet is:</t>
            <t indent="0" pn="section-appendix.a.3-5.5.4">P1: (2001:db8:L:1::, 2001:db8:K:7:DT999::)
          (2001:db8:K:7:DT999::, 2001:db8:K:4:X52::, 2001:db8:K:2:X31::; SL=0; O-flag=1;
          NH=IPv4)(IPv4 header)(payload)
            </t>
          </li>
          <li pn="section-appendix.a.3-5.6">When node N5, which is a non-SRv6-capable node, receives packet P1, 
          it performs the standard IPv6 processing.
          Specifically, it forwards the packet based on DA
          2001:db8:K:7:DT999:: in the IPv6 header. 
          </li>
          <li pn="section-appendix.a.3-5.7">
            <t indent="0" pn="section-appendix.a.3-5.7.1">When node N7 receives packet P1, it processes the O-flag. The packet is:</t>
            <t indent="0" pn="section-appendix.a.3-5.7.2">P1: (2001:db8:L:1::, 2001:db8:K:7:DT999::)
          (2001:db8:K:7:DT999::, 2001:db8:K:4:X52::, 2001:db8:K:2:X31::; SL=0; O-flag=1;
          NH=IPv4)(IPv4 header)(payload)
            </t>
            <t indent="0" pn="section-appendix.a.3-5.7.3">As part of processing the O-flag, it sends a timestamped copy of 
          the packet to a local OAM process. 
          The local OAM process sends a full or partial copy of packet 
          P1 to node N100. The OAM process includes the 
          recorded timestamp, additional 
          OAM information (like incoming and outgoing interface, etc.), and 
          any applicable metadata. 
          Node N7 performs the standard SRv6 SID and SRH processing on the original packet P1. 
          Specifically, it executes the VPN SID indicated by the 2001:db8:K:7:DT999:: SID 
          and, based on lookup in table 100, forwards packet P1 
          towards CE2. The packet is:</t>
            <t indent="0" pn="section-appendix.a.3-5.7.4">P1: (IPv4 header)(payload)
            </t>
          </li>
          <li pn="section-appendix.a.3-5.8">
          Node N100 processes and correlates the copy of the packets 
          sent from nodes N1, N4, and N7 to find segment-by-segment delays and 
          provide other hybrid OAM information related to packet P1. 
          For segment-by-segment delay computation, it is assumed that clocks 
          are synchronized across the SR domain.
          
           </li>
          <li pn="section-appendix.a.3-5.9">
          The process continues for any other sampled packets.  </li>
        </ul>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-appendix.a.4">
        <name slugifiedName="name-monitoring-of-srv6-paths">Monitoring of SRv6 Paths</name>
        <t indent="0" pn="section-appendix.a.4-1">  In the recent past, network operators demonstrated interest in performing
   network OAM functions in a centralized manner.  <xref target="RFC8403" format="default" sectionFormat="of" derivedContent="RFC8403"/>
     describes such a centralized OAM mechanism. Specifically, <xref target="RFC8403" format="default" sectionFormat="of" derivedContent="RFC8403"/>
     describes a procedure that can be used to perform path continuity
     checks between any nodes within an SR domain from a centralized
     monitoring system. However, while <xref target="RFC8403" format="default" sectionFormat="of" derivedContent="RFC8403"/> focuses on SR networks with MPLS data
     plane, this document describes how 
     the concept can be used to perform path monitoring in an SRv6 network 
     from a centralized controller. 
        </t>
        <t indent="0" pn="section-appendix.a.4-2">  In the reference topology in <xref target="ref-top" format="default" sectionFormat="of" derivedContent="Figure 1"/>, node N100 uses an IGP protocol
     like OSPF or IS-IS to get a view of the topology within the IGP domain.
     Node N100 can also use BGP-LS to get the complete view of an inter-domain
     topology. The controller leverages the visibility of
     the topology to monitor the paths between the various endpoints. 
        
        </t>
        <t indent="0" pn="section-appendix.a.4-3">Node N100 advertises an End 
     SID <xref target="RFC8986" format="default" sectionFormat="of" derivedContent="RFC8986"/> 2001:db8:K:100:1::. To monitor any 
     arbitrary SRv6 paths, the controller can create a loopback probe that originates and 
     terminates on node N100. To distinguish between a failure in the monitored path 
     and loss of connectivity between the controller and the network, 
     node N100 runs a suitable mechanism to monitor its connectivity to the monitored network. 
        </t>
        <t indent="0" pn="section-appendix.a.4-4"> 
     The following example illustrates loopback probes in which node N100 
     needs to verify a
     segment list &lt;2001:db8:K:2:X31::, 2001:db8:K:4:X52::&gt;:
     
        </t>
        <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-appendix.a.4-5">
          <li pn="section-appendix.a.4-5.1">Node N100 generates an OAM packet (2001:db8:L:100::,
     	2001:db8:K:2:X31::)(2001:db8:K:100:1::, 2001:db8:K:4:X52::, 2001:db8:K:2:X31::, 
     	SL=2)(OAM Payload). The controller routes the probe packet towards the first 
     	segment, which is 2001:db8:K:2:X31::.
     	</li>
          <li pn="section-appendix.a.4-5.2">Node N2 executes the End.X behavior indicated by the 2001:db8:K:2:X31:: SID and 
     	forwards the packet 
     	 (2001:db8:L:100::,
     	2001:db8:K:4:X52::)(2001:db8:K:100:1::, 2001:db8:K:4:X52::, 2001:db8:K:2:X31::, 
     	SL=1)(OAM Payload) on link3 to node N3. 
     	</li>
          <li pn="section-appendix.a.4-5.3"> Node N3, which is a non-SRv6-capable node, performs the standard
          IPv6 processing. Specifically, it forwards the packet
          based on DA 2001:db8:K:4:X52:: in the IPv6 header. </li>
          <li pn="section-appendix.a.4-5.4">Node N4 executes the End.X behavior indicated by the 2001:db8:K:4:X52:: SID and 
     	forwards the packet 
     	 (2001:db8:L:100::,
     	2001:db8:K:100:1::)(2001:db8:K:100:1::, 2001:db8:K:4:X52::, 2001:db8:K:2:X31::, 
     	SL=0)(OAM Payload) on link10 to node N5. 
     	</li>
          <li pn="section-appendix.a.4-5.5"> Node N5, which is a non-SRv6-capable node, performs the standard
          IPv6 processing. Specifically, it forwards the packet
          based on DA 2001:db8:K:100:1:: in the IPv6 header. </li>
          <li pn="section-appendix.a.4-5.6">Node N100 executes the standard SRv6 END behavior. It 
     	decapsulates the header and consumes the probe for OAM processing. The information 
     	in the OAM payload is used to detect missing probes, round-trip delay, etc. 
     	</li>
        </ul>
        <t indent="0" pn="section-appendix.a.4-6"> The OAM payload type or 
     	the information carried in the OAM probe is a local implementation 
     	decision at the controller and is outside the scope of this document. 
        </t>
      </section>
    </section>
    <section anchor="Acknowledgements" numbered="false" toc="include" removeInRFC="false" pn="section-appendix.b">
      <name slugifiedName="name-acknowledgements">Acknowledgements</name>
      <t indent="0" pn="section-appendix.b-1"> The authors would like to thank <contact fullname="Joel M. Halpern"/>, <contact fullname="Greg Mirsky"/>, 
      <contact fullname="Bob Hinden"/>, <contact fullname="Loa Andersson"/>, <contact fullname="Gaurav Naik"/>, <contact fullname="Ketan Talaulikar"/>, and <contact fullname="Haoyu Song"/>  
      for their review comments. </t>
    </section>
    <section anchor="Contributors" numbered="false" toc="include" removeInRFC="false" pn="section-appendix.c">
      <name slugifiedName="name-contributors">Contributors</name>
      <t indent="0" pn="section-appendix.c-1">The following people contributed to this document:
      </t>
      <contact fullname="Robert Raszuk">
        <organization showOnFrontPage="true">Bloomberg LP</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <region/>
            <code/>
            <country/>
          </postal>
          <email>robert@raszuk.net</email>
        </address>
      </contact>
      <contact fullname="John Leddy">
        <organization showOnFrontPage="true">Individual</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <region/>
            <code/>
            <country/>
          </postal>
          <email>john@leddy.net</email>
        </address>
      </contact>
      <contact fullname="Gaurav Dawra">
        <organization showOnFrontPage="true">LinkedIn</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <region/>
            <code/>
            <country/>
          </postal>
          <email>gdawra.ietf@gmail.com</email>
        </address>
      </contact>
      <contact fullname="Bart Peirens">
        <organization showOnFrontPage="true">Proximus</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <region/>
            <code/>
            <country/>
          </postal>
          <email>bart.peirens@proximus.com</email>
        </address>
      </contact>
      <contact fullname="Nagendra Kumar">
        <organization showOnFrontPage="true">Cisco Systems, Inc.</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <region/>
            <code/>
            <country/>
          </postal>
          <email>naikumar@cisco.com</email>
        </address>
      </contact>
      <contact fullname="Carlos Pignataro">
        <organization showOnFrontPage="true">Cisco Systems, Inc.</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <region/>
            <code/>
            <country/>
          </postal>
          <email>cpignata@cisco.com</email>
        </address>
      </contact>
      <contact fullname="Rakesh Gandhi">
        <organization showOnFrontPage="true">Cisco Systems, Inc.</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <region/>
            <code/>
            <country/>
          </postal>
          <email>rgandhi@cisco.com</email>
        </address>
      </contact>
      <contact fullname="Frank Brockners">
        <organization showOnFrontPage="true">Cisco Systems, Inc.</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <region/>
            <code/>
            <country/>
          </postal>
          <email>fbrockne@cisco.com</email>
        </address>
      </contact>
      <contact fullname="Darren Dukes">
        <organization showOnFrontPage="true">Cisco Systems, Inc.</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <region/>
            <code/>
            <country/>
          </postal>
          <email>ddukes@cisco.com</email>
        </address>
      </contact>
      <contact fullname="Cheng Li">
        <organization showOnFrontPage="true">Huawei</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <region/>
            <code/>
            <country/>
          </postal>
          <email>chengli13@huawei.com</email>
        </address>
      </contact>
      <contact fullname="Faisal Iqbal">
        <organization showOnFrontPage="true">Individual</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <region/>
            <code/>
            <country/>
          </postal>
          <email>faisal.ietf@gmail.com</email>
        </address>
      </contact>
    </section>
    <section anchor="authors-addresses" numbered="false" removeInRFC="false" toc="include" pn="section-appendix.d">
      <name slugifiedName="name-authors-addresses">Authors' Addresses</name>
      <author fullname="Zafar Ali" initials="Z" surname="Ali">
        <organization showOnFrontPage="true">Cisco Systems</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <code/>
            <country/>
          </postal>
          <email>zali@cisco.com</email>
        </address>
      </author>
      <author fullname="Clarence Filsfils" initials="C." surname="Filsfils">
        <organization showOnFrontPage="true">Cisco Systems</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <code/>
            <country/>
          </postal>
          <email>cfilsfil@cisco.com</email>
        </address>
      </author>
      <author fullname="Satoru Matsushima" initials="S" surname="Matsushima">
        <organization showOnFrontPage="true">Softbank</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <code/>
            <country/>
          </postal>
          <email>satoru.matsushima@g.softbank.co.jp</email>
        </address>
      </author>
      <author fullname="Daniel Voyer" initials="D" surname="Voyer">
        <organization showOnFrontPage="true">Bell Canada</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <code/>
            <country/>
          </postal>
          <email>daniel.voyer@bell.ca</email>
        </address>
      </author>
      <author fullname="Mach(Guoyi) Chen" initials="M" surname="Chen">
        <organization showOnFrontPage="true">Huawei</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <code/>
            <country/>
          </postal>
          <email>mach.chen@huawei.com</email>
        </address>
      </author>
    </section>
  </back>
</rfc>
