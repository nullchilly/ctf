<?xml version='1.0' encoding='utf-8'?>
<rfc xmlns:xi="http://www.w3.org/2001/XInclude" version="3" category="info" consensus="true" docName="draft-ietf-dnssd-prireq-08" indexInclude="true" ipr="trust200902" number="8882" prepTime="2020-09-10T09:56:05" scripts="Common,Latin" sortRefs="true" submissionType="IETF" symRefs="true" tocDepth="3" tocInclude="true" xml:lang="en">
  <link href="https://datatracker.ietf.org/doc/draft-ietf-dnssd-prireq-08" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc8882" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <front>
    <title abbrev="DNS-SD Privacy Requirements">DNS-Based Service Discovery (DNS-SD) Privacy and Security Requirements</title>
    <seriesInfo name="RFC" value="8882" stream="IETF"/>
    <author fullname="Christian Huitema" initials="C." surname="Huitema">
      <organization showOnFrontPage="true">Private Octopus Inc.</organization>
      <address>
        <postal>
          <street/>
          <city>Friday Harbor</city>
          <code>98250</code>
          <region>WA</region>
          <country>United States of America</country>
        </postal>
        <email>huitema@huitema.net</email>
        <uri>http://privateoctopus.com/</uri>
      </address>
    </author>
    <author fullname="Daniel Kaiser" initials="D." surname="Kaiser">
      <organization showOnFrontPage="true">University of Luxembourg</organization>
      <address>
        <postal>
          <street>6, avenue de la Fonte</street>
          <city>Esch-sur-Alzette</city>
          <code>4364</code>
          <region/>
          <country>Luxembourg</country>
        </postal>
        <email>daniel.kaiser@uni.lu</email>
        <uri>https://secan-lab.uni.lu/</uri>
      </address>
    </author>
    <date month="09" year="2020"/>
    <keyword>Multicast DNS</keyword>
    <keyword>mDNS</keyword>
    <abstract pn="section-abstract">
      <t indent="0" pn="section-abstract-1">DNS-SD (DNS-based Service Discovery) normally discloses information about
      devices offering and requesting services. This information includes
      hostnames, network parameters, and possibly a further description of the 
      corresponding service instance. Especially when mobile devices engage in
      DNS-based Service Discovery at a public hotspot, serious privacy problems
      arise. We analyze the requirements of a privacy-respecting discovery
      service.</t>
    </abstract>
    <boilerplate>
      <section anchor="status-of-memo" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.1">
        <name slugifiedName="name-status-of-this-memo">Status of This Memo</name>
        <t indent="0" pn="section-boilerplate.1-1">
            This document is not an Internet Standards Track specification; it is
            published for informational purposes.  
        </t>
        <t indent="0" pn="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by the
            Internet Engineering Steering Group (IESG).  Not all documents
            approved by the IESG are candidates for any level of Internet
            Standard; see Section 2 of RFC 7841. 
        </t>
        <t indent="0" pn="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <eref target="https://www.rfc-editor.org/info/rfc8882" brackets="none"/>.
        </t>
      </section>
      <section anchor="copyright" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.2">
        <name slugifiedName="name-copyright-notice">Copyright Notice</name>
        <t indent="0" pn="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.
        </t>
        <t indent="0" pn="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<eref target="https://trustee.ietf.org/license-info" brackets="none"/>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.
        </t>
      </section>
    </boilerplate>
    <toc>
      <section anchor="toc" numbered="false" removeInRFC="false" toc="exclude" pn="section-toc.1">
        <name slugifiedName="name-table-of-contents">Table of Contents</name>
        <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1">
          <li pn="section-toc.1-1.1">
            <t indent="0" keepWithNext="true" pn="section-toc.1-1.1.1"><xref derivedContent="1" format="counter" sectionFormat="of" target="section-1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-introduction">Introduction</xref></t>
          </li>
          <li pn="section-toc.1-1.2">
            <t indent="0" keepWithNext="true" pn="section-toc.1-1.2.1"><xref derivedContent="2" format="counter" sectionFormat="of" target="section-2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-threat-model">Threat Model</xref></t>
          </li>
          <li pn="section-toc.1-1.3">
            <t indent="0" pn="section-toc.1-1.3.1"><xref derivedContent="3" format="counter" sectionFormat="of" target="section-3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-threat-analysis">Threat Analysis</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.3.2">
              <li pn="section-toc.1-1.3.2.1">
                <t indent="0" pn="section-toc.1-1.3.2.1.1"><xref derivedContent="3.1" format="counter" sectionFormat="of" target="section-3.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-service-discovery-scenarios">Service Discovery Scenarios</xref></t>
                <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.3.2.1.2">
                  <li pn="section-toc.1-1.3.2.1.2.1">
                    <t indent="0" keepWithNext="true" pn="section-toc.1-1.3.2.1.2.1.1"><xref derivedContent="3.1.1" format="counter" sectionFormat="of" target="section-3.1.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-private-client-and-public-s">Private Client and Public Server</xref></t>
                  </li>
                  <li pn="section-toc.1-1.3.2.1.2.2">
                    <t indent="0" pn="section-toc.1-1.3.2.1.2.2.1"><xref derivedContent="3.1.2" format="counter" sectionFormat="of" target="section-3.1.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-private-client-and-private-">Private Client and Private Server</xref></t>
                  </li>
                  <li pn="section-toc.1-1.3.2.1.2.3">
                    <t indent="0" pn="section-toc.1-1.3.2.1.2.3.1"><xref derivedContent="3.1.3" format="counter" sectionFormat="of" target="section-3.1.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-wearable-client-and-server">Wearable Client and Server</xref></t>
                  </li>
                </ul>
              </li>
              <li pn="section-toc.1-1.3.2.2">
                <t indent="0" pn="section-toc.1-1.3.2.2.1"><xref derivedContent="3.2" format="counter" sectionFormat="of" target="section-3.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-dns-sd-privacy-consideratio">DNS-SD Privacy Considerations</xref></t>
                <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.3.2.2.2">
                  <li pn="section-toc.1-1.3.2.2.2.1">
                    <t indent="0" pn="section-toc.1-1.3.2.2.2.1.1"><xref derivedContent="3.2.1" format="counter" sectionFormat="of" target="section-3.2.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-information-made-available-">Information Made Available Via DNS-SD Resource Records</xref></t>
                  </li>
                  <li pn="section-toc.1-1.3.2.2.2.2">
                    <t indent="0" pn="section-toc.1-1.3.2.2.2.2.1"><xref derivedContent="3.2.2" format="counter" sectionFormat="of" target="section-3.2.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-privacy-implication-of-publ">Privacy Implication of Publishing Service Instance Names</xref></t>
                  </li>
                  <li pn="section-toc.1-1.3.2.2.2.3">
                    <t indent="0" pn="section-toc.1-1.3.2.2.2.3.1"><xref derivedContent="3.2.3" format="counter" sectionFormat="of" target="section-3.2.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-privacy-implication-of-publi">Privacy Implication of Publishing Node Names</xref></t>
                  </li>
                  <li pn="section-toc.1-1.3.2.2.2.4">
                    <t indent="0" pn="section-toc.1-1.3.2.2.2.4.1"><xref derivedContent="3.2.4" format="counter" sectionFormat="of" target="section-3.2.4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-privacy-implication-of-publis">Privacy Implication of Publishing Service Attributes</xref></t>
                  </li>
                  <li pn="section-toc.1-1.3.2.2.2.5">
                    <t indent="0" pn="section-toc.1-1.3.2.2.2.5.1"><xref derivedContent="3.2.5" format="counter" sectionFormat="of" target="section-3.2.5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-device-fingerprinting">Device Fingerprinting</xref></t>
                  </li>
                  <li pn="section-toc.1-1.3.2.2.2.6">
                    <t indent="0" pn="section-toc.1-1.3.2.2.2.6.1"><xref derivedContent="3.2.6" format="counter" sectionFormat="of" target="section-3.2.6"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-privacy-implication-of-disc">Privacy Implication of Discovering Services</xref></t>
                  </li>
                </ul>
              </li>
              <li pn="section-toc.1-1.3.2.3">
                <t indent="0" pn="section-toc.1-1.3.2.3.1"><xref derivedContent="3.3" format="counter" sectionFormat="of" target="section-3.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-security-considerations">Security Considerations</xref></t>
                <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.3.2.3.2">
                  <li pn="section-toc.1-1.3.2.3.2.1">
                    <t indent="0" pn="section-toc.1-1.3.2.3.2.1.1"><xref derivedContent="3.3.1" format="counter" sectionFormat="of" target="section-3.3.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-authenticity-integrity-and-">Authenticity, Integrity, and Freshness</xref></t>
                  </li>
                  <li pn="section-toc.1-1.3.2.3.2.2">
                    <t indent="0" pn="section-toc.1-1.3.2.3.2.2.1"><xref derivedContent="3.3.2" format="counter" sectionFormat="of" target="section-3.3.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-confidentiality">Confidentiality</xref></t>
                  </li>
                  <li pn="section-toc.1-1.3.2.3.2.3">
                    <t indent="0" pn="section-toc.1-1.3.2.3.2.3.1"><xref derivedContent="3.3.3" format="counter" sectionFormat="of" target="section-3.3.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-resistance-to-dictionary-at">Resistance to Dictionary Attacks</xref></t>
                  </li>
                  <li pn="section-toc.1-1.3.2.3.2.4">
                    <t indent="0" pn="section-toc.1-1.3.2.3.2.4.1"><xref derivedContent="3.3.4" format="counter" sectionFormat="of" target="section-3.3.4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-resistance-to-denial-of-ser">Resistance to Denial-of-Service Attacks</xref></t>
                  </li>
                  <li pn="section-toc.1-1.3.2.3.2.5">
                    <t indent="0" pn="section-toc.1-1.3.2.3.2.5.1"><xref derivedContent="3.3.5" format="counter" sectionFormat="of" target="section-3.3.5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-resistance-to-sender-impers">Resistance to Sender Impersonation</xref></t>
                  </li>
                  <li pn="section-toc.1-1.3.2.3.2.6">
                    <t indent="0" pn="section-toc.1-1.3.2.3.2.6.1"><xref derivedContent="3.3.6" format="counter" sectionFormat="of" target="section-3.3.6"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sender-deniability">Sender Deniability</xref></t>
                  </li>
                </ul>
              </li>
              <li pn="section-toc.1-1.3.2.4">
                <t indent="0" pn="section-toc.1-1.3.2.4.1"><xref derivedContent="3.4" format="counter" sectionFormat="of" target="section-3.4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-operational-considerations">Operational Considerations</xref></t>
                <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.3.2.4.2">
                  <li pn="section-toc.1-1.3.2.4.2.1">
                    <t indent="0" pn="section-toc.1-1.3.2.4.2.1.1"><xref derivedContent="3.4.1" format="counter" sectionFormat="of" target="section-3.4.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-power-management">Power Management</xref></t>
                  </li>
                  <li pn="section-toc.1-1.3.2.4.2.2">
                    <t indent="0" pn="section-toc.1-1.3.2.4.2.2.1"><xref derivedContent="3.4.2" format="counter" sectionFormat="of" target="section-3.4.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-protocol-efficiency">Protocol Efficiency</xref></t>
                  </li>
                  <li pn="section-toc.1-1.3.2.4.2.3">
                    <t indent="0" pn="section-toc.1-1.3.2.4.2.3.1"><xref derivedContent="3.4.3" format="counter" sectionFormat="of" target="section-3.4.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-secure-initialization-and-t">Secure Initialization and Trust Models</xref></t>
                  </li>
                  <li pn="section-toc.1-1.3.2.4.2.4">
                    <t indent="0" pn="section-toc.1-1.3.2.4.2.4.1"><xref derivedContent="3.4.4" format="counter" sectionFormat="of" target="section-3.4.4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-external-dependencies">External Dependencies</xref></t>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.4">
            <t indent="0" pn="section-toc.1-1.4.1"><xref derivedContent="4" format="counter" sectionFormat="of" target="section-4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-requirements-for-a-dns-sd-p">Requirements for a DNS-SD Privacy Extension</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.4.2">
              <li pn="section-toc.1-1.4.2.1">
                <t indent="0" pn="section-toc.1-1.4.2.1.1"><xref derivedContent="4.1" format="counter" sectionFormat="of" target="section-4.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-private-client-requirements">Private Client Requirements</xref></t>
              </li>
              <li pn="section-toc.1-1.4.2.2">
                <t indent="0" pn="section-toc.1-1.4.2.2.1"><xref derivedContent="4.2" format="counter" sectionFormat="of" target="section-4.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-private-server-requirements">Private Server Requirements</xref></t>
              </li>
              <li pn="section-toc.1-1.4.2.3">
                <t indent="0" pn="section-toc.1-1.4.2.3.1"><xref derivedContent="4.3" format="counter" sectionFormat="of" target="section-4.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-security-and-operation">Security and Operation</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.5">
            <t indent="0" pn="section-toc.1-1.5.1"><xref derivedContent="5" format="counter" sectionFormat="of" target="section-5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-iana-considerations">IANA Considerations</xref></t>
          </li>
          <li pn="section-toc.1-1.6">
            <t indent="0" pn="section-toc.1-1.6.1"><xref derivedContent="6" format="counter" sectionFormat="of" target="section-6"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-references">References</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.6.2">
              <li pn="section-toc.1-1.6.2.1">
                <t indent="0" pn="section-toc.1-1.6.2.1.1"><xref derivedContent="6.1" format="counter" sectionFormat="of" target="section-6.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-normative-references">Normative References</xref></t>
              </li>
              <li pn="section-toc.1-1.6.2.2">
                <t indent="0" pn="section-toc.1-1.6.2.2.1"><xref derivedContent="6.2" format="counter" sectionFormat="of" target="section-6.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-informative-references">Informative References</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.7">
            <t indent="0" pn="section-toc.1-1.7.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.a"/><xref derivedContent="" format="title" sectionFormat="of" target="name-acknowledgments">Acknowledgments</xref></t>
          </li>
          <li pn="section-toc.1-1.8">
            <t indent="0" pn="section-toc.1-1.8.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.b"/><xref derivedContent="" format="title" sectionFormat="of" target="name-authors-addresses">Authors' Addresses</xref></t>
          </li>
        </ul>
      </section>
    </toc>
  </front>
  <middle>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-1">
      <name slugifiedName="name-introduction">Introduction</name>
      <t indent="0" pn="section-1-1">DNS-Based Service Discovery (DNS-SD) <xref target="RFC6763" format="default" sectionFormat="of" derivedContent="RFC6763"/> over Multicast DNS (mDNS) <xref target="RFC6762" format="default" sectionFormat="of" derivedContent="RFC6762"/> enables zero-configuration service discovery in local
      networks. It is very convenient for users, but it requires the public
      exposure of the offering and requesting identities along with
      information about the offered and requested services. Parts of the
      published information can seriously breach the user's privacy. These
      privacy issues and potential solutions are discussed in <xref target="KW14a" format="default" sectionFormat="of" derivedContent="KW14a"/>, <xref target="KW14b" format="default" sectionFormat="of" derivedContent="KW14b"/>, and <xref target="K17" format="default" sectionFormat="of" derivedContent="K17"/>. While the
      multicast nature of mDNS makes these risks obvious, most risks derive
      from the observability of transactions. These risks also need to be
      mitigated when using server-based variants of DNS-SD.</t>
      <t indent="0" pn="section-1-2">There are cases when nodes connected to a network want to provide or
      consume services without exposing their identities to the other parties
      connected to the same network. Consider, for example, a traveler wanting
      to upload pictures from a phone to a laptop when both are connected to
      the Wi-Fi network of an Internet cafe, or two travelers who want to
      share files between their laptops when waiting for their plane in an
      airport lounge.</t>
      <t indent="0" pn="section-1-3">We expect that these exchanges will start with a discovery procedure
      using DNS-SD over mDNS. One of the devices will publish the availability
      of a service, such as a picture library or a file store in our
      examples. The user of the other device will discover this service and
      then connect to it.</t>
      <t indent="0" pn="section-1-4">When analyzing these scenarios in <xref target="scenarios" format="default" sectionFormat="of" derivedContent="Section 3.1"/>, we find that the DNS-SD messages leak identifying
      information, such as the Service Instance Name, the hostname, or service
      properties. We use the following definitions:</t>
      <dl newline="true" spacing="normal" indent="3" pn="section-1-5">
        <dt pn="section-1-5.1">Identity</dt>
        <dd pn="section-1-5.2">In this document, the term "identity" refers to the identity of
	the entity (legal person) operating a device.</dd>
        <dt pn="section-1-5.3">Disclosing an Identity</dt>
        <dd pn="section-1-5.4">In this document, "disclosing an identity" means showing the
	identity of operating entities to devices external to the discovery
	process, e.g., devices on the same network link that are listening to
	the network traffic but are not actually involved in the discovery
	process. This document focuses on identity disclosure by data conveyed
	via messages on the service discovery protocol layer. Still, identity
	leaks on deeper layers, e.g., the IP layer, are mentioned.</dd>
        <dt pn="section-1-5.5">Disclosing Information</dt>
        <dd pn="section-1-5.6">In this document, "disclosing information" is also focused on
	disclosure of data conveyed via messages on the service discovery
	protocol layer, including both identity-revealing information and
other still potentially sensitive data.</dd>
      </dl>
    </section>
    <section anchor="threatmodel" numbered="true" toc="include" removeInRFC="false" pn="section-2">
      <name slugifiedName="name-threat-model">Threat Model</name>
      <t indent="0" pn="section-2-1">This document considers the following attacker types sorted by
      increasing power. All these attackers can either be passive (they just
      listen to network traffic they have access to) or active (they
      additionally can craft and send malicious packets).</t>
      <dl newline="true" spacing="normal" indent="3" pn="section-2-2">
        <dt pn="section-2-2.1">external</dt>
        <dd pn="section-2-2.2">An external attacker is not on the same network link as victim
	devices engaging in service discovery; thus, the external attacker is
	in a different multicast domain.</dd>
        <dt pn="section-2-2.3">on-link</dt>
        <dd pn="section-2-2.4">An on-link attacker is on the same network link as victim devices
	engaging in service discovery; thus, the on-link attacker is in the
	same multicast domain. This attacker can also mount all attacks an
	external attacker can mount.</dd>
        <dt pn="section-2-2.5">MITM</dt>
        <dd pn="section-2-2.6">A Man-in-the-Middle (MITM) attacker either controls (parts of) a
	network link or can trick two parties to send traffic via the
	attacker; thus, the MITM attacker has access to unicast traffic
	between devices engaging in service discovery. This attacker can also
	mount all attacks an on-link attacker can mount.</dd>
      </dl>
    </section>
    <section anchor="threatanalysis" numbered="true" toc="include" removeInRFC="false" pn="section-3">
      <name slugifiedName="name-threat-analysis">Threat Analysis</name>
      <t indent="0" pn="section-3-1">In this section, we analyze how the attackers described in the
      previous section might threaten the privacy of entities operating
      devices engaging in service discovery. We focus on attacks leveraging
      data transmitted in service discovery protocol messages.</t>
      <section anchor="scenarios" numbered="true" toc="include" removeInRFC="false" pn="section-3.1">
        <name slugifiedName="name-service-discovery-scenarios">Service Discovery Scenarios</name>
        <t indent="0" pn="section-3.1-1">In this section, we review common service discovery scenarios and
	discuss privacy threats and their privacy requirements. In all three
	of these common scenarios, the attacker is of the type passive
	on-link.</t>
        <section anchor="privclipubserv" numbered="true" toc="include" removeInRFC="false" pn="section-3.1.1">
          <name slugifiedName="name-private-client-and-public-s">Private Client and Public Server</name>
          <t indent="0" pn="section-3.1.1-1">Perhaps the simplest private discovery scenario involves a single
	  client connecting to a public server through a public network. A
	  common example would be a traveler using a publicly available
	  printer in a business center, in a hotel, or at an airport.</t>
          <artwork name="" type="" align="left" alt="" pn="section-3.1.1-2">
                                     ( Taking notes:
                                     ( David is printing
                                     ( a document.
                                      ~~~~~~~~~~~
                                                  o
         ___                                        o   ___
        /   \                                         _|___|_
        |   |   client                server           |* *|
         \_/      __                                    \_/
          |      / /   Discovery   +----------+          |
         /|\    /_/  &lt;-----------&gt; |  +----+  |         /|\
        / | \__/                   +--|    |--+        / | \
       /  |                           |____/          /  |  \
      /   |                                          /   |   \
         / \                                            / \
        /   \                                          /   \
       /     \                                        /     \
      /       \                                      /       \
     /         \                                    /         \
                                                    
        David                                        Adversary
</artwork>
          <t indent="0" pn="section-3.1.1-3">In that scenario, the server is public and wants to be
	  discovered, but the client is private. The adversary will be
	  listening to the network traffic, trying to identify the visitors'
	  devices and their activity. Identifying devices leads to identifying
	  people, either for surveillance of these individuals in the physical
	  world or as a preliminary step for a targeted cyber attack.</t>
          <t indent="0" pn="section-3.1.1-4">The requirement in that scenario is that the discovery activity
	  should not disclose the identity of the client.</t>
        </section>
        <section anchor="privcliprivserv" numbered="true" toc="include" removeInRFC="false" pn="section-3.1.2">
          <name slugifiedName="name-private-client-and-private-">Private Client and Private Server</name>
          <t indent="0" pn="section-3.1.2-1">The second private discovery scenario involves a private client
	  connecting to a private server. A common example would be two people
	  engaging in a collaborative application in a public place, such as
	  an airport's lounge.</t>
          <artwork name="" type="" align="left" alt="" pn="section-3.1.2-2">
                                        ( Taking notes:
                                        ( David is meeting
                                        ( with Stuart.
                                          ~~~~~~~~~~~
                                                     o
         ___                               ___         o   ___
        /   \                             /   \          _|___|_
        |   |   server          client    |   |           |* *|
         \_/      __               __      \_/             \_/
          |      / /   Discovery   \ \      |               |
         /|\    /_/  &lt;-----------&gt;  \_\    /|\             /|\
        / | \__/                       \__/ | \           / | \
       /  |                                 |  \         /  |  \
      /   |                                 |   \       /   |   \
         / \                               / \             / \
        /   \                             /   \           /   \
       /     \                           /     \         /     \
      /       \                         /       \       /       \
     /         \                       /         \     /         \

       David                              Stuart        Adversary
</artwork>
          <t indent="0" pn="section-3.1.2-3">In that scenario, the collaborative application on one of the
	  devices will act as a server, and the application on the other
	  device will act as a client. The server wants to be discovered by
	  the client but has no desire to be discovered by anyone else. The
	  adversary will be listening to network traffic, attempting to
	  discover the identity of devices as in the first scenario and also
	  attempting to discover the patterns of traffic, as these patterns
	  reveal the business and social interactions between the owners of
	  the devices.</t>
          <t indent="0" pn="section-3.1.2-4">The requirement in that scenario is that the discovery activity
	  should not disclose the identity of either the client or the server
	  nor reveal the business and social interactions between the owners
	  of the devices.</t>
        </section>
        <section anchor="wearcliserv" numbered="true" toc="include" removeInRFC="false" pn="section-3.1.3">
          <name slugifiedName="name-wearable-client-and-server">Wearable Client and Server</name>
          <t indent="0" pn="section-3.1.3-1">The third private discovery scenario involves wearable devices. A
	  typical example would be the watch on someone's wrist connecting to
	  the phone in their pocket.</t>
          <artwork name="" type="" align="left" alt="" pn="section-3.1.3-2">
                                     ( Taking notes:
                                     ( David is here. His watch is 
                                     ( talking to his phone.
                                       ~~~~~~~~~~~
                                                   o
         ___                                         o  ___
        /   \                                         _|___|_
        |   |   client                                 |* *|
         \_/                                            \_/
          |     _/                                       |
         /|\   //                                       /|\
        / | \__/  ^                                    / | \
       /  |__     | Discovery                         /  |  \
      /   |\ \    v                                  /   |   \
         / \\_\                                         / \
        /   \   server                                 /   \
       /     \                                        /     \
      /       \                                      /       \
     /         \                                    /         \

        David                                        Adversary
</artwork>
          <t indent="0" pn="section-3.1.3-3">This third scenario is in many ways similar to the second
	  scenario. It involves two devices, one acting as server and the
	  other acting as client, and it leads to the same requirement of the
	  discovery traffic not disclosing the identity of either the client
	  or the server. The main difference is that the devices are managed
	  by a single owner, which can lead to different methods for
	  establishing secure relations between the devices. There is also an
	  added emphasis on hiding the type of devices that the person
	  wears.</t>
          <t indent="0" pn="section-3.1.3-4">In addition to tracking the identity of the owner of the devices,
	  the adversary is interested in the characteristics of the devices,
	  such as type, brand, and model. Identifying the type of device can
	  lead to further attacks, from theft to device-specific hacking. The
	  combination of devices worn by the same person will also provide a
	  "fingerprint" of the person, risking identification.</t>
          <t indent="0" pn="section-3.1.3-5">This scenario also represents the general case of bringing
	  private Internet-of-Things (IoT) devices into public places. A
	  wearable IoT device might 
	  act as a DNS-SD/mDNS client, which allows attackers to infer
	  information about devices' owners. While the attacker might be a
	  person, as in the example figure, this could also be abused for
	  large-scale data collection installing stationary
	  IoT-device-tracking 
	  servers in frequented public places.</t>
          <t indent="0" pn="section-3.1.3-6">The issues described in <xref target="privclipubserv" format="default" sectionFormat="of" derivedContent="Section 3.1.1"/>, such as identifying people or using the
	  information for targeted attacks, apply here too.</t>
        </section>
      </section>
      <section anchor="analysis" numbered="true" toc="include" removeInRFC="false" pn="section-3.2">
        <name slugifiedName="name-dns-sd-privacy-consideratio">DNS-SD Privacy Considerations</name>
        <t indent="0" pn="section-3.2-1">While the discovery process illustrated in the scenarios in <xref target="scenarios" format="default" sectionFormat="of" derivedContent="Section 3.1"/> most likely would be based on
	<xref target="RFC6762" format="default" sectionFormat="of" derivedContent="RFC6762"/> as a means for making
	service information available, this document considers all kinds of
	means for making DNS-SD resource records available. These means
	comprise of but are not limited to mDNS <xref target="RFC6762" format="default" sectionFormat="of" derivedContent="RFC6762"/>, DNS servers (<xref target="RFC1033" format="default" sectionFormat="of" derivedContent="RFC1033"/>, <xref target="RFC1034" format="default" sectionFormat="of" derivedContent="RFC1034"/>, and <xref target="RFC1035" format="default" sectionFormat="of" derivedContent="RFC1035"/>), the use of Service Registration
	Protocol (SRP) <xref target="I-D.ietf-dnssd-srp" format="default" sectionFormat="of" derivedContent="SRP"/>, and multi-link <xref target="RFC7558" format="default" sectionFormat="of" derivedContent="RFC7558"/> networks.</t>
        <t indent="0" pn="section-3.2-2">The discovery scenarios in <xref target="scenarios" format="default" sectionFormat="of" derivedContent="Section 3.1"/> illustrate three separate abstract privacy
	requirements that vary based on the use case. These are not limited to
	mDNS.</t>
        <ol spacing="normal" type="1" indent="adaptive" start="1" pn="section-3.2-3">
          <li pn="section-3.2-3.1" derivedCounter="1.">Client identity privacy: Client identities are not leaked during
	  service discovery or use.</li>
          <li pn="section-3.2-3.2" derivedCounter="2.">Multi-entity, mutual client and server identity privacy: Neither
	  client nor server identities are leaked during service discovery or
	  use.</li>
          <li pn="section-3.2-3.3" derivedCounter="3.">Single-entity, mutual client and server identity privacy:
	  Identities of clients and servers owned and managed by the same
	  legal person are not leaked during service discovery or use.</li>
        </ol>
        <t indent="0" pn="section-3.2-4">In this section, we describe aspects of DNS-SD that make these
	requirements difficult to achieve in practice. While it is intended to
	be thorough, it is not possible to be exhaustive.</t>
        <t indent="0" pn="section-3.2-5">Client identity privacy, if not addressed properly, can be thwarted
	by a passive attacker (see <xref target="threatmodel" format="default" sectionFormat="of" derivedContent="Section 2"/>). The type of passive attacker necessary depends on
	the means of making service information available. Information
	conveyed via multicast messages can be obtained by an on-link
	attacker. Unicast messages are harder to access,
but if the transmission is not encrypted they could still be accessed by
an attacker with access to network routers or bridges. Using multi-link service discovery
	solutions <xref target="RFC7558" format="default" sectionFormat="of" derivedContent="RFC7558"/>, external
	attackers have to be taken into consideration as well, e.g., when
	relaying multicast messages to other links.</t>
        <t indent="0" pn="section-3.2-6">Server identity privacy can be thwarted by a passive attacker in
	the same way as client identity privacy. Additionally, active
	attackers querying for information have to be taken into consideration
	as well. This is mainly relevant for unicast-based discovery, where
	listening to discovery traffic requires a MITM attacker; however, an
	external active attacker might be able to learn the server identity by
	just querying for service information, e.g., via DNS.</t>
        <section anchor="RRs" numbered="true" toc="include" removeInRFC="false" pn="section-3.2.1">
          <name slugifiedName="name-information-made-available-">Information Made Available Via DNS-SD Resource Records</name>
          <t indent="0" pn="section-3.2.1-1">DNS-Based Service Discovery (DNS-SD) is defined in <xref target="RFC6763" format="default" sectionFormat="of" derivedContent="RFC6763"/>. It allows nodes to publish the
	  availability of an instance of a service by inserting specific
	  records in the DNS (<xref target="RFC1033" format="default" sectionFormat="of" derivedContent="RFC1033"/>, <xref target="RFC1034" format="default" sectionFormat="of" derivedContent="RFC1034"/>, and <xref target="RFC1035" format="default" sectionFormat="of" derivedContent="RFC1035"/>) or by publishing these records locally using
	  multicast DNS (mDNS) <xref target="RFC6762" format="default" sectionFormat="of" derivedContent="RFC6762"/>. Available services are described using three
	  types of records:</t>
          <dl newline="true" spacing="normal" indent="3" pn="section-3.2.1-2">
            <dt pn="section-3.2.1-2.1">PTR Record</dt>
            <dd pn="section-3.2.1-2.2">Associates a service type in the domain with an "instance"
	    name of this service type.</dd>
            <dt pn="section-3.2.1-2.3">SRV Record</dt>
            <dd pn="section-3.2.1-2.4">Provides the node name, port number, priority and weight
	    associated with the service instance, in conformance with <xref target="RFC2782" format="default" sectionFormat="of" derivedContent="RFC2782"/>.</dd>
            <dt pn="section-3.2.1-2.5">TXT Record</dt>
            <dd pn="section-3.2.1-2.6">Provides a set of attribute-value pairs describing specific
	    properties of the service instance.</dd>
          </dl>
        </section>
        <section anchor="instanceLeak" numbered="true" toc="include" removeInRFC="false" pn="section-3.2.2">
          <name slugifiedName="name-privacy-implication-of-publ">Privacy Implication of Publishing Service Instance Names</name>
          <t indent="0" pn="section-3.2.2-1">In the first phase of discovery, clients obtain all PTR records
	  associated with a service type in a given naming domain. Each PTR
	  record contains a Service Instance Name defined in
	  <xref target="RFC6763" sectionFormat="of" section="4" format="default" derivedLink="https://rfc-editor.org/rfc/rfc6763#section-4" derivedContent="RFC6763"/>:</t>
          <sourcecode markers="false" pn="section-3.2.2-2">
  Service Instance Name = &lt;Instance&gt; . &lt;Service&gt; . &lt;Domain&gt;
</sourcecode>
          <t indent="0" pn="section-3.2.2-3">The &lt;Instance&gt; portion of the Service Instance Name is
	  meant to convey enough information for users of discovery clients to
	  easily select the desired service instance. Nodes that use DNS-SD
	  over mDNS <xref target="RFC6762" format="default" sectionFormat="of" derivedContent="RFC6762"/> in a mobile
	  environment will rely on the specificity of the instance name to
	  identify the desired service instance. In our example of users
	  wanting to upload pictures to a laptop in an Internet cafe, the list
	  of available service instances may look like:</t>
          <sourcecode markers="false" pn="section-3.2.2-4">
Alice's Images         . _imageStore._tcp . local
Alice's Mobile Phone   . _presence._tcp   . local
Alice's Notebook       . _presence._tcp   . local
Bob's Notebook         . _presence._tcp   . local
Carol's Notebook       . _presence._tcp   . local
</sourcecode>
          <t indent="0" pn="section-3.2.2-5">Alice will see the list on her phone and understand intuitively
	  that she should pick the first item. The discovery will "just
	  work". (Note that our examples of service names conform to the
	  specification in <xref target="RFC6763" sectionFormat="of" section="4.1" format="default" derivedLink="https://rfc-editor.org/rfc/rfc6763#section-4.1" derivedContent="RFC6763"/> but may require some character escaping when 
	  entered in conventional DNS software.)</t>
          <t indent="0" pn="section-3.2.2-6">However, DNS-SD/mDNS will reveal to anybody that Alice is
	  currently visiting the Internet cafe. It further discloses the fact
	  that she uses two devices, shares an image store, and uses a chat
	  application supporting the _presence protocol on both of her
	  devices. She might currently chat with Bob or Carol, as they are
	  also using a _presence supporting chat application. This information
	  is not just available to devices actively browsing for and offering
	  services but to anybody passively listening to the network traffic,
	  i.e., a passive on-link attacker.</t>
          <t indent="0" pn="section-3.2.2-7">There is, of course, also no authentication requirement to claim
	  a particular instance name, so an active attacker can provide
	  resources that claim to be Alice's but are not.</t>
        </section>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-3.2.3">
          <name slugifiedName="name-privacy-implication-of-publi">Privacy Implication of Publishing Node Names</name>
          <t indent="0" pn="section-3.2.3-1">The SRV records contain the DNS name of the node publishing the
	  service. Typical implementations construct this DNS name by
	  concatenating the "hostname" of the node with the name of the local
	  domain. The privacy implications of this practice are reviewed in
	  <xref target="RFC8117" format="default" sectionFormat="of" derivedContent="RFC8117"/>. Depending on naming
	  practices, the hostname is either a strong identifier of the
	  device or, at a minimum, a partial identifier. It enables tracking of
	  both the device and, by extension, the device's owner.</t>
        </section>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-3.2.4">
          <name slugifiedName="name-privacy-implication-of-publis">Privacy Implication of Publishing Service Attributes</name>
          <t indent="0" pn="section-3.2.4-1">The TXT record's attribute-value pairs contain information on the
	  characteristics of the corresponding service instance. This in turn
	  reveals information about the devices that publish services. The
	  amount of information varies widely with the particular service and
	  its implementation:</t>
          <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-3.2.4-2">
            <li pn="section-3.2.4-2.1">Some attributes, such as the paper size available in a
	    printer, are the same on many devices and thus only provide
	    limited information to a tracker.</li>
            <li pn="section-3.2.4-2.2">Attributes that have free-form values, such as the name of a
	    directory, may reveal much more information.</li>
          </ul>
          <t indent="0" pn="section-3.2.4-3">Combinations of individual attributes have more information power
	  than specific attributes and can potentially be used for
	  "fingerprinting" a specific device.</t>
          <t indent="0" pn="section-3.2.4-4">Information contained in TXT records not only breaches privacy by
	  making devices trackable but might directly contain private
	  information about the user. For instance, the _presence service
	  reveals the "chat status" to everyone in the same network. Users
	  might not be aware of that.</t>
          <t indent="0" pn="section-3.2.4-5">Further, TXT records often contain version information about
	  services, allowing potential attackers to identify devices running
	  exploit-prone versions of a certain service.</t>
        </section>
        <section anchor="serverFingerprint" numbered="true" toc="include" removeInRFC="false" pn="section-3.2.5">
          <name slugifiedName="name-device-fingerprinting">Device Fingerprinting</name>
          <t indent="0" pn="section-3.2.5-1">The combination of information published in DNS-SD has the
	  potential to provide a "fingerprint" of a specific device. Such
	  information includes:</t>
          <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-3.2.5-2">
            <li pn="section-3.2.5-2.1">A list of services published by the device, which can be
	    retrieved because the SRV records will point to the same
	    hostname.</li>
            <li pn="section-3.2.5-2.2">Specific attributes describing these services.</li>
            <li pn="section-3.2.5-2.3">Port numbers used by the services.</li>
            <li pn="section-3.2.5-2.4">Priority and weight attributes in the SRV records.</li>
          </ul>
          <t indent="0" pn="section-3.2.5-3">This combination of services and attributes will often be
	  sufficient to identify the version of the software running on a
	  device. If a device publishes many services with rich sets of
	  attributes, the combination may be sufficient to identify the
	  specific device and track its owner.</t>
          <t indent="0" pn="section-3.2.5-4">An argument is sometimes made that devices providing services can
	  be identified by observing the local traffic and that trying to
	  hide the presence of the service is futile. However, there are good
	  reasons for the discovery service layer to avoid unnecessary
	  exposure:</t>
          <ol spacing="normal" type="1" indent="adaptive" start="1" pn="section-3.2.5-5">
            <li pn="section-3.2.5-5.1" derivedCounter="1.">Providing privacy at the discovery layer is of the essence for
	    enabling automatically configured privacy-preserving network
	    applications. Application layer protocols are not forced to
	    leverage the offered privacy, but if device tracking is not
	    prevented at the deeper layers, including the service discovery
	    layer, obfuscating a certain service's protocol at the application
	    layer is futile.</li>
            <li pn="section-3.2.5-5.2" derivedCounter="2.">Further, in the case of mDNS-based discovery, even if the
	    application layer does not protect privacy, services are typically
	    provided via unicast, which requires a MITM attacker, whereas
	    identifying services based on multicast discovery messages just
	    requires an on-link attacker.</li>
          </ol>
          <t indent="0" pn="section-3.2.5-6">The same argument can be extended to say that the pattern of
	  services offered by a device allows for fingerprinting the
	  device. This may or may not be true, since we can expect that
	  services will be designed or updated to avoid leaking
	  fingerprints. In any case, the design of the discovery service
	  should avoid making a bad situation worse and should, as much as
	  possible, avoid providing new fingerprinting information.</t>
        </section>
        <section anchor="clientPrivacy" numbered="true" toc="include" removeInRFC="false" pn="section-3.2.6">
          <name slugifiedName="name-privacy-implication-of-disc">Privacy Implication of Discovering Services</name>
          <t indent="0" pn="section-3.2.6-1">The consumers of services engage in discovery and in doing so
	  reveal some information, such as the list of services they are
	  interested in and the domains in which they are looking for the
	  services. When the clients select specific instances of services,
	  they reveal their preference for these instances. This can be benign
	  if the service type is very common, but it could be more problematic
	  for sensitive services, such as some private messaging services.</t>
          <t indent="0" pn="section-3.2.6-2">One way to protect clients would be to somehow encrypt the
	  requested service types. Of course, just as we noted in <xref target="serverFingerprint" format="default" sectionFormat="of" derivedContent="Section 3.2.5"/>, traffic analysis can
	  often reveal the service.</t>
        </section>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-3.3">
        <name slugifiedName="name-security-considerations">Security Considerations</name>
        <t indent="0" pn="section-3.3-1">For each of the operations described above, we must also consider
	security threats we are concerned about.</t>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-3.3.1">
          <name slugifiedName="name-authenticity-integrity-and-">Authenticity, Integrity, and Freshness</name>
          <t indent="0" pn="section-3.3.1-1">Can devices (both servers and clients) trust the information they
          receive?  Has it been modified in flight by an adversary?  Can
          devices trust the source of the information?  Is the source of
          information fresh, i.e., not replayed?  Freshness may or may not be
          required depending on whether the discovery process is meant to be
          online. In some cases, publishing discovery information to a shared
          directory or registry, rather than to each online recipient through
          a broadcast channel, may suffice.</t>
        </section>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-3.3.2">
          <name slugifiedName="name-confidentiality">Confidentiality</name>
          <t indent="0" pn="section-3.3.2-1">Confidentiality is about restricting information access to only
	  authorized individuals. Ideally, this should only be the appropriate
	  trusted parties, though it can be challenging to define who are "the
	  appropriate trusted parties." In some use cases, this may mean that
	  only mutually authenticated and trusting clients and servers can
	  read messages sent for one another. The process of service discovery
	  in particular is often used to discover new entities that the device
	  did not previously know about. It may be tricky to work out how a
	  device can have an established trust relationship with a new entity
	  it has never previously communicated with.</t>
        </section>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-3.3.3">
          <name slugifiedName="name-resistance-to-dictionary-at">Resistance to Dictionary Attacks</name>
          <t indent="0" pn="section-3.3.3-1">It can be tempting to use (publicly computable) hash functions to
	  obscure sensitive identifiers. This transforms a sensitive unique
	  identifier, such as an email address, into a "scrambled" but still
	  unique identifier. Unfortunately, simple solutions may be vulnerable
	  to offline dictionary attacks.</t>
        </section>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-3.3.4">
          <name slugifiedName="name-resistance-to-denial-of-ser">Resistance to Denial-of-Service Attacks</name>
          <t indent="0" pn="section-3.3.4-1">In any protocol where the receiver of messages has to perform
	  cryptographic operations on those messages, there is a risk of a
	  brute-force flooding attack causing the receiver to expend excessive
	  amounts of CPU time and, where applicable, battery power just
	  processing and discarding those messages.</t>
          <t indent="0" pn="section-3.3.4-2">Also, amplification attacks have to be taken into
	  consideration. Messages with larger payloads should only be sent as
	  an answer to a query sent by a verified client.</t>
        </section>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-3.3.5">
          <name slugifiedName="name-resistance-to-sender-impers">Resistance to Sender Impersonation</name>
          <t indent="0" pn="section-3.3.5-1">Sender impersonation is an attack wherein messages, such as
	  service offers, are forged by entities who do not possess the
	  corresponding secret key material. These attacks may be used to
	  learn the identity of a communicating party, actively or
	  passively.</t>
        </section>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-3.3.6">
          <name slugifiedName="name-sender-deniability">Sender Deniability</name>
          <t indent="0" pn="section-3.3.6-1">Deniability of sender activity, e.g., of broadcasting a discovery
	  request, may be desirable or necessary in some use cases. This
	  property ensures that eavesdroppers cannot prove senders issued a
	  specific message destined for one or more peers. </t>
        </section>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-3.4">
        <name slugifiedName="name-operational-considerations">Operational Considerations</name>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-3.4.1">
          <name slugifiedName="name-power-management">Power Management</name>
          <t indent="0" pn="section-3.4.1-1">Many modern devices, especially battery-powered devices, use
	  power management techniques to conserve energy. One such technique
	  is for a device to transfer information about itself to a proxy,
	  which will act on behalf of the device for some functions while the
	  device itself goes to sleep to reduce power consumption. When the
	  proxy determines that some action is required, which only the device
	  itself can perform, the proxy may have some way to wake the device,
	  as described for example in <xref target="SLEEP-PROXY" format="default" sectionFormat="of" derivedContent="SLEEP-PROXY"/>.</t>
          <t indent="0" pn="section-3.4.1-2">In many cases, the device may not trust the network proxy
	  sufficiently to share all its confidential key material with the
	  proxy. This poses challenges for combining private discovery that
	  relies on per-query cryptographic operations with energy-saving
	  techniques that rely on having (somewhat untrusted) network proxies
	  answer queries on behalf of sleeping devices.</t>
        </section>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-3.4.2">
          <name slugifiedName="name-protocol-efficiency">Protocol Efficiency</name>
          <t indent="0" pn="section-3.4.2-1">Creating a discovery protocol that has the desired security
	  properties may result in a design that is not efficient. To perform
	  the necessary operations, the protocol may need to send and receive a
	  large number of network packets or require an inordinate amount of
	  multicast transmissions. This may consume an unreasonable amount of
	  network capacity, particularly problematic when it is a shared
	  wireless spectrum. Further, it may cause an unnecessary level of
	  power consumption, which is particularly problematic on battery
	  devices and may result in the discovery process being slow.</t>
          <t indent="0" pn="section-3.4.2-2">It is a difficult challenge to design a discovery protocol that
	  has the property of obscuring the details of what it is doing from
	  unauthorized observers while also managing to perform
	  efficiently.</t>
        </section>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-3.4.3">
          <name slugifiedName="name-secure-initialization-and-t">Secure Initialization and Trust Models</name>
          <t indent="0" pn="section-3.4.3-1">One of the challenges implicit in the preceding discussions is
	  that whenever we discuss "trusted entities" versus "untrusted
	  entities", there needs to be some way that trust is initially
	  established to convert an "untrusted entity" into a "trusted
	  entity".</t>
          <t indent="0" pn="section-3.4.3-2">The purpose of this document is not to define the specific way in
	  which trust can be established. Protocol designers may rely on a
	  number of existing technologies, including PKI, Trust On First Use
	  (TOFU), or the use of a short passphrase or PIN with cryptographic
	  algorithms, such as Secure Remote Password (SRP) <xref target="RFC5054" format="default" sectionFormat="of" derivedContent="RFC5054"/> or a
	  Password-Authenticated Key
	  Exchange like J-PAKE <xref target="RFC8236" format="default" sectionFormat="of" derivedContent="RFC8236"/> using a Schnorr Non-interactive
	  Zero-Knowledge Proof <xref target="RFC8235" format="default" sectionFormat="of" derivedContent="RFC8235"/>.</t>
          <t indent="0" pn="section-3.4.3-3">Protocol designers should consider a specific usability pitfall
	  when trust is established immediately prior to performing
	  discovery. Users will have a tendency to "click OK" in order to
	  achieve their task. This implicit vulnerability is avoided if the
	  trust establishment requires more significant participation of the
	  user, such as entering a password or PIN.</t>
        </section>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-3.4.4">
          <name slugifiedName="name-external-dependencies">External Dependencies</name>
          <t indent="0" pn="section-3.4.4-1">Trust establishment may depend on external parties. Optionally,
	  this might involve synchronous communication. Systems that have
	  such a dependency may be attacked by interfering with communication
	  to external dependencies. Where possible, such dependencies should
	  be minimized. Local trust models are best for secure initialization
	  in the presence of active attackers.</t>
        </section>
      </section>
    </section>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-4">
      <name slugifiedName="name-requirements-for-a-dns-sd-p">Requirements for a DNS-SD Privacy Extension</name>
      <t indent="0" pn="section-4-1">Given the considerations discussed in the previous sections, we state
      requirements for privacy preserving DNS-SD in the following
      subsections.</t>
      <t indent="0" pn="section-4-2">Defining a solution according to these requirements is intended to
      lead to a solution that does not transmit privacy-violating DNS-SD
      messages and further does not open pathways to new attacks against the
      operation of DNS-SD.</t>
      <t indent="0" pn="section-4-3">However, while this document gives advice on which privacy protecting
      mechanisms should be used on deeper-layer network protocols and on how
      to actually connect to services in a privacy-preserving way, stating
      corresponding requirements is out of the scope of this document. To
      mitigate attacks against privacy on lower layers, both servers and
      clients must use privacy options available at lower layers and, for
      example, avoid publishing static IPv4 or IPv6 addresses or static IEEE
      802 Media Access Control (MAC) addresses. For services advertised on a
      single network link, 
      link-local IP addresses should be used; see <xref target="RFC3927" format="default" sectionFormat="of" derivedContent="RFC3927"/> and <xref target="RFC4291" format="default" sectionFormat="of" derivedContent="RFC4291"/> for
      IPv4 and IPv6, respectively. Static servers advertising services
      globally via DNS can hide their IP addresses from unauthorized clients
      using the split mode topology shown in Encrypted Server Name Indication
      <xref target="I-D.ietf-tls-esni" format="default" sectionFormat="of" derivedContent="ESNI"/>. Hiding static MAC addresses can be achieved via MAC
      address randomization (see <xref target="RFC7844" format="default" sectionFormat="of" derivedContent="RFC7844"/>).</t>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-4.1">
        <name slugifiedName="name-private-client-requirements">Private Client Requirements</name>
        <t indent="0" pn="section-4.1-1">For all three scenarios described in <xref target="scenarios" format="default" sectionFormat="of" derivedContent="Section 3.1"/>, client privacy requires DNS-SD messages to:</t>
        <ol spacing="normal" type="1" indent="adaptive" start="1" pn="section-4.1-2">
          <li pn="section-4.1-2.1" derivedCounter="1.">Avoid disclosure of the client's identity, either directly or
	  via inference, to nodes other than select servers.</li>
          <li pn="section-4.1-2.2" derivedCounter="2.">Avoid exposure of linkable identifiers that allow tracing client devices.</li>
          <li pn="section-4.1-2.3" derivedCounter="3.">Avoid disclosure of the client's interest in specific service
	  instances or service types to nodes other than select servers.</li>
        </ol>
        <t indent="0" pn="section-4.1-3">When listing and resolving services via current DNS-SD deployments,
	clients typically disclose their interest in specific services types
	and specific instances of these types, respectively.</t>
        <t indent="0" pn="section-4.1-4">In addition to the exposure and disclosure risks noted above,
	protocols and implementations will have to consider fingerprinting
	attacks (see <xref target="serverFingerprint" format="default" sectionFormat="of" derivedContent="Section 3.2.5"/>) that
	could retrieve similar information.</t>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-4.2">
        <name slugifiedName="name-private-server-requirements">Private Server Requirements</name>
        <t indent="0" pn="section-4.2-1">Servers like the "printer" discussed in <xref target="privclipubserv" format="default" sectionFormat="of" derivedContent="Section 3.1.1"/> are public, but
	the servers discussed in Sections <xref target="privcliprivserv" format="counter" sectionFormat="of" derivedContent="3.1.2"/> and <xref target="wearcliserv" format="counter" sectionFormat="of" derivedContent="3.1.3"/>
	are, by essence, private. 
	Server privacy requires DNS-SD messages
	to:</t>
        <ol spacing="normal" type="1" indent="adaptive" start="1" pn="section-4.2-2">
          <li pn="section-4.2-2.1" derivedCounter="1."> Avoid disclosure of the server's identity, either directly or
	  via inference, to nodes other than authorized clients. In
	  particular, servers must avoid publishing static identifiers, such as
	  hostnames or service names. When those fields are required by the
	  protocol, servers should publish randomized values. (See <xref target="RFC8117" format="default" sectionFormat="of" derivedContent="RFC8117"/> for a discussion of hostnames.)</li>
          <li pn="section-4.2-2.2" derivedCounter="2.">Avoid exposure of linkable identifiers that allow tracing servers.</li>
          <li pn="section-4.2-2.3" derivedCounter="3.">Avoid disclosure to unauthorized clients of Service Instance
	  Names or service types of offered services.</li>
          <li pn="section-4.2-2.4" derivedCounter="4.">Avoid disclosure to unauthorized clients of information about
	  the services they offer. </li>
          <li pn="section-4.2-2.5" derivedCounter="5.">Avoid disclosure of static IPv4 or IPv6 addresses.</li>
        </ol>
        <t indent="0" pn="section-4.2-3">When offering services via current DNS-SD deployments, servers
	typically disclose their hostnames (SRV, A/AAAA), instance names of
	offered services (PTR, SRV), and information about services
	(TXT). Heeding these requirements protects a server's privacy on the
	DNS-SD level.</t>
        <t indent="0" pn="section-4.2-4">The current DNS-SD user interfaces present the list of discovered
	service names to the users and let them pick a service from the
	list. Using random identifiers for service names renders that UI flow
	unusable. Privacy-respecting discovery protocols will have to solve
	this issue, for example, by presenting authenticated or decrypted
	service names instead of the randomized values.</t>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-4.3">
        <name slugifiedName="name-security-and-operation">Security and Operation</name>
        <t indent="0" pn="section-4.3-1">In order to be secure and feasible, a DNS-SD privacy extension
	needs to consider security and operational requirements including:</t>
        <ol spacing="normal" type="1" indent="adaptive" start="1" pn="section-4.3-2">
          <li pn="section-4.3-2.1" derivedCounter="1.">Avoiding significant CPU overhead on nodes or significantly
	  higher network load. Such overhead or load would make nodes
	  vulnerable to denial-of-service attacks. Further, it would increase
	  power consumption, which is damaging for IoT devices.</li>
          <li pn="section-4.3-2.2" derivedCounter="2.">Avoiding designs in which a small message can trigger a large
	  amount of traffic towards an unverified address, as this could be
	  exploited in amplification attacks.</li>
        </ol>
      </section>
    </section>
    <section anchor="iana" numbered="true" toc="include" removeInRFC="false" pn="section-5">
      <name slugifiedName="name-iana-considerations">IANA Considerations</name>
      <t indent="0" pn="section-5-1">This document has no IANA actions.</t>
    </section>
  </middle>
  <back>
    <displayreference target="I-D.ietf-dnssd-srp" to="SRP"/>
    <displayreference target="I-D.ietf-tls-esni" to="ESNI"/>
    <references pn="section-6">
      <name slugifiedName="name-references">References</name>
      <references pn="section-6.1">
        <name slugifiedName="name-normative-references">Normative References</name>
        <reference anchor="RFC6762" target="https://www.rfc-editor.org/info/rfc6762" quoteTitle="true" derivedAnchor="RFC6762">
          <front>
            <title>Multicast DNS</title>
            <author initials="S." surname="Cheshire" fullname="S. Cheshire">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Krochmal" fullname="M. Krochmal">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2013" month="February"/>
            <abstract>
              <t indent="0">As networked devices become smaller, more portable, and more ubiquitous, the ability to operate with less configured infrastructure is increasingly important.  In particular, the ability to look up DNS resource record data types (including, but not limited to, host names) in the absence of a conventional managed DNS server is useful.</t>
              <t indent="0">Multicast DNS (mDNS) provides the ability to perform DNS-like operations on the local link in the absence of any conventional Unicast DNS server.  In addition, Multicast DNS designates a portion of the DNS namespace to be free for local use, without the need to pay any annual fee, and without the need to set up delegations or otherwise configure a conventional DNS server to answer for those names.</t>
              <t indent="0">The primary benefits of Multicast DNS names are that (i) they require little or no administration or configuration to set them up, (ii) they work when no infrastructure is present, and (iii) they work during infrastructure failures.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="6762"/>
          <seriesInfo name="DOI" value="10.17487/RFC6762"/>
        </reference>
        <reference anchor="RFC6763" target="https://www.rfc-editor.org/info/rfc6763" quoteTitle="true" derivedAnchor="RFC6763">
          <front>
            <title>DNS-Based Service Discovery</title>
            <author initials="S." surname="Cheshire" fullname="S. Cheshire">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Krochmal" fullname="M. Krochmal">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2013" month="February"/>
            <abstract>
              <t indent="0">This document specifies how DNS resource records are named and structured to facilitate service discovery.  Given a type of service that a client is looking for, and a domain in which the client is looking for that service, this mechanism allows clients to discover a list of named instances of that desired service, using standard DNS queries. This mechanism is referred to as DNS-based Service Discovery, or DNS-SD.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="6763"/>
          <seriesInfo name="DOI" value="10.17487/RFC6763"/>
        </reference>
      </references>
      <references pn="section-6.2">
        <name slugifiedName="name-informative-references">Informative References</name>
        <reference anchor="I-D.ietf-tls-esni" quoteTitle="true" target="https://tools.ietf.org/html/draft-ietf-tls-esni-07" derivedAnchor="ESNI">
          <front>
            <title>TLS Encrypted Client Hello</title>
            <author fullname="Eric Rescorla">
              <organization showOnFrontPage="true">RTFM, Inc.</organization>
            </author>
            <author fullname="Kazuho Oku">
              <organization showOnFrontPage="true">Fastly</organization>
            </author>
            <author fullname="Nick Sullivan">
              <organization showOnFrontPage="true">Cloudflare</organization>
            </author>
            <author fullname="Christopher A. Wood">
              <organization showOnFrontPage="true">Cloudflare</organization>
            </author>
            <date month="June" day="1" year="2020"/>
            <abstract>
              <t indent="0">   This document describes a mechanism in Transport Layer Security (TLS)
   for encrypting a ClientHello message under a server public key.

              </t>
            </abstract>
          </front>
          <seriesInfo name="Internet-Draft" value="draft-ietf-tls-esni-07"/>
          <format type="TXT" target="https://www.ietf.org/internet-drafts/draft-ietf-tls-esni-07.txt"/>
          <refcontent>Work in Progress</refcontent>
        </reference>
        <reference anchor="K17" target="https://nbn-resolving.de/urn:nbn:de:bsz:352-0-422757" quoteTitle="true" derivedAnchor="K17">
          <front>
            <title>Efficient Privacy-Preserving Configurationless Service Discovery Supporting Multi-Link Networks</title>
            <author initials="D." surname="Kaiser" fullname="Daniel Kaiser">
              <organization showOnFrontPage="true"/>
            </author>
            <date month="August" year="2017"/>
          </front>
        </reference>
        <reference anchor="KW14a" target="https://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=7011331" quoteTitle="true" derivedAnchor="KW14a">
          <front>
            <title>Adding Privacy to Multicast DNS Service Discovery</title>
            <author initials="D." surname="Kaiser" fullname="Daniel Kaiser">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Waldvogel" fullname="Marcel Waldvogel">
              <organization showOnFrontPage="true"/>
            </author>
            <date month="September" year="2014"/>
          </front>
          <seriesInfo name="DOI" value="10.1109/TrustCom.2014.107"/>
        </reference>
        <reference anchor="KW14b" target="https://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=7056899" quoteTitle="true" derivedAnchor="KW14b">
          <front>
            <title>Efficient Privacy Preserving Multicast DNS Service Discovery</title>
            <author initials="D." surname="Kaiser" fullname="Daniel Kaiser">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Waldvogel" fullname="Marcel Waldvogel">
              <organization showOnFrontPage="true"/>
            </author>
            <date month="August" year="2014"/>
          </front>
          <seriesInfo name="DOI" value="10.1109/HPCC.2014.141"/>
        </reference>
        <reference anchor="RFC1033" target="https://www.rfc-editor.org/info/rfc1033" quoteTitle="true" derivedAnchor="RFC1033">
          <front>
            <title>Domain Administrators Operations Guide</title>
            <author initials="M." surname="Lottor" fullname="M. Lottor">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="1987" month="November"/>
            <abstract>
              <t indent="0">This RFC provides guidelines for domain administrators in operating a domain server and maintaining their portion of the hierarchical database.  Familiarity with the domain system is assumed (see RFCs 1031, 1032, 1034, and 1035).</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="1033"/>
          <seriesInfo name="DOI" value="10.17487/RFC1033"/>
        </reference>
        <reference anchor="RFC1034" target="https://www.rfc-editor.org/info/rfc1034" quoteTitle="true" derivedAnchor="RFC1034">
          <front>
            <title>Domain names - concepts and facilities</title>
            <author initials="P.V." surname="Mockapetris" fullname="P.V. Mockapetris">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="1987" month="November"/>
            <abstract>
              <t indent="0">This RFC is the revised basic definition of The Domain Name System.  It obsoletes RFC-882.  This memo describes the domain style names and their used for host address look up and electronic mail forwarding.  It discusses the clients and servers in the domain name system and the protocol used between them.</t>
            </abstract>
          </front>
          <seriesInfo name="STD" value="13"/>
          <seriesInfo name="RFC" value="1034"/>
          <seriesInfo name="DOI" value="10.17487/RFC1034"/>
        </reference>
        <reference anchor="RFC1035" target="https://www.rfc-editor.org/info/rfc1035" quoteTitle="true" derivedAnchor="RFC1035">
          <front>
            <title>Domain names - implementation and specification</title>
            <author initials="P.V." surname="Mockapetris" fullname="P.V. Mockapetris">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="1987" month="November"/>
            <abstract>
              <t indent="0">This RFC is the revised specification of the protocol and format used in the implementation of the Domain Name System.  It obsoletes RFC-883. This memo documents the details of the domain name client - server communication.</t>
            </abstract>
          </front>
          <seriesInfo name="STD" value="13"/>
          <seriesInfo name="RFC" value="1035"/>
          <seriesInfo name="DOI" value="10.17487/RFC1035"/>
        </reference>
        <reference anchor="RFC2782" target="https://www.rfc-editor.org/info/rfc2782" quoteTitle="true" derivedAnchor="RFC2782">
          <front>
            <title>A DNS RR for specifying the location of services (DNS SRV)</title>
            <author initials="A." surname="Gulbrandsen" fullname="A. Gulbrandsen">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="P." surname="Vixie" fullname="P. Vixie">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="L." surname="Esibov" fullname="L. Esibov">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2000" month="February"/>
            <abstract>
              <t indent="0">This document describes a DNS RR which specifies the location of the server(s) for a specific protocol and domain.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="2782"/>
          <seriesInfo name="DOI" value="10.17487/RFC2782"/>
        </reference>
        <reference anchor="RFC3927" target="https://www.rfc-editor.org/info/rfc3927" quoteTitle="true" derivedAnchor="RFC3927">
          <front>
            <title>Dynamic Configuration of IPv4 Link-Local Addresses</title>
            <author initials="S." surname="Cheshire" fullname="S. Cheshire">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B." surname="Aboba" fullname="B. Aboba">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="E." surname="Guttman" fullname="E. Guttman">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2005" month="May"/>
            <abstract>
              <t indent="0">To participate in wide-area IP networking, a host needs to be configured with IP addresses for its interfaces, either manually by the user or automatically from a source on the network such as a Dynamic Host Configuration Protocol (DHCP) server.  Unfortunately, such address configuration information may not always be available. It is therefore beneficial for a host to be able to depend on a useful subset of IP networking functions even when no address configuration is available.  This document describes how a host may automatically configure an interface with an IPv4 address within the 169.254/16 prefix that is valid for communication with other devices connected to the same physical (or logical) link.</t>
              <t indent="0">IPv4 Link-Local addresses are not suitable for communication with devices not directly connected to the same physical (or logical) link, and are only used where stable, routable addresses are not available (such as on ad hoc or isolated networks).  This document does not recommend that IPv4 Link-Local addresses and routable addresses be configured simultaneously on the same interface.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="3927"/>
          <seriesInfo name="DOI" value="10.17487/RFC3927"/>
        </reference>
        <reference anchor="RFC4291" target="https://www.rfc-editor.org/info/rfc4291" quoteTitle="true" derivedAnchor="RFC4291">
          <front>
            <title>IP Version 6 Addressing Architecture</title>
            <author initials="R." surname="Hinden" fullname="R. Hinden">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Deering" fullname="S. Deering">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2006" month="February"/>
            <abstract>
              <t indent="0">This specification defines the addressing architecture of the IP Version 6 (IPv6) protocol.  The document includes the IPv6 addressing model, text representations of IPv6 addresses, definition of IPv6 unicast addresses, anycast addresses, and multicast addresses, and an IPv6 node's required addresses.</t>
              <t indent="0">This document obsoletes RFC 3513, "IP Version 6 Addressing Architecture".   [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="4291"/>
          <seriesInfo name="DOI" value="10.17487/RFC4291"/>
        </reference>
        <reference anchor="RFC5054" target="https://www.rfc-editor.org/info/rfc5054" quoteTitle="true" derivedAnchor="RFC5054">
          <front>
            <title>Using the Secure Remote Password (SRP) Protocol for TLS Authentication</title>
            <author initials="D." surname="Taylor" fullname="D. Taylor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="T." surname="Wu" fullname="T. Wu">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="N." surname="Mavrogiannopoulos" fullname="N. Mavrogiannopoulos">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="T." surname="Perrin" fullname="T. Perrin">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2007" month="November"/>
            <abstract>
              <t indent="0">This memo presents a technique for using the Secure Remote Password protocol as an authentication method for the Transport Layer Security protocol.  This memo provides information for the Internet community.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5054"/>
          <seriesInfo name="DOI" value="10.17487/RFC5054"/>
        </reference>
        <reference anchor="RFC7558" target="https://www.rfc-editor.org/info/rfc7558" quoteTitle="true" derivedAnchor="RFC7558">
          <front>
            <title>Requirements for Scalable DNS-Based Service Discovery (DNS-SD) / Multicast DNS (mDNS) Extensions</title>
            <author initials="K." surname="Lynn" fullname="K. Lynn">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Cheshire" fullname="S. Cheshire">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Blanchet" fullname="M. Blanchet">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="D." surname="Migault" fullname="D. Migault">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2015" month="July"/>
            <abstract>
              <t indent="0">DNS-based Service Discovery (DNS-SD) over Multicast DNS (mDNS) is widely used today for discovery and resolution of services and names on a local link, but there are use cases to extend DNS-SD/mDNS to enable service discovery beyond the local link.  This document provides a problem statement and a list of requirements for scalable DNS-SD.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7558"/>
          <seriesInfo name="DOI" value="10.17487/RFC7558"/>
        </reference>
        <reference anchor="RFC7844" target="https://www.rfc-editor.org/info/rfc7844" quoteTitle="true" derivedAnchor="RFC7844">
          <front>
            <title>Anonymity Profiles for DHCP Clients</title>
            <author initials="C." surname="Huitema" fullname="C. Huitema">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="T." surname="Mrugalski" fullname="T. Mrugalski">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Krishnan" fullname="S. Krishnan">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2016" month="May"/>
            <abstract>
              <t indent="0">Some DHCP options carry unique identifiers.  These identifiers can enable device tracking even if the device administrator takes care of randomizing other potential identifications like link-layer addresses or IPv6 addresses.  The anonymity profiles are designed for clients that wish to remain anonymous to the visited network.  The profiles provide guidelines on the composition of DHCP or DHCPv6 messages, designed to minimize disclosure of identifying information.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7844"/>
          <seriesInfo name="DOI" value="10.17487/RFC7844"/>
        </reference>
        <reference anchor="RFC8117" target="https://www.rfc-editor.org/info/rfc8117" quoteTitle="true" derivedAnchor="RFC8117">
          <front>
            <title>Current Hostname Practice Considered Harmful</title>
            <author initials="C." surname="Huitema" fullname="C. Huitema">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="D." surname="Thaler" fullname="D. Thaler">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Winter" fullname="R. Winter">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2017" month="March"/>
            <abstract>
              <t indent="0">Giving a hostname to your computer and publishing it as you roam from one network to another is the Internet's equivalent of walking around with a name tag affixed to your lapel.  This current practice can significantly compromise your privacy, and something should change in order to mitigate these privacy threats.</t>
              <t indent="0">There are several possible remedies, such as fixing a variety of protocols or avoiding disclosing a hostname at all.  This document describes some of the protocols that reveal hostnames today and sketches another possible remedy, which is to replace static hostnames by frequently changing randomized values.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8117"/>
          <seriesInfo name="DOI" value="10.17487/RFC8117"/>
        </reference>
        <reference anchor="RFC8235" target="https://www.rfc-editor.org/info/rfc8235" quoteTitle="true" derivedAnchor="RFC8235">
          <front>
            <title>Schnorr Non-interactive Zero-Knowledge Proof</title>
            <author initials="F." surname="Hao" fullname="F. Hao" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2017" month="September"/>
            <abstract>
              <t indent="0">This document describes the Schnorr non-interactive zero-knowledge (NIZK) proof, a non-interactive variant of the three-pass Schnorr identification scheme.  The Schnorr NIZK proof allows one to prove the knowledge of a discrete logarithm without leaking any information about its value.  It can serve as a useful building block for many cryptographic protocols to ensure that participants follow the protocol specification honestly.  This document specifies the Schnorr NIZK proof in both the finite field and the elliptic curve settings.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8235"/>
          <seriesInfo name="DOI" value="10.17487/RFC8235"/>
        </reference>
        <reference anchor="RFC8236" target="https://www.rfc-editor.org/info/rfc8236" quoteTitle="true" derivedAnchor="RFC8236">
          <front>
            <title>J-PAKE: Password-Authenticated Key Exchange by Juggling</title>
            <author initials="F." surname="Hao" fullname="F. Hao" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2017" month="September"/>
            <abstract>
              <t indent="0">This document specifies a Password-Authenticated Key Exchange by Juggling (J-PAKE) protocol.  This protocol allows the establishment of a secure end-to-end communication channel between two remote parties over an insecure network solely based on a shared password, without requiring a Public Key Infrastructure (PKI) or any trusted third party.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8236"/>
          <seriesInfo name="DOI" value="10.17487/RFC8236"/>
        </reference>
        <reference anchor="SLEEP-PROXY" target="http://stuartcheshire.org/SleepProxy/index.html" quoteTitle="true" derivedAnchor="SLEEP-PROXY">
          <front>
            <title>Understanding Sleep Proxy Service</title>
            <author initials="S." surname="Cheshire" fullname="Stuart Cheshire">
              <organization showOnFrontPage="true"/>
            </author>
            <date month="December" year="2009"/>
          </front>
        </reference>
        <reference anchor="I-D.ietf-dnssd-srp" quoteTitle="true" target="https://tools.ietf.org/html/draft-ietf-dnssd-srp-04" derivedAnchor="SRP">
          <front>
            <title>Service Registration Protocol for DNS-Based Service Discovery</title>
            <author fullname="Ted Lemon">
              <organization showOnFrontPage="true">Apple Inc.</organization>
            </author>
            <author fullname="Stuart Cheshire">
              <organization showOnFrontPage="true">Apple Inc.</organization>
            </author>
            <date month="July" day="13" year="2020"/>
            <abstract>
              <t indent="0">   The Service Registration Protocol for DNS-Based Service Discovery
   uses the standard DNS Update mechanism to enable DNS-Based Service
   Discovery using only unicast packets.  This makes it possible to
   deploy DNS Service Discovery without multicast, which greatly
   improves scalability and improves performance on networks where
   multicast service is not an optimal choice, particularly 802.11
   (Wi-Fi) and 802.15.4 (IoT) networks.  DNS-SD Service registration
   uses public keys and SIG(0) to allow services to defend their
   registrations against attack.

              </t>
            </abstract>
          </front>
          <seriesInfo name="Internet-Draft" value="draft-ietf-dnssd-srp-04"/>
          <format type="TXT" target="https://www.ietf.org/internet-drafts/draft-ietf-dnssd-srp-04.txt"/>
          <refcontent>Work in Progress</refcontent>
        </reference>
      </references>
    </references>
    <section numbered="false" toc="include" removeInRFC="false" pn="section-appendix.a">
      <name slugifiedName="name-acknowledgments">Acknowledgments</name>
      <t indent="0" pn="section-appendix.a-1">This document incorporates many contributions from <contact fullname="Stuart Cheshire"/> and <contact fullname="Chris       Wood"/>. Thanks to <contact fullname="Florian Adamsky"/> for extensive
      review and suggestions on the organization of the threat model. Thanks
      to <contact fullname="Barry Leiba"/> for an extensive review. Thanks to
      <contact fullname="Roman Danyliw"/>, <contact fullname="Ben Kaduk"/>,
      <contact fullname="Adam Roach"/>, and <contact fullname="Alissa Cooper"/>
      for their comments during IESG review.</t>
    </section>
    <section anchor="authors-addresses" numbered="false" removeInRFC="false" toc="include" pn="section-appendix.b">
      <name slugifiedName="name-authors-addresses">Authors' Addresses</name>
      <author fullname="Christian Huitema" initials="C." surname="Huitema">
        <organization showOnFrontPage="true">Private Octopus Inc.</organization>
        <address>
          <postal>
            <street/>
            <city>Friday Harbor</city>
            <code>98250</code>
            <region>WA</region>
            <country>United States of America</country>
          </postal>
          <email>huitema@huitema.net</email>
          <uri>http://privateoctopus.com/</uri>
        </address>
      </author>
      <author fullname="Daniel Kaiser" initials="D." surname="Kaiser">
        <organization showOnFrontPage="true">University of Luxembourg</organization>
        <address>
          <postal>
            <street>6, avenue de la Fonte</street>
            <city>Esch-sur-Alzette</city>
            <code>4364</code>
            <region/>
            <country>Luxembourg</country>
          </postal>
          <email>daniel.kaiser@uni.lu</email>
          <uri>https://secan-lab.uni.lu/</uri>
        </address>
      </author>
    </section>
  </back>
</rfc>
