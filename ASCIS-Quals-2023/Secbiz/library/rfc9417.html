<!DOCTYPE html>
<html lang="en" class="RFC">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>RFC 9417: Service Assurance for Intent-Based Networking Architecture</title>
<meta content="Benoit Claise" name="author">
<meta content="Jean Quilbeuf" name="author">
<meta content="Diego R. Lopez" name="author">
<meta content="Dan Voyer" name="author">
<meta content="Thangavelu Arumugam" name="author">
<meta content="
        
        This document describes an architecture that provides some assurance that service instances are running as expected.
        As services rely upon multiple subservices provided by a variety of elements, including the underlying network devices and functions,
          getting the assurance of a healthy service is only possible with a holistic view of all involved elements.
          This architecture not only helps to correlate the service degradation with symptoms of a specific network component but, it also lists the services impacted by the failure or degradation of a specific network component.
       
    " name="description">
<meta content="xml2rfc 3.17.4" name="generator">
<meta content="9417" name="rfc.number">
<!-- Generator version information:
  xml2rfc 3.17.4
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    wcwidth 0.2.5
    weasyprint 56.1
-->
<link href="rfc9417.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef,
.iref + a[href].internal {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<link href="https://dx.doi.org/10.17487/rfc9417" rel="alternate">
  <link href="urn:issn:2070-1721" rel="alternate">
  <link href="https://datatracker.ietf.org/doc/draft-ietf-opsawg-service-assurance-architecture-13" rel="prev">
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9417</td>
<td class="center">SAIN Architecture</td>
<td class="right">July 2023</td>
</tr></thead>
<tfoot><tr>
<td class="left">Claise, et al.</td>
<td class="center">Informational</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a href="https://www.rfc-editor.org/rfc/rfc9417" class="eref">9417</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Informational</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2023-07" class="published">July 2023</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">B. Claise</div>
<div class="org">Huawei</div>
</div>
<div class="author">
      <div class="author-name">J. Quilbeuf</div>
<div class="org">Huawei</div>
</div>
<div class="author">
      <div class="author-name">D. Lopez</div>
<div class="org">Telefonica I+D</div>
</div>
<div class="author">
      <div class="author-name">D. Voyer</div>
<div class="org">Bell Canada</div>
</div>
<div class="author">
      <div class="author-name">T. Arumugam</div>
<div class="org">Consultant</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9417</h1>
<h1 id="title">Service Assurance for Intent-Based Networking Architecture</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1"> 
        This document describes an architecture that provides some assurance that service instances are running as expected.
        As services rely upon multiple subservices provided by a variety of elements, including the underlying network devices and functions,
          getting the assurance of a healthy service is only possible with a holistic view of all involved elements.
          This architecture not only helps to correlate the service degradation with symptoms of a specific network component but, it also lists the services impacted by the failure or degradation of a specific network component.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This document is not an Internet Standards Track specification; it is
            published for informational purposes.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by the
            Internet Engineering Steering Group (IESG).  Not all documents
            approved by the IESG are candidates for any level of Internet
            Standard; see Section 2 of RFC 7841.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9417">https://www.rfc-editor.org/info/rfc9417</a></span>.<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2023 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-terminology" class="internal xref">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-a-functional-architecture" class="internal xref">A Functional Architecture</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-translating-a-service-insta" class="internal xref">Translating a Service Instance Configuration into an Assurance Graph</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.1">
                    <p id="section-toc.1-1.3.2.1.2.1.1" class="keepWithNext"><a href="#section-3.1.1" class="auto internal xref">3.1.1</a>.  <a href="#name-circular-dependencies" class="internal xref">Circular Dependencies</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-intent-and-assurance-graph" class="internal xref">Intent and Assurance Graph</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-subservices" class="internal xref">Subservices</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="auto internal xref">3.4</a>.  <a href="#name-building-the-expression-gra" class="internal xref">Building the Expression Graph from the Assurance Graph</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a href="#section-3.5" class="auto internal xref">3.5</a>.  <a href="#name-open-interfaces-with-yang-m" class="internal xref">Open Interfaces with YANG Modules</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.6">
                <p id="section-toc.1-1.3.2.6.1"><a href="#section-3.6" class="auto internal xref">3.6</a>.  <a href="#name-handling-maintenance-window" class="internal xref">Handling Maintenance Windows</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.7">
                <p id="section-toc.1-1.3.2.7.1"><a href="#section-3.7" class="auto internal xref">3.7</a>.  <a href="#name-flexible-functional-archite" class="internal xref">Flexible Functional Architecture</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.8">
                <p id="section-toc.1-1.3.2.8.1"><a href="#section-3.8" class="auto internal xref">3.8</a>.  <a href="#name-time-window-for-symptoms-hi" class="internal xref">Time Window for Symptoms' History</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.9">
                <p id="section-toc.1-1.3.2.9.1"><a href="#section-3.9" class="auto internal xref">3.9</a>.  <a href="#name-new-assurance-graph-generat" class="internal xref">New Assurance Graph Generation</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-acknowledgements" class="internal xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-contributors" class="internal xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-C" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
        Network Service YANG Modules  <span>[<a href="#RFC8199" class="cite xref">RFC8199</a>]</span> describe the configuration, state data, operations, and notifications of abstract representations of services implemented on one or multiple network elements.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">
        Service orchestrators use Network Service YANG Modules that will infer network-wide configuration and, therefore, the invocation of the appropriate device modules (<span><a href="https://www.rfc-editor.org/rfc/rfc8969#section-3" class="relref">Section 3</a> of [<a href="#RFC8969" class="cite xref">RFC8969</a>]</span>).
           Knowing that a configuration is applied doesn't imply that the provisioned service instance is up and running as expected.
           For instance, the service might be degraded because of a failure in the network, the service quality may be degraded, or a service function may be reachable at the IP level but does not provide its intended function.
           Thus, the network operator must monitor the service's operational data at the same time as the configuration (<span><a href="https://www.rfc-editor.org/rfc/rfc8969#section-3.3" class="relref">Section 3.3</a> of [<a href="#RFC8969" class="cite xref">RFC8969</a>]</span>).
           To fuel that task, the industry has been standardizing on telemetry to push network element performance information (e.g., <span>[<a href="#RFC9375" class="cite xref">RFC9375</a>]</span>).<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">
        A network administrator needs to monitor its network and services as a whole, independently of the management protocols.
           With different protocols come different data models and different ways to model the same type of information.
           When network administrators deal with multiple management protocols, the network management entities have to perform the difficult and time-consuming job of mapping data models,
           e.g., the model used for configuration with the model used for monitoring when separate models or protocols are used.
           This problem is compounded by a large, disparate set of data sources (e.g., MIB modules, YANG data models <span>[<a href="#RFC7950" class="cite xref">RFC7950</a>]</span>, IP Flow Information Export (IPFIX) information elements <span>[<a href="#RFC7011" class="cite xref">RFC7011</a>]</span>, syslog plain text <span>[<a href="#RFC5424" class="cite xref">RFC5424</a>]</span>, Terminal Access Controller Access-Control System Plus (TACACS+) <span>[<a href="#RFC8907" class="cite xref">RFC8907</a>]</span>, RADIUS <span>[<a href="#RFC2865" class="cite xref">RFC2865</a>]</span>, etc.).
           In order to avoid this data model mapping, the industry converged on model-driven telemetry to stream the service operational data, reusing the YANG data models used for configuration.
           Model-driven telemetry greatly facilitates the notion of closed-loop automation, whereby events and updated operational states streamed from the network drive remediation change back into the network.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">
        However, it proves difficult for network operators to correlate the service degradation with the network root cause,
        for example, "Why does my layer 3 virtual private network (L3VPN) fail to connect?" or "Why is this specific service not highly responsive?"
           The reverse, i.e., which services are impacted when a network component fails or degrades, is also important for operators,
           for example, "Which services are impacted when this specific optic decibel milliwatt (dBm) begins to degrade?",
             "Which applications are impacted by an imbalance in this Equal-Cost Multipath (ECMP) bundle?", or "Is that issue actually impacting any other customers?"
           This task usually falls under the so-called "Service Impact Analysis" functional block.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">
           This document defines an architecture implementing Service Assurance for Intent-based Networking (SAIN).
           Intent-based approaches are often declarative, starting from a statement of "The service works as expected" and trying to enforce it.
           However, some already-defined services might have been designed using a different approach.
           Aligned with <span><a href="https://www.rfc-editor.org/rfc/rfc7149#section-3.3" class="relref">Section 3.3</a> of [<a href="#RFC7149" class="cite xref">RFC7149</a>]</span>, and instead of requiring a declarative intent as a starting point,
           this architecture focuses on already-defined services and tries to infer the meaning of "The service works as expected".
           To do so, the architecture works from an assurance graph, deduced from the configuration pushed to the device for enabling the service instance.
           If the SAIN orchestrator supports it, the service model (<span><a href="https://www.rfc-editor.org/rfc/rfc8309#section-2" class="relref">Section 2</a> of [<a href="#RFC8309" class="cite xref">RFC8309</a>]</span>) or the network model (<span><a href="https://www.rfc-editor.org/rfc/rfc8969#section-2.1" class="relref">Section 2.1</a> of [<a href="#RFC8969" class="cite xref">RFC8969</a>]</span>) can also be used to build the assurance graph.
           In that case and if the service model includes the declarative intent as well, the SAIN orchestrator can rely on the declared intent instead of inferring it.
           The assurance graph may also be explicitly completed to add an intent not exposed in the service model itself.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">
           The assurance graph of a service instance is decomposed into components, which are then assured independently.
           The top of the assurance graph represents the service instance to assure, and its children represent components identified as its direct dependencies; each component can have dependencies as well.
            Components involved in the assurance graph of a service are called subservices.
           The SAIN orchestrator updates the assurance graph  automatically when the service instance is modified.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">
          When a service is degraded, the SAIN architecture will highlight where in the assurance service graph to look, as opposed to going hop by hop to troubleshoot the issue.
          More precisely, the SAIN architecture will associate to each service instance a list of symptoms originating from specific subservices, corresponding to components of the network.
          These components are good candidates for explaining the source of a service degradation.
          Not only can this architecture help to correlate service degradation with network root cause/symptoms, but it can deduce from the assurance graph the list of service instances impacted by a component degradation/failure.
          This added value informs the operational team where to focus its attention for maximum return.
          Indeed, the operational team is likely to focus their priority on the degrading/failing components impacting the highest number of their customers, especially the ones with the Service-Level Agreement (SLA) contracts involving penalties in case of failure.<a href="#section-1-7" class="pilcrow">¶</a></p>
<p id="section-1-8">
        This architecture provides the building blocks to assure both physical and virtual entities and is flexible with respect to services and subservices of (distributed) graphs and components (<a href="#flexible_architecture" class="auto internal xref">Section 3.7</a>).<a href="#section-1-8" class="pilcrow">¶</a></p>
<p id="section-1-9">
            The architecture presented in this document is implemented by a set of YANG modules defined in a companion document <span>[<a href="#RFC9418" class="cite xref">RFC9418</a>]</span>.
            These YANG modules properly define the interfaces between the various components of the architecture to foster interoperability.<a href="#section-1-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="terminology">
<section id="section-2">
      <h2 id="name-terminology">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<span class="break"></span><dl class="dlParallel" id="section-2-1">
        <dt id="section-2-1.1">SAIN agent:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.2">A functional component that communicates with a device, a set of devices,
          or another agent to build an expression graph from a received assurance graph and
          perform the corresponding computation of the health status and symptoms. A SAIN agent might
          be running directly on the device it monitors.<a href="#section-2-1.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.3">Assurance case:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.4">"An assurance case is a structured argument, supported by evidence, intended to justify that a system is acceptably assured relative to a concern (such as safety or security) in the intended operating environment" <span>[<a href="#Piovesan2017" class="cite xref">Piovesan2017</a>]</span>.<a href="#section-2-1.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.5">Service instance:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.6">A specific instance of a service.<a href="#section-2-1.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.7">Intent:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.8">"A set of operational goals (that a network should meet) and outcomes (that a network is supposed to deliver) defined in a declarative manner without specifying how to achieve or implement them" <span>[<a href="#RFC9315" class="cite xref">RFC9315</a>]</span>.<a href="#section-2-1.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.9">Subservice:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.10">A part or functionality of the network system that can be independently assured as a single entity in an assurance graph.<a href="#section-2-1.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.11">Assurance graph:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.12">A Directed Acyclic Graph (DAG) representing the assurance case for one or several service instances.
          The nodes (also known as vertices in the context of DAG) are the service instances themselves and the subservices; the edges indicate a dependency relation.<a href="#section-2-1.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.13">SAIN collector:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.14">A functional component that fetches or receives the computer-consumable output of the SAIN agent(s) and processes it locally (including displaying it in a user-friendly form).<a href="#section-2-1.14" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.15">DAG:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.16">Directed Acyclic Graph.<a href="#section-2-1.16" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.17">ECMP:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.18">Equal-Cost Multipath.<a href="#section-2-1.18" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.19">Expression graph:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.20">
          <p id="section-2-1.20.1">A generic term for a DAG representing a computation in SAIN. More specific terms are listed below:<a href="#section-2-1.20.1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2-1.20.2">
            <dt id="section-2-1.20.2.1">Subservice expressions:</dt>
            <dd style="margin-left: 1.5em" id="section-2-1.20.2.2">An expression graph representing all the computations to execute for a subservice.<a href="#section-2-1.20.2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2-1.20.2.3">Service expressions:</dt>
            <dd style="margin-left: 1.5em" id="section-2-1.20.2.4">An expression graph representing all the computations to execute for a service instance, i.e., including the computations for all dependent subservices.<a href="#section-2-1.20.2.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2-1.20.2.5">Global computation graph:</dt>
            <dd style="margin-left: 1.5em" id="section-2-1.20.2.6">An expression graph representing all the computations to execute for all services instances  (i.e., all computations performed).<a href="#section-2-1.20.2.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.21">Dependency:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.22">The directed relationship between subservice instances in the assurance graph.<a href="#section-2-1.22" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.23">Metric:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.24">A piece of information retrieved from the network running the assured service.<a href="#section-2-1.24" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.25">Metric engine:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.26">A functional component, part of the SAIN agent, that maps metrics to a list of candidate metric implementations, depending on the network element.<a href="#section-2-1.26" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.27">Metric implementation:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.28">The actual way of retrieving a metric from a network element.<a href="#section-2-1.28" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.29">Network Service YANG Module:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.30">The characteristics of a service, as agreed upon with consumers of that service <span>[<a href="#RFC8199" class="cite xref">RFC8199</a>]</span>.<a href="#section-2-1.30" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.31">Service orchestrator:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.32">"Network Service YANG Modules describe the characteristics of a service, as agreed upon with consumers of that service. That is, a service module does not expose the detailed configuration parameters of all participating network elements and features but describes an abstract model that allows instances of the service to be decomposed into instance data according to the Network Element YANG Modules of the participating network elements. The service-to-element decomposition is a separate process; the details depend on how the network operator chooses to realize the service. For the purpose of this document, the term "orchestrator" is used to describe a system implementing such a process" <span>[<a href="#RFC8199" class="cite xref">RFC8199</a>]</span>.<a href="#section-2-1.32" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.33">SAIN orchestrator:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.34">A functional component that is in charge of fetching the configuration specific to each service instance and converting it into an assurance graph.<a href="#section-2-1.34" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.35">Health status:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.36">The score and symptoms indicating whether a service instance or a subservice is "healthy". A non-maximal score must always be explained by one or more symptoms.<a href="#section-2-1.36" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.37">Health score:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.38">An integer ranging from 0 to 100 that indicates the health of a subservice.
          A score of 0 means that the subservice is broken, a score of 100 means that the subservice in question is operating as expected, and
          the special value -1 can be used to specify that no value could be computed for that health score, for instance, if some metric needed for that computation could not be collected.<a href="#section-2-1.38" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.39">Strongly connected component:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.40">A subset of a directed graph such that there
          is a (directed) path from any node of the subset to any other node. A
          DAG does not contain any strongly connected component.<a href="#section-2-1.40" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.41">Symptom:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.42">A reason explaining why a service instance or a subservice is not completely healthy.<a href="#section-2-1.42" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="architecture">
<section id="section-3">
      <h2 id="name-a-functional-architecture">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-a-functional-architecture" class="section-name selfRef">A Functional Architecture</a>
      </h2>
<p id="section-3-1">
        The goal of SAIN is to assure that service instances are operating as expected (i.e., the observed service is matching the expected service) and, if not, to pinpoint what is wrong.
          More precisely, SAIN computes a score for each service instance and outputs symptoms explaining that score.
          The only valid situation where no symptoms are returned is when the score is maximal, indicating that no issues were detected for that service instance.
          The score augmented with the symptoms is called the health status. The exact meaning of the health score value is out of scope of this document. However, the following constraints should be followed: the higher the score, the better the service health is and the two extrema are 0 meaning the service is completely broken, and 100 meaning the service is completely operational.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">
        The SAIN architecture is a generic architecture, which generates an assurance graph from service instance(s), as specified in <a href="#inferring" class="auto internal xref">Section 3.1</a>.
          This architecture is applicable to not only multiple environments (e.g., wireline and wireless)
          but also different domains (e.g., 5G network function virtualization (NFV) domain with a virtual infrastructure manager (VIM), etc.)
          and, as already noted, for physical or virtual devices, as well as virtual functions.
          Thanks to the distributed graph design principle, graphs from different environments and orchestrators can be combined to obtain the graph of a service instance that spans over multiple domains.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">
        As an example of a service, let us consider a point-to-point layer 2 virtual private network (L2VPN).
        <span>[<a href="#RFC8466" class="cite xref">RFC8466</a>]</span> specifies the parameters for such a service.
          Examples of symptoms might be symptoms reported by specific subservices, including "Interface has high error rate", "Interface flapping", or "Device almost out of memory", as well as symptoms more specific to the service (such as "Site disconnected from VPN").<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">
          To compute the health status of an instance of such a service, the service definition is decomposed into an assurance graph formed by subservices linked through dependencies. Each subservice is then turned into an expression graph that details how to fetch metrics from the devices and compute the health status of the subservice. The subservice expressions are combined according to the dependencies between the subservices in order to obtain the expression graph that computes the health status of the service instance.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">
         The overall SAIN architecture is presented in <a href="#figure_1" class="auto internal xref">Figure 1</a>.
          Based on the service configuration provided by the service orchestrator, the SAIN orchestrator decomposes the assurance graph.
          It then sends to the SAIN agents the assurance graph along with some other configuration options.
          The SAIN agents are responsible for building the expression graph and computing the health statuses in a distributed manner.
          The collector is in charge of collecting and displaying the current inferred health status of the service instances and subservices.
   The
   collector also detects changes in the assurance graph structures (e.g., an
   occurrence of a switchover from primary to backup path) and
   forwards the information to the orchestrator, which reconfigures the agents.
          Finally, the automation loop is closed by having the SAIN collector provide feedback to the network/service orchestrator.<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">
    In order to make agents, orchestrators, and collectors from different vendors interoperable, their interface is defined as a YANG module in a companion document <span>[<a href="#RFC9418" class="cite xref">RFC9418</a>]</span>.
          In <a href="#figure_1" class="auto internal xref">Figure 1</a>, the communications that are normalized by this YANG module are tagged with a "Y".
          The use of this YANG module is further explained in <a href="#open_interfaces_with_YANG_modules" class="auto internal xref">Section 3.5</a>.<a href="#section-3-6" class="pilcrow">¶</a></p>
<span id="name-sain-architecture"></span><div id="figure_1">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-3-7.1">
<pre>
     +-----------------+
     | Service         |
     | Orchestrator    |&lt;----------------------+
     |                 |                       |
     +-----------------+                       |
        |            ^                         |
        |            | Network                 |
        |            | Service                 | Feedback
        |            | Instance                | Loop
        |            | Configuration           |
        |            |                         |
        |            V                         |
        |        +-----------------+  Graph  +-------------------+
        |        | SAIN            | Updates | SAIN              |
        |        | Orchestrator    |&lt;--------| Collector         |
        |        +-----------------+         +-------------------+
        |            |                          ^
        |           Y| Configuration            | Health Status
        |            | (Assurance Graph)       Y| (Score + Symptoms)
        |            V                          | Streamed
        |     +-------------------+             | via Telemetry
        |     |+-------------------+            |
        |     ||+-------------------+           |
        |     +|| SAIN              |-----------+
        |      +| Agent             |
        |       +-------------------+
        |               ^ ^ ^
        |               | | |
        |               | | |  Metric Collection
        V               V V V
    +-------------------------------------------------------------+
    |           (Network) System                                  |
    |                                                             |
    +-------------------------------------------------------------+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-sain-architecture" class="selfRef">SAIN Architecture</a>
        </figcaption></figure>
</div>
<p id="section-3-8">
        In order to produce the score assigned to a service instance, the various involved components perform the following tasks:<a href="#section-3-8" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-9.1">
              Analyze the configuration pushed to the network device(s) for configuring the service instance.
              From there, determine which information (called a metric) must be collected from the device(s) and which operations to apply to the metrics to compute the health status.<a href="#section-3-9.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-9.2">
            Stream (via telemetry, such as YANG-Push <span>[<a href="#RFC8641" class="cite xref">RFC8641</a>]</span>) operational and config metric values when possible, else continuously poll.<a href="#section-3-9.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-9.3">
            Continuously compute the health status of the service instances based on the metric values.<a href="#section-3-9.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-3-10">
          The SAIN architecture requires time synchronization, with the Network Time Protocol (NTP) <span>[<a href="#RFC5905" class="cite xref">RFC5905</a>]</span> as a candidate, between all elements: monitored entities, SAIN agents, service orchestrator, the SAIN collector, as well as the SAIN orchestrator. This guarantees the correlations of all symptoms in the system, correlated with the right assurance graph version.<a href="#section-3-10" class="pilcrow">¶</a></p>
<div id="inferring">
<section id="section-3.1">
        <h3 id="name-translating-a-service-insta">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-translating-a-service-insta" class="section-name selfRef">Translating a Service Instance Configuration into an Assurance Graph</a>
        </h3>
<p id="section-3.1-1">
          In order to structure the assurance of a service instance, the SAIN orchestrator decomposes the service instance into so-called subservice instances.
            Each subservice instance focuses on a specific feature or subpart of the service.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">
          The decomposition into subservices is an important function of the architecture for the following reasons:<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1-3.1">
              The result of this decomposition provides a relational picture of a service instance, which can be represented as a graph (called an assurance graph) to the operator.<a href="#section-3.1-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-3.2">
              Subservices provide a scope for particular expertise and thereby enable contribution from external experts.
                For instance, the subservice dealing with the optic's health should be reviewed and extended by an expert in optical interfaces.<a href="#section-3.1-3.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-3.3">
              Subservices that are common to several service instances are reused for reducing the amount of computation needed.
                For instance, the subservice assuring a given interface is reused by any service instance relying on that interface.<a href="#section-3.1-3.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.1-4">
          The assurance graph of a service instance is a DAG representing the structure of the assurance case for the service instance. The nodes of this graph are service instances or subservice instances. Each edge of this graph indicates a dependency between the two nodes at its extremities, i.e., the service or subservice at the source of the edge depends on the service or subservice at the destination of the edge.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
<p id="section-3.1-5">
          <a href="#figure_2" class="auto internal xref">Figure 2</a> depicts a simplistic example of the assurance graph for a tunnel service. The node at the top is the service instance; the nodes below are its dependencies. In the example, the tunnel service instance depends on the "peer1" and "peer2" tunnel interfaces (the tunnel interfaces created on the peer1 and peer2 devices, respectively), which in turn depend on the respective physical interfaces, which finally depend on the respective "peer1" and "peer2" devices. The tunnel service instance also depends on the IP connectivity that depends on the IS-IS routing protocol.<a href="#section-3.1-5" class="pilcrow">¶</a></p>
<span id="name-assurance-graph-example"></span><div id="figure_2">
<figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-3.1-6.1">
<pre>
                         +------------------+
                         | Tunnel           |
                         | Service Instance |
                         +------------------+
                                   |
              +--------------------+-------------------+
              |                    |                   |
              v                    v                   v
         +-------------+    +--------------+    +-------------+
         | Peer1       |    | IP           |    | Peer2       |
         | Tunnel      |    | Connectivity |    | Tunnel      |
         | Interface   |    |              |    | Interface   |
         +-------------+    +--------------+    +-------------+
                |                  |                  |
                |    +-------------+--------------+   |
                |    |             |              |   |
                v    v             v              v   v
         +-------------+    +-------------+     +-------------+
         | Peer1       |    | IS-IS       |     | Peer2       |
         | Physical    |    | Routing     |     | Physical    |
         | Interface   |    | Protocol    |     | Interface   |
         +-------------+    +-------------+     +-------------+
                |                                     |
                v                                     v
         +-------------+                        +-------------+
         |             |                        |             |
         | Peer1       |                        | Peer2       |
         | Device      |                        | Device      |
         +-------------+                        +-------------+
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-assurance-graph-example" class="selfRef">Assurance Graph Example</a>
          </figcaption></figure>
</div>
<p id="section-3.1-7">
          Depicting the assurance graph helps the operator to understand (and assert) the decomposition.
            The assurance graph shall be maintained during normal operation with addition, modification, and removal of service instances.
            A change in the network configuration or topology shall automatically be reflected in the assurance graph.
            As a first example, a change of the routing protocol from IS-IS to OSPF would change the assurance graph accordingly.
            As a second example, assume that the ECMP is in place for the source router for that specific tunnel; in that case, multiple interfaces must now be monitored, in addition to monitoring the ECMP health itself.<a href="#section-3.1-7" class="pilcrow">¶</a></p>
<div id="circular_dependencies">
<section id="section-3.1.1">
          <h4 id="name-circular-dependencies">
<a href="#section-3.1.1" class="section-number selfRef">3.1.1. </a><a href="#name-circular-dependencies" class="section-name selfRef">Circular Dependencies</a>
          </h4>
<p id="section-3.1.1-1">
            The edges of the assurance graph represent dependencies. An
            assurance graph is a DAG if and only if there are no circular
            dependencies among the subservices, and every assurance
            graph should avoid circular dependencies. However, in some cases,
            circular dependencies might appear in the assurance graph.<a href="#section-3.1.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1.1-2">
            First, the assurance graph of a whole system is obtained by
            combining the assurance graph of every service running on that
            system. Here, combining means that two subservices having the
            same type and the same parameters are in fact the same
            subservice and thus a single node in the graph. For instance,
            the subservice of type "device" with the only parameter
            (the device ID) set to "PE1" will appear only once in the
            whole assurance graph, even if several service instances rely
            on that device. Now, if two engineers design assurance graphs for
            two different services, and Engineer A decides that an interface
            depends on the link it is connected to, but Engineer B decides that
            the link depends on the interface it is connected to, then when
            combining the two assurance graphs, we will have a circular
            dependency interface -&gt; link -&gt; interface.<a href="#section-3.1.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1.1-3">
              Another case possibly resulting in circular dependencies is when subservices are not properly identified.
              Assume that we want to assure a cloud-based computing cluster that runs containers.
              We could represent the cluster by a subservice and the network service connecting containers on the cluster by another subservice.
              We would likely model that as the network service depending on the cluster, because the network service runs in a container supported by the cluster.
              Conversely, the cluster depends on the network service for connectivity between containers, which creates a circular dependency.
              A finer decomposition might distinguish between the resources for executing containers (a part of our cluster subservice) and the communication between the containers (which could be modeled in the same way as communication between routers).<a href="#section-3.1.1-3" class="pilcrow">¶</a></p>
<p id="section-3.1.1-4">
            In any case, it is likely that circular dependencies will show up in
            the assurance graph. A first step would be to detect
            circular dependencies as soon as possible in the SAIN
            architecture. Such a detection could be carried out by
            the SAIN orchestrator. Whenever a circular dependency
            is detected, the newly added service would not be
            monitored until more careful modeling or alignment
            between the different teams (Engineers A and B) remove the circular
            dependency.<a href="#section-3.1.1-4" class="pilcrow">¶</a></p>
<p id="section-3.1.1-5">
            As a more elaborate solution, we could consider a graph transformation:<a href="#section-3.1.1-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1.1-6.1">Decompose the graph into strongly connected components.<a href="#section-3.1.1-6.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-3.1.1-6.2">
              <p id="section-3.1.1-6.2.1">
               For each strongly connected component:<a href="#section-3.1.1-6.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1.1-6.2.2.1">remove all edges between nodes of the strongly connected component;<a href="#section-3.1.1-6.2.2.1" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-3.1.1-6.2.2.2">add a new "synthetic" node for the strongly connected component;<a href="#section-3.1.1-6.2.2.2" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-3.1.1-6.2.2.3">for each edge pointing to a node in the strongly connected component, change the destination to the "synthetic" node; and<a href="#section-3.1.1-6.2.2.3" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-3.1.1-6.2.2.4">add a dependency from the "synthetic" node to every node in the strongly connected component.<a href="#section-3.1.1-6.2.2.4" class="pilcrow">¶</a>
</li>
              </ul>
</li>
          </ul>
<p id="section-3.1.1-7">
            Such an algorithm would include all symptoms detected by any
            subservice in one of the strongly connected components and make it
          available to any subservice that depends on it.
         <a href="#graph_transformation" class="auto internal xref">Figure 3</a> shows an example
            of such a transformation. On the left-hand side, the nodes c, d, e,
            and f form a strongly connected component. The status of node a should
         depend on the status of nodes c, d, e, f, g, and h, but this is hard to
            compute because of the circular dependency. On the right-hand side,
            node a depends on all these nodes as well, but the circular
            dependency has been removed.<a href="#section-3.1.1-7" class="pilcrow">¶</a></p>
<span id="name-graph-transformation"></span><div id="graph_transformation">
<figure id="figure-3">
            <div class="alignLeft art-text artwork" id="section-3.1.1-8.1">
<pre>
      +---+    +---+          |                +---+    +---+
      | a |    | b |          |                | a |    | b |
      +---+    +---+          |                +---+    +---+
        |        |            |                  |        |
        v        v            |                  v        v
      +---+    +---+          |                +------------+
      | c |---&gt;| d |          |                |  synthetic |
      +---+    +---+          |                +------------+
        ^        |            |               /   |      |   \
        |        |            |              /    |      |    \
        |        v            |             v     v      v     v
      +---+    +---+          |          +---+  +---+  +---+  +---+
      | f |&lt;---| e |          |          | f |  | c |  | d |  | e |
      +---+    +---+          |          +---+  +---+  +---+  +---+
        |        |            |            |                    |
        v        v            |            v                    v
      +---+    +---+          |          +---+                +---+
      | g |    | h |          |          | g |                | h |
      +---+    +---+          |          +---+                +---+

         Before                                     After
      Transformation                           Transformation
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-graph-transformation" class="selfRef">Graph Transformation</a>
            </figcaption></figure>
</div>
<p id="section-3.1.1-9">
            We consider a concrete example to illustrate this transformation.
            Let's assume that Engineer A is building an assurance graph dealing with IS-IS and Engineer B is building an assurance graph dealing with OSPF.
            The graph from Engineer A could contain the following:<a href="#section-3.1.1-9" class="pilcrow">¶</a></p>
<span id="name-fragment-of-the-assurance-g"></span><div id="is-is_link">
<figure id="figure-4">
            <div class="alignLeft art-text artwork" id="section-3.1.1-10.1">
<pre>
                +------------+
                | IS-IS Link |
                +------------+
                      |
                      v
                +------------+
                | Phys. Link |
                +------------+
                  |       |
                  v       v
       +-------------+  +-------------+
       | Interface 1 |  | Interface 2 |
       +-------------+  +-------------+
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-fragment-of-the-assurance-g" class="selfRef">Fragment of the Assurance Graph from Engineer A</a>
            </figcaption></figure>
</div>
<p id="section-3.1.1-11">
            The graph from Engineer B could contain the following:<a href="#section-3.1.1-11" class="pilcrow">¶</a></p>
<span id="name-fragment-of-the-assurance-gr"></span><div id="ospf_link">
<figure id="figure-5">
            <div class="alignLeft art-text artwork" id="section-3.1.1-12.1">
<pre>
                +------------+
                | OSPF Link  |
                +------------+
                  |   |   |
                  v   |   v
     +-------------+  |  +-------------+
     | Interface 1 |  |  | Interface 2 |
     +-------------+  |  +-------------+
                   |  |   |
                   v  v   v
                +------------+
                | Phys. Link |
                +------------+
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-fragment-of-the-assurance-gr" class="selfRef">Fragment of the Assurance Graph from Engineer B</a>
            </figcaption></figure>
</div>
<p id="section-3.1.1-13">
            The Interface subservices and the Physical Link subservice are common to both fragments above.
            Each of these subservices appear only once in the graph merging the two fragments.
            Dependencies from both fragments are included in the merged graph, resulting in a circular dependency:<a href="#section-3.1.1-13" class="pilcrow">¶</a></p>
<span id="name-merging-graphs-from-enginee"></span><div id="ospf_isis_circ_dep">
<figure id="figure-6">
            <div class="alignLeft art-text artwork" id="section-3.1.1-14.1">
<pre>
      +------------+      +------------+
      | IS-IS Link |      | OSPF Link  |---+
      +------------+      +------------+   |
            |               |     |        |
            |     +-------- +     |        |
            v     v               |        |
      +------------+              |        |
      | Phys. Link |&lt;-------+     |        |
      +------------+        |     |        |
        |  ^     |          |     |        |
        |  |     +-------+  |     |        |
        v  |             v  |     v        |
      +-------------+  +-------------+     |
      | Interface 1 |  | Interface 2 |     |
      +-------------+  +-------------+     |
            ^                              |
            |                              |
            +------------------------------+
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-merging-graphs-from-enginee" class="selfRef">Merging Graphs from Engineers A and B</a>
            </figcaption></figure>
</div>
<p id="section-3.1.1-15">
            The solution presented above would result in a graph looking as follows, where a new "synthetic" node is included.
            Using that transformation, all dependencies are indirectly satisfied for the nodes outside the circular dependency, in the sense that both IS-IS and OSPF links have indirect dependencies to the two interfaces and the link.
  However, the dependencies between the link and the
  interfaces are lost since they were causing the circular dependency.<a href="#section-3.1.1-15" class="pilcrow">¶</a></p>
<span id="name-removing-circular-dependenc"></span><div id="ospf_isis_no_circ_dep">
<figure id="figure-7">
            <div class="alignLeft art-text artwork" id="section-3.1.1-16.1">
<pre>
            +------------+      +------------+
            | IS-IS Link |      | OSPF Link  |
            +------------+      +------------+
                       |          |
                       v          v
                      +------------+
                      |  synthetic |
                      +------------+
                            |
                +-----------+-------------+
                |           |             |
                v           v             v
      +-------------+ +------------+ +-------------+
      | Interface 1 | | Phys. Link | | Interface 2 |
      +-------------+ +------------+ +-------------+
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-removing-circular-dependenc" class="selfRef">Removing Circular Dependencies after Merging Graphs from Engineers A and B</a>
            </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="intent">
<section id="section-3.2">
        <h3 id="name-intent-and-assurance-graph">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-intent-and-assurance-graph" class="section-name selfRef">Intent and Assurance Graph</a>
        </h3>
<p id="section-3.2-1">
          The SAIN orchestrator analyzes the configuration of a service instance to do the following:<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-2.1">
              Try to capture the intent of the service instance, i.e., What is the service instance trying to achieve?
                At a minimum, this requires the SAIN orchestrator to know the YANG modules that are being configured on the devices to enable the service.
                Note that, if the service model or the network model is known to the SAIN orchestrator, the latter can exploit it.
                In that case, the intent could be directly extracted and include more details, such as the notion of sites for a VPN, which is out of scope of the device configuration.<a href="#section-3.2-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.2-2.2">
              Decompose the service instance into subservices representing the network features on which the service instance relies.<a href="#section-3.2-2.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.2-3">
   The SAIN orchestrator must be able to analyze the configuration pushed to
   various devices of a service instance and produce the
   assurance graph for that service instance.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<p id="section-3.2-4">
   To schematize what a SAIN orchestrator does, assume that 
   a service instance touches two devices and
   configures a virtual tunnel interface on each device. Then:<a href="#section-3.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-5.1">Capturing the intent would start by detecting that the service
     instance is actually a tunnel between the two devices and stating
     that this tunnel must be operational.
                This solution is minimally invasive, as it does not require modifying nor knowing the service model.
                If the service model or network model is known by the SAIN orchestrator, it can be used to further capture the intent and include more information, such as Service-Level Objectives (e.g., 
                the latency and bandwidth requirements for the tunnel) if present in the service model.<a href="#section-3.2-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.2-5.2">
              Decomposing the service instance into subservices would result in the assurance graph depicted in <a href="#figure_2" class="auto internal xref">Figure 2</a>, for instance.<a href="#section-3.2-5.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.2-6">
            The assurance graph, or more precisely the subservices and dependencies that a SAIN orchestrator can instantiate, should be curated.
              The organization of such a process (i.e., ensure that existing subservices are reused as much as possible
  and avoid circular dependencies) is out-of-scope for this
  document.<a href="#section-3.2-6" class="pilcrow">¶</a></p>
<p id="section-3.2-7">
          To be applied, SAIN requires a mechanism mapping a service instance to the configuration actually required on the devices for that service instance to run.
            While <a href="#figure_1" class="auto internal xref">Figure 1</a> makes a distinction between the SAIN orchestrator and a different component providing the service instance configuration, in practice those two components are most likely combined.
            The internals of the orchestrator are out of scope of this document.<a href="#section-3.2-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="subservices">
<section id="section-3.3">
        <h3 id="name-subservices">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-subservices" class="section-name selfRef">Subservices</a>
        </h3>
<p id="section-3.3-1">
          A subservice corresponds to a subpart or a feature of the network system that is needed for a service instance to function properly.
            In the context of SAIN, a subservice is associated to its assurance, which is the method for assuring that a subservice behaves correctly.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2"> 
          Subservices, just as with services, have high-level parameters that specify the instance to be assured.
            The needed parameters depend on the subservice type.
            For example, assuring a device requires a specific deviceId as a parameter and
            assuring an interface requires a specific combination of deviceId and interfaceId.<a href="#section-3.3-2" class="pilcrow">¶</a></p>
<p id="section-3.3-3">
          When designing a new type of subservice, one should carefully define what is the assured object or functionality.
   Then, the parameters
   must be chosen as a minimal set that completely identifies the object
   (see examples from the previous paragraph).   
            Parameters cannot change during the life cycle of a subservice.
            For instance, an IP address is a good parameter when assuring a connectivity towards that address (i.e., a given device can reach a given IP address); however, it's not a good parameter to identify an interface, as the IP address assigned to that interface can be changed.<a href="#section-3.3-3" class="pilcrow">¶</a></p>
<p id="section-3.3-4">
          A subservice is also characterized by a list of metrics to fetch and a list of operations to apply to these metrics in order to infer a health status.<a href="#section-3.3-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="building_the_expression_graph_from_the_assurance_graph">
<section id="section-3.4">
        <h3 id="name-building-the-expression-gra">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-building-the-expression-gra" class="section-name selfRef">Building the Expression Graph from the Assurance Graph</a>
        </h3>
<p id="section-3.4-1">
          From the assurance graph, a so-called global computation graph is derived.
            First, each subservice instance is transformed into a set of subservice expressions that take metrics and constants as input (i.e., sources of the DAG) and produce the status of the subservice based on some heuristics.
            For instance, the health of an interface is 0 (minimal score) with the symptom "interface admin-down" if the interface is disabled in the configuration.
            Then, for each service instance, the service expressions are constructed by combining the subservice expressions of its dependencies.
            The way service expressions are combined depends on the dependency types (impacting or informational).
            Finally, the global computation graph is built by combining the service expressions to get a global view of all subservices.
            In other words, the global computation graph encodes all the operations needed to produce health statuses from the collected metrics.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<p id="section-3.4-2">
          The two types of dependencies for combining subservices are:<a href="#section-3.4-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-3.4-3">
          <dt id="section-3.4-3.1">Informational Dependency:</dt>
          <dd style="margin-left: 1.5em" id="section-3.4-3.2">The type of dependency whose health score does not impact the health score of its parent subservice or service instance(s) in the assurance graph. However, the symptoms should be taken into account in the parent service instance or subservice instance(s) for informational reasons.<a href="#section-3.4-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.4-3.3">Impacting Dependency:</dt>
          <dd style="margin-left: 1.5em" id="section-3.4-3.4">The type of dependency whose health score impacts the health score of its parent subservice or service instance(s) in the assurance graph.
              The symptoms are taken into account in the parent service instance or subservice instance(s) as the impacting reasons.<a href="#section-3.4-3.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-3.4-4">
          The set of dependency types presented here is not exhaustive.
          More specific dependency types can be defined by extending the YANG module.
          For instance, a connectivity subservice depending on several path subservices is partially impacted if only one of these paths fails.
          Adding these new dependency types requires defining the corresponding operation for combining statuses of subservices.<a href="#section-3.4-4" class="pilcrow">¶</a></p>
<p id="section-3.4-5">
          Subservices shall not be dependent on the protocol used to retrieve the metrics.
            To justify this, let's consider the interface operational status.
            Depending on the device capabilities, this status can be collected by an industry-accepted YANG module (e.g., IETF or Openconfig <span>[<a href="#OpenConfig" class="cite xref">OpenConfig</a>]</span>), by a vendor-specific YANG module, or even by a MIB module.
            If the subservice was dependent on the mechanism to collect the operational status, then we would need multiple subservice definitions in order to support all different mechanisms.
            This also implies that, while waiting for all the metrics to be available via standard YANG modules, SAIN agents might have to retrieve metric values via nonstandard YANG data models, MIB modules, the Command-Line Interface (CLI), etc., effectively implementing a normalization layer between data models and information models.<a href="#section-3.4-5" class="pilcrow">¶</a></p>
<p id="section-3.4-6">
             In order to keep subservices independent of metric collection method 
   (or, expressed differently, to support multiple combinations of
   platforms, OSes, and even vendors), the architecture introduces the
   concept of "metric engine".
          The metric engine maps each device-independent metric used in the subservices to a list of device-specific metric implementations that precisely define how to fetch values for that metric.
          The mapping is parameterized by the characteristics (i.e., model, OS version, etc.) of the device from which the metrics are fetched.
          This metric engine is included in the SAIN agent.<a href="#section-3.4-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="open_interfaces_with_YANG_modules">
<section id="section-3.5">
        <h3 id="name-open-interfaces-with-yang-m">
<a href="#section-3.5" class="section-number selfRef">3.5. </a><a href="#name-open-interfaces-with-yang-m" class="section-name selfRef">Open Interfaces with YANG Modules</a>
        </h3>
<p id="section-3.5-1">
            The interfaces between the architecture components are open thanks to the YANG modules specified in <span>[<a href="#RFC9418" class="cite xref">RFC9418</a>]</span>;
            they specify objects for assuring network services based on their decomposition into so-called subservices, according to the SAIN  architecture.<a href="#section-3.5-1" class="pilcrow">¶</a></p>
<p id="section-3.5-2">
          These modules are intended for the following use cases:<a href="#section-3.5-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.5-3.1">
            <p id="section-3.5-3.1.1">
              Assurance graph configuration:<a href="#section-3.5-3.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.5-3.1.2.1">
                  Subservices: Configure a set of subservices to assure by specifying their types and parameters.<a href="#section-3.5-3.1.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5-3.1.2.2">
                  Dependencies: Configure the dependencies between the subservices, along with their types.<a href="#section-3.5-3.1.2.2" class="pilcrow">¶</a>
</li>
            </ul>
</li>
          <li class="normal" id="section-3.5-3.2">
              Assurance telemetry: Export the health status of the subservices, along with the observed symptoms.<a href="#section-3.5-3.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.5-4">
          Some examples of YANG instances can be found in <span><a href="https://www.rfc-editor.org/rfc/rfc9418#appendix-A" class="relref">Appendix A</a> of [<a href="#RFC9418" class="cite xref">RFC9418</a>]</span>.<a href="#section-3.5-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="maintenance">
<section id="section-3.6">
        <h3 id="name-handling-maintenance-window">
<a href="#section-3.6" class="section-number selfRef">3.6. </a><a href="#name-handling-maintenance-window" class="section-name selfRef">Handling Maintenance Windows</a>
        </h3>
<p id="section-3.6-1">
              Whenever network components are under maintenance, the operator wants to inhibit the emission of symptoms from those components.
              A typical use case is device maintenance, during which the device is not supposed to be operational.
              As such, symptoms related to the device health should be ignored.
              Symptoms related to the device-specific subservices, such as the interfaces, might also be ignored because their state changes are probably the consequence of the maintenance.<a href="#section-3.6-1" class="pilcrow">¶</a></p>
<p id="section-3.6-2">
              The ietf-service-assurance model described in <span>[<a href="#RFC9418" class="cite xref">RFC9418</a>]</span> enables flagging subservices as under maintenance and, in that case, requires a string that identifies the person or process that requested the maintenance.
              When a service or subservice is flagged as under maintenance, it must report a generic "Under Maintenance" symptom for propagation towards subservices that depend on this specific subservice.
              Any other symptom from this service or by one of its impacting dependencies must not be reported.<a href="#section-3.6-2" class="pilcrow">¶</a></p>
<p id="section-3.6-3">
             We illustrate this mechanism on three independent examples based on the assurance graph depicted in <a href="#figure_2" class="auto internal xref">Figure 2</a>:<a href="#section-3.6-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.6-4.1">  Device maintenance, for instance, upgrading the device OS. The operator
                 flags the subservice "Peer1" device as under maintenance.
                 This inhibits the emission of symptoms, except "Under Maintenance" from "Peer1
                 Physical Interface", "Peer1 Tunnel Interface", and "Tunnel Service
                 Instance". All other subservices are unaffected.<a href="#section-3.6-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.6-4.2">
                 Interface maintenance, for instance, replacing a broken optic.
                 The operator flags the subservice "Peer1 Physical Interface" as under maintenance.
                 This inhibits the emission of symptoms, except "Under Maintenance"
                 from "Peer 1 Tunnel Interface" and "Tunnel Service Instance". All
               other subservices are unaffected.<a href="#section-3.6-4.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.6-4.3">
                 Routing protocol maintenance, for instance, modifying parameters or
               redistribution. The operator marks the subservice "IS-IS Routing Protocol" as under maintenance.
               This inhibits the emission of symptoms, except "Under Maintenance" from "IP connectivity" and "Tunnel Service Instance".
               All other subservices are unaffected.<a href="#section-3.6-4.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.6-5">
              In each example above, the subservice under maintenance is completely impacting the service instance, putting it under maintenance as well.
              There are use cases where the subservice under maintenance only partially impacts the service instance.
              For instance, consider a service instance  supported by both a primary and backup path.
              If a subservice impacting the primary path is under maintenance, the service instance might still be functional but degraded.
              In that case, the status of the service instance might include "Primary path Under Maintenance", "No redundancy", as well as other symptoms from the backup path to explain the lower health score.
              In general, the computation of the service instance status from the subservices is done in the SAIN collector whose implementation is out of scope for this document.<a href="#section-3.6-5" class="pilcrow">¶</a></p>
<p id="section-3.6-6">
              The maintenance of a subservice might modify or hide modifications of the structure of the assurance graph.
              Therefore, unflagging a subservice as under maintenance should trigger an update of the assurance graph.<a href="#section-3.6-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="flexible_architecture">
<section id="section-3.7">
        <h3 id="name-flexible-functional-archite">
<a href="#section-3.7" class="section-number selfRef">3.7. </a><a href="#name-flexible-functional-archite" class="section-name selfRef">Flexible Functional Architecture</a>
        </h3>
<p id="section-3.7-1">
          The SAIN architecture is flexible in terms of components. While the 
          SAIN architecture in <a href="#figure_1" class="auto internal xref">Figure 1</a> makes a distinction between two components,
            the service orchestrator and the SAIN orchestrator, in practice the two components are most likely combined.
          Similarly, the SAIN agents are displayed in <a href="#figure_1" class="auto internal xref">Figure 1</a> as being separate components. In practice, the SAIN agents could be either independent 
          components or directly integrated in monitored entities.
          A practical example is an agent in a router.<a href="#section-3.7-1" class="pilcrow">¶</a></p>
<p id="section-3.7-2">
            The SAIN architecture is also flexible in terms of services and subservices.
            In the defined architecture, the SAIN orchestrator is coupled to a service orchestrator, which defines the kinds of services that the architecture handles.
            Most examples in this document deal with the notion of Network Service YANG Modules with well-known services, such as L2VPN or tunnels.
            However, the concept of services is general enough to cross into different domains.
            One of them is the domain of service management on network elements, which also require their own assurance.
            Examples include a DHCP server on a Linux server, a data plane, an IPFIX export, etc.
            The notion of "service" is generic in this architecture and depends on the service orchestrator and underlying network system, as illustrated by the following examples:<a href="#section-3.7-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.7-3.1">If a main service orchestrator coordinates several lower-level controllers, a service for the controller can be a subservice from the point of view of the orchestrator.<a href="#section-3.7-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.7-3.2">A DHCP server / data plane / IPFIX export can be considered subservices for a device.<a href="#section-3.7-3.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.7-3.3">A routing instance can be considered a subservice for an L3VPN.<a href="#section-3.7-3.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.7-3.4">A tunnel can be considered a subservice for an application in the cloud.<a href="#section-3.7-3.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.7-3.5">A service function can be considered a subservice for a service function chain <span>[<a href="#RFC7665" class="cite xref">RFC7665</a>]</span>.<a href="#section-3.7-3.5" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.7-4">
            The assurance graph is created to be flexible and open, regardless of the subservice types, locations, or domains.<a href="#section-3.7-4" class="pilcrow">¶</a></p>
<p id="section-3.7-5">
          The SAIN architecture is also flexible in terms of distributed graphs. 
          As shown in  <a href="#figure_1" class="auto internal xref">Figure 1</a>, the architecture comprises several agents.
          Each agent is responsible for handling a subgraph of the assurance graph.  
          The collector is responsible for fetching the subgraphs from the different
          agents and gluing them together.  As an example, in the graph from  <a href="#figure_2" class="auto internal xref">Figure 2</a>, the subservices relative to Peer 1 might be handled by a 
          different agent than the subservices relative to Peer 2, and the Connectivity 
          and IS-IS subservices might be handled by yet another agent.  The agents will 
          export their partial graph, and the collector will stitch them together as 
          dependencies of the service instance.<a href="#section-3.7-5" class="pilcrow">¶</a></p>
<p id="section-3.7-6">
          And finally, the SAIN architecture is flexible in terms of what it monitors. 
          Most, if not all, examples in this document refer to physical components, but
          this is not a constraint. Indeed, the assurance of virtual components would
          follow the same principles, and an assurance graph composed of virtualized 
          components (or a mix of virtualized and physical ones) is supported by
          this architecture.<a href="#section-3.7-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="garbage_collection">
<section id="section-3.8">
        <h3 id="name-time-window-for-symptoms-hi">
<a href="#section-3.8" class="section-number selfRef">3.8. </a><a href="#name-time-window-for-symptoms-hi" class="section-name selfRef">Time Window for Symptoms' History</a>
        </h3>
<p id="section-3.8-1">
              The health status reported via the YANG modules contains, for each subservice, the list of symptoms.
              Symptoms have a start and end date, making it is possible to report symptoms that are no longer occurring.<a href="#section-3.8-1" class="pilcrow">¶</a></p>
<p id="section-3.8-2">
          The SAIN agent might have to remove some symptoms for specific subservice symptoms because 
          they are outdated and no longer relevant or simply because the SAIN agent needs to
          free up some space. Regardless of the reason, it's important for a SAIN collector 
          connecting/reconnecting to a SAIN agent to understand the effect of this garbage collection.<a href="#section-3.8-2" class="pilcrow">¶</a></p>
<p id="section-3.8-3">
            Therefore, the SAIN agent contains a YANG object specifying the date and time at which
            the symptoms' history starts for the subservice instances.
            The subservice reports only symptoms that are occurring or that have been occurring after the history start date.<a href="#section-3.8-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="new_assurance_graph_generation">
<section id="section-3.9">
        <h3 id="name-new-assurance-graph-generat">
<a href="#section-3.9" class="section-number selfRef">3.9. </a><a href="#name-new-assurance-graph-generat" class="section-name selfRef">New Assurance Graph Generation</a>
        </h3>
<p id="section-3.9-1">
          The assurance graph will change over time, because services and subservices come and go (changing the dependencies between subservices) or as a result of resolving maintenance issues. Therefore, an assurance graph version must be maintained, along with the date and time of its last generation. The date and time of a particular subservice instance (again dependencies or under maintenance) might be kept. From a client point of view, an assurance graph change is triggered by the value of the assurance-graph-version and assurance-graph-last-change YANG leaves. At that point in time, the client (collector) follows the following process:<a href="#section-3.9-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.9-2.1">
              Keep the previous assurance-graph-last-change value (let's call it time T).<a href="#section-3.9-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.9-2.2">
              Run through all the subservice instances and process the subservice instances for which the last-change is newer than the time T.<a href="#section-3.9-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.9-2.3">
              Keep the new assurance-graph-last-change as the new referenced date and time.<a href="#section-3.9-2.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="iana">
<section id="section-4">
      <h2 id="name-iana-considerations">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-4-1">This document has no IANA actions.<a href="#section-4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security">
<section id="section-5">
      <h2 id="name-security-considerations">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-5-1">The SAIN architecture helps operators to reduce the mean time to detect and the mean time to repair.
         However, the SAIN agents must be secured; a compromised SAIN agent may be sending incorrect root causes or symptoms to the management systems.
         Securing the agents falls back to ensuring the integrity and confidentiality of the assurance graph.
          This can be partially achieved by correctly setting permissions of each node in the YANG data model, as described in <span><a href="https://www.rfc-editor.org/rfc/rfc9418#section-6" class="relref">Section 6</a> of [<a href="#RFC9418" class="cite xref">RFC9418</a>]</span>.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2"> 
         Except for the configuration of telemetry, the agents do not need "write access" to the devices they monitor.
          This configuration is applied with a YANG module, whose protection is covered by Secure Shell (SSH) <span>[<a href="#RFC6242" class="cite xref">RFC6242</a>]</span> for the Network Configuration Protocol (NETCONF) or  TLS <span>[<a href="#RFC8446" class="cite xref">RFC8446</a>]</span> for RESTCONF.
          Devices should be configured so that agents have their own credentials with write access only for the YANG nodes configuring the telemetry.<a href="#section-5-2" class="pilcrow">¶</a></p>
<p id="section-5-3"> 
         The data collected by SAIN could potentially be compromising to the network or provide more insight into how the network is designed.
          Considering the data that SAIN requires (including CLI access in some cases), one should weigh data access concerns with the impact that reduced visibility will have on being able to rapidly identify root causes.<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">
          For building the assurance graph, the SAIN orchestrator needs to obtain the configuration from the service orchestrator.
          The latter should restrict access of the SAIN orchestrator to information needed to build the assurance graph.<a href="#section-5-4" class="pilcrow">¶</a></p>
<p id="section-5-5"> 
        If a closed loop system relies on this architecture, then the well-known issue of those systems also applies, i.e., a lying device or compromised agent could trigger partial reconfiguration of the service or network.
          The SAIN architecture neither augments nor reduces this risk.
          An extension of SAIN, which is out of scope for this document, could detect discrepancies between symptoms reported by different agents, and thus detect anomalies if an agent or a device is lying.<a href="#section-5-5" class="pilcrow">¶</a></p>
<p id="section-5-6">
         If NTP service goes down, the devices clocks might lose their synchronization.
          In that case, correlating information from different devices, such as detecting symptoms about a link or correlating symptoms from different devices, will give inaccurate results.<a href="#section-5-6" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-6">
      <h2 id="name-references">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-6.1">
        <h3 id="name-normative-references">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC8309">[RFC8309]</dt>
        <dd>
<span class="refAuthor">Wu, Q.</span>, <span class="refAuthor">Liu, W.</span>, and <span class="refAuthor">A. Farrel</span>, <span class="refTitle">"Service Models Explained"</span>, <span class="seriesInfo">RFC 8309</span>, <span class="seriesInfo">DOI 10.17487/RFC8309</span>, <time datetime="2018-01" class="refDate">January 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8309">https://www.rfc-editor.org/info/rfc8309</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8969">[RFC8969]</dt>
        <dd>
<span class="refAuthor">Wu, Q., Ed.</span>, <span class="refAuthor">Boucadair, M., Ed.</span>, <span class="refAuthor">Lopez, D.</span>, <span class="refAuthor">Xie, C.</span>, and <span class="refAuthor">L. Geng</span>, <span class="refTitle">"A Framework for Automating Service and Network Management with YANG"</span>, <span class="seriesInfo">RFC 8969</span>, <span class="seriesInfo">DOI 10.17487/RFC8969</span>, <time datetime="2021-01" class="refDate">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8969">https://www.rfc-editor.org/info/rfc8969</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9418">[RFC9418]</dt>
      <dd>
<span class="refAuthor">Claise, B.</span>, <span class="refAuthor">Quilbeuf, J.</span>, <span class="refAuthor">Lucente, P.</span>, <span class="refAuthor">Fasano, P.</span>, and <span class="refAuthor">T. Arumugam</span>, <span class="refTitle">"A YANG Data Model for Service Assurance"</span>, <span class="seriesInfo">RFC 9418</span>, <span class="seriesInfo">DOI 10.17487/RFC9418</span>, <time datetime="2023-07" class="refDate">July 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9418">https://www.rfc-editor.org/info/rfc9418</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-6.2">
        <h3 id="name-informative-references">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="OpenConfig">[OpenConfig]</dt>
        <dd>
<span class="refTitle">"OpenConfig"</span>, <span>&lt;<a href="https://openconfig.net">https://openconfig.net</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Piovesan2017">[Piovesan2017]</dt>
        <dd>
<span class="refAuthor">Piovesan, A.</span> and <span class="refAuthor">E. Griffor</span>, <span class="refTitle">"7 - Reasoning About Safety and Security: The Logic of Assurance"</span>, <span class="seriesInfo">DOI 10.1016/B978-0-12-803773-7.00007-3</span>, <time datetime="2017" class="refDate">2017</time>, <span>&lt;<a href="https://doi.org/10.1016/B978-0-12-803773-7.00007-3">https://doi.org/10.1016/B978-0-12-803773-7.00007-3</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2865">[RFC2865]</dt>
        <dd>
<span class="refAuthor">Rigney, C.</span>, <span class="refAuthor">Willens, S.</span>, <span class="refAuthor">Rubens, A.</span>, and <span class="refAuthor">W. Simpson</span>, <span class="refTitle">"Remote Authentication Dial In User Service (RADIUS)"</span>, <span class="seriesInfo">RFC 2865</span>, <span class="seriesInfo">DOI 10.17487/RFC2865</span>, <time datetime="2000-06" class="refDate">June 2000</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2865">https://www.rfc-editor.org/info/rfc2865</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5424">[RFC5424]</dt>
        <dd>
<span class="refAuthor">Gerhards, R.</span>, <span class="refTitle">"The Syslog Protocol"</span>, <span class="seriesInfo">RFC 5424</span>, <span class="seriesInfo">DOI 10.17487/RFC5424</span>, <time datetime="2009-03" class="refDate">March 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5424">https://www.rfc-editor.org/info/rfc5424</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5905">[RFC5905]</dt>
        <dd>
<span class="refAuthor">Mills, D.</span>, <span class="refAuthor">Martin, J., Ed.</span>, <span class="refAuthor">Burbank, J.</span>, and <span class="refAuthor">W. Kasch</span>, <span class="refTitle">"Network Time Protocol Version 4: Protocol and Algorithms Specification"</span>, <span class="seriesInfo">RFC 5905</span>, <span class="seriesInfo">DOI 10.17487/RFC5905</span>, <time datetime="2010-06" class="refDate">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5905">https://www.rfc-editor.org/info/rfc5905</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6242">[RFC6242]</dt>
        <dd>
<span class="refAuthor">Wasserman, M.</span>, <span class="refTitle">"Using the NETCONF Protocol over Secure Shell (SSH)"</span>, <span class="seriesInfo">RFC 6242</span>, <span class="seriesInfo">DOI 10.17487/RFC6242</span>, <time datetime="2011-06" class="refDate">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6242">https://www.rfc-editor.org/info/rfc6242</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7011">[RFC7011]</dt>
        <dd>
<span class="refAuthor">Claise, B., Ed.</span>, <span class="refAuthor">Trammell, B., Ed.</span>, and <span class="refAuthor">P. Aitken</span>, <span class="refTitle">"Specification of the IP Flow Information Export (IPFIX) Protocol for the Exchange of Flow Information"</span>, <span class="seriesInfo">STD 77</span>, <span class="seriesInfo">RFC 7011</span>, <span class="seriesInfo">DOI 10.17487/RFC7011</span>, <time datetime="2013-09" class="refDate">September 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7011">https://www.rfc-editor.org/info/rfc7011</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7149">[RFC7149]</dt>
        <dd>
<span class="refAuthor">Boucadair, M.</span> and <span class="refAuthor">C. Jacquenet</span>, <span class="refTitle">"Software-Defined Networking: A Perspective from within a Service Provider Environment"</span>, <span class="seriesInfo">RFC 7149</span>, <span class="seriesInfo">DOI 10.17487/RFC7149</span>, <time datetime="2014-03" class="refDate">March 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7149">https://www.rfc-editor.org/info/rfc7149</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7665">[RFC7665]</dt>
        <dd>
<span class="refAuthor">Halpern, J., Ed.</span> and <span class="refAuthor">C. Pignataro, Ed.</span>, <span class="refTitle">"Service Function Chaining (SFC) Architecture"</span>, <span class="seriesInfo">RFC 7665</span>, <span class="seriesInfo">DOI 10.17487/RFC7665</span>, <time datetime="2015-10" class="refDate">October 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7665">https://www.rfc-editor.org/info/rfc7665</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7950">[RFC7950]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refTitle">"The YANG 1.1 Data Modeling Language"</span>, <span class="seriesInfo">RFC 7950</span>, <span class="seriesInfo">DOI 10.17487/RFC7950</span>, <time datetime="2016-08" class="refDate">August 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7950">https://www.rfc-editor.org/info/rfc7950</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8199">[RFC8199]</dt>
        <dd>
<span class="refAuthor">Bogdanovic, D.</span>, <span class="refAuthor">Claise, B.</span>, and <span class="refAuthor">C. Moberg</span>, <span class="refTitle">"YANG Module Classification"</span>, <span class="seriesInfo">RFC 8199</span>, <span class="seriesInfo">DOI 10.17487/RFC8199</span>, <time datetime="2017-07" class="refDate">July 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8199">https://www.rfc-editor.org/info/rfc8199</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8446">[RFC8446]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.3"</span>, <span class="seriesInfo">RFC 8446</span>, <span class="seriesInfo">DOI 10.17487/RFC8446</span>, <time datetime="2018-08" class="refDate">August 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8446">https://www.rfc-editor.org/info/rfc8446</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8466">[RFC8466]</dt>
        <dd>
<span class="refAuthor">Wen, B.</span>, <span class="refAuthor">Fioccola, G., Ed.</span>, <span class="refAuthor">Xie, C.</span>, and <span class="refAuthor">L. Jalil</span>, <span class="refTitle">"A YANG Data Model for Layer 2 Virtual Private Network (L2VPN) Service Delivery"</span>, <span class="seriesInfo">RFC 8466</span>, <span class="seriesInfo">DOI 10.17487/RFC8466</span>, <time datetime="2018-10" class="refDate">October 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8466">https://www.rfc-editor.org/info/rfc8466</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8641">[RFC8641]</dt>
        <dd>
<span class="refAuthor">Clemm, A.</span> and <span class="refAuthor">E. Voit</span>, <span class="refTitle">"Subscription to YANG Notifications for Datastore Updates"</span>, <span class="seriesInfo">RFC 8641</span>, <span class="seriesInfo">DOI 10.17487/RFC8641</span>, <time datetime="2019-09" class="refDate">September 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8641">https://www.rfc-editor.org/info/rfc8641</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8907">[RFC8907]</dt>
        <dd>
<span class="refAuthor">Dahm, T.</span>, <span class="refAuthor">Ota, A.</span>, <span class="refAuthor">Medway Gash, D.C.</span>, <span class="refAuthor">Carrel, D.</span>, and <span class="refAuthor">L. Grant</span>, <span class="refTitle">"The Terminal Access Controller Access-Control System Plus (TACACS+) Protocol"</span>, <span class="seriesInfo">RFC 8907</span>, <span class="seriesInfo">DOI 10.17487/RFC8907</span>, <time datetime="2020-09" class="refDate">September 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8907">https://www.rfc-editor.org/info/rfc8907</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9315">[RFC9315]</dt>
        <dd>
<span class="refAuthor">Clemm, A.</span>, <span class="refAuthor">Ciavaglia, L.</span>, <span class="refAuthor">Granville, L. Z.</span>, and <span class="refAuthor">J. Tantsura</span>, <span class="refTitle">"Intent-Based Networking - Concepts and Definitions"</span>, <span class="seriesInfo">RFC 9315</span>, <span class="seriesInfo">DOI 10.17487/RFC9315</span>, <time datetime="2022-10" class="refDate">October 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9315">https://www.rfc-editor.org/info/rfc9315</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9375">[RFC9375]</dt>
      <dd>
<span class="refAuthor">Wu, B., Ed.</span>, <span class="refAuthor">Wu, Q., Ed.</span>, <span class="refAuthor">Boucadair, M., Ed.</span>, <span class="refAuthor">Gonzalez de Dios, O.</span>, and <span class="refAuthor">B. Wen</span>, <span class="refTitle">"A YANG Data Model for Network and VPN Service Performance Monitoring"</span>, <span class="seriesInfo">RFC 9375</span>, <span class="seriesInfo">DOI 10.17487/RFC9375</span>, <time datetime="2023-04" class="refDate">April 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9375">https://www.rfc-editor.org/info/rfc9375</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="appendix-A">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="appendix-A-1">
          The authors would like to thank <span class="contact-name">Stephane Litkowski</span>, <span class="contact-name">Charles Eckel</span>, <span class="contact-name">Rob Wilton</span>, <span class="contact-name">Vladimir Vassiliev</span>, <span class="contact-name">Gustavo Alburquerque</span>, <span class="contact-name">Stefan Vallin</span>, <span class="contact-name">Éric Vyncke</span>, <span class="contact-name">Mohamed Boucadair</span>, <span class="contact-name">Dhruv Dhody</span>, <span class="contact-name">Michael Richardson</span>, and <span class="contact-name">Rob Wilton</span> for their reviews and feedback.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
</section>
<section id="appendix-B">
      <h2 id="name-contributors">
<a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<ul class="normal">
<li class="normal" id="appendix-B-1.1">
          <p id="appendix-B-1.1.1"><span class="contact-name">Youssef El Fathi</span><a href="#appendix-B-1.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="appendix-B-1.2">
          <p id="appendix-B-1.2.1"><span class="contact-name">Éric Vyncke</span><a href="#appendix-B-1.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Benoit Claise</span></div>
<div dir="auto" class="left"><span class="org">Huawei</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:benoit.claise@huawei.com" class="email">benoit.claise@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jean Quilbeuf</span></div>
<div dir="auto" class="left"><span class="org">Huawei</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jean.quilbeuf@huawei.com" class="email">jean.quilbeuf@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Diego R. Lopez</span></div>
<div dir="auto" class="left"><span class="org">Telefonica I+D</span></div>
<div dir="auto" class="left"><span class="street-address">Don Ramon de la Cruz, 82</span></div>
<div dir="auto" class="left">
<span class="postal-code">28006</span> <span class="locality">Madrid</span> </div>
<div dir="auto" class="left"><span class="country-name">Spain</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:diego.r.lopez@telefonica.com" class="email">diego.r.lopez@telefonica.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Dan Voyer</span></div>
<div dir="auto" class="left"><span class="org">Bell Canada</span></div>
<div dir="auto" class="left"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:daniel.voyer@bell.ca" class="email">daniel.voyer@bell.ca</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Thangavelu Arumugam</span></div>
<div dir="auto" class="left"><span class="org">Consultant</span></div>
<div dir="auto" class="left">
<span class="locality">Milpitas</span>, <span class="region">California</span> </div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:thangavelu@yahoo.com" class="email">thangavelu@yahoo.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
