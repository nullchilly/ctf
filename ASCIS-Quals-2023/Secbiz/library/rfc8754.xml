<?xml version='1.0' encoding='utf-8'?>
<rfc xmlns:xi="http://www.w3.org/2001/XInclude" version="3" category="std" consensus="true" docName="draft-ietf-6man-segment-routing-header-26" indexInclude="true" ipr="trust200902" number="8754" prepTime="2020-03-13T22:14:47" scripts="Common,Latin" sortRefs="true" submissionType="IETF" symRefs="true" tocDepth="3" tocInclude="true" xml:lang="en">
  <link href="https://datatracker.ietf.org/doc/draft-ietf-6man-segment-routing-header-26" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc8754" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <front>
    <title abbrev="IPv6 Segment Routing Header (SRH)">IPv6 Segment Routing Header (SRH)</title>
    <seriesInfo name="RFC" value="8754" stream="IETF"/>
    <author fullname="Clarence Filsfils" initials="C." role="editor" surname="Filsfils">
      <organization showOnFrontPage="true">Cisco Systems, Inc.</organization>
      <address>
        <postal>
          <street/>
          <city>Brussels</city>
          <region/>
          <code/>
          <country>Belgium</country>
        </postal>
        <email>cfilsfil@cisco.com</email>
      </address>
    </author>
    <author fullname="Darren Dukes" initials="D." role="editor" surname="Dukes">
      <organization showOnFrontPage="true">Cisco Systems, Inc.</organization>
      <address>
        <postal>
          <street/>
          <city>Ottawa</city>
          <region/>
          <code/>
          <country>Canada</country>
        </postal>
        <email>ddukes@cisco.com</email>
      </address>
    </author>
    <author fullname="Stefano Previdi" initials="S." surname="Previdi">
      <organization showOnFrontPage="true">Huawei</organization>
      <address>
        <postal>
          <street/>
          <city/>
          <code/>
          <country>Italy</country>
        </postal>
        <email>stefano@previdi.net</email>
      </address>
    </author>
    <author fullname="John Leddy" initials="J." surname="Leddy">
      <organization showOnFrontPage="true">Individual</organization>
      <address>
        <postal>
          <street/>
          <city/>
          <region/>
          <code/>
          <country>United States of America</country>
        </postal>
        <email>john@leddy.net</email>
      </address>
    </author>
    <author fullname="Satoru Matsushima" initials="S." surname="Matsushima">
      <organization showOnFrontPage="true">SoftBank</organization>
      <address>
        <email>satoru.matsushima@g.softbank.co.jp</email>
      </address>
    </author>
    <author fullname="Daniel Voyer" initials="D." surname="Voyer">
      <organization showOnFrontPage="true">Bell Canada</organization>
      <address>
        <email>daniel.voyer@bell.ca</email>
      </address>
    </author>
    <date month="03" year="2020"/>
    <area>Internet</area>
    <workgroup>IPv6 Maintenance</workgroup>
    <keyword>SRv6</keyword>
    <keyword>source-routing</keyword>
    <keyword>network-programming</keyword>
    <abstract pn="section-abstract">
      <t pn="section-abstract-1">Segment Routing can be applied to the IPv6 data plane using a new
      type of Routing Extension Header called the Segment Routing Header (SRH). This
      document describes the SRH and how it is used by nodes that are
      Segment Routing (SR) capable.</t>
    </abstract>
    <boilerplate>
      <section anchor="status-of-memo" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.1">
        <name slugifiedName="name-status-of-this-memo">Status of This Memo</name>
        <t pn="section-boilerplate.1-1">
            This is an Internet Standards Track document.
        </t>
        <t pn="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.
        </t>
        <t pn="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <eref target="https://www.rfc-editor.org/info/rfc8754" brackets="none"/>.
        </t>
      </section>
      <section anchor="copyright" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.2">
        <name slugifiedName="name-copyright-notice">Copyright Notice</name>
        <t pn="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.
        </t>
        <t pn="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<eref target="https://trustee.ietf.org/license-info" brackets="none"/>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.
        </t>
      </section>
    </boilerplate>
    <toc>
      <section anchor="toc" numbered="false" removeInRFC="false" toc="exclude" pn="section-toc.1">
        <name slugifiedName="name-table-of-contents">Table of Contents</name>
        <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1">
          <li pn="section-toc.1-1.1">
            <t keepWithNext="true" pn="section-toc.1-1.1.1"><xref derivedContent="1" format="counter" sectionFormat="of" target="section-1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-introduction">Introduction</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.1.2">
              <li pn="section-toc.1-1.1.2.1">
                <t keepWithNext="true" pn="section-toc.1-1.1.2.1.1"><xref derivedContent="1.1" format="counter" sectionFormat="of" target="section-1.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-terminology">Terminology</xref></t>
              </li>
              <li pn="section-toc.1-1.1.2.2">
                <t keepWithNext="true" pn="section-toc.1-1.1.2.2.1"><xref derivedContent="1.2" format="counter" sectionFormat="of" target="section-1.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-requirements-language">Requirements Language</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.2">
            <t keepWithNext="true" pn="section-toc.1-1.2.1"><xref derivedContent="2" format="counter" sectionFormat="of" target="section-2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-segment-routing-header">Segment Routing Header</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.2.2">
              <li pn="section-toc.1-1.2.2.1">
                <t keepWithNext="true" pn="section-toc.1-1.2.2.1.1"><xref derivedContent="2.1" format="counter" sectionFormat="of" target="section-2.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-srh-tlvs">SRH TLVs</xref></t>
                <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.2.2.1.2">
                  <li pn="section-toc.1-1.2.2.1.2.1">
                    <t keepWithNext="true" pn="section-toc.1-1.2.2.1.2.1.1"><xref derivedContent="2.1.1" format="counter" sectionFormat="of" target="section-2.1.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-padding-tlvs">Padding TLVs</xref></t>
                  </li>
                  <li pn="section-toc.1-1.2.2.1.2.2">
                    <t keepWithNext="true" pn="section-toc.1-1.2.2.1.2.2.1"><xref derivedContent="2.1.2" format="counter" sectionFormat="of" target="section-2.1.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-hmac-tlv">HMAC TLV</xref></t>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.3">
            <t keepWithNext="true" pn="section-toc.1-1.3.1"><xref derivedContent="3" format="counter" sectionFormat="of" target="section-3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sr-nodes">SR Nodes</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.3.2">
              <li pn="section-toc.1-1.3.2.1">
                <t keepWithNext="true" pn="section-toc.1-1.3.2.1.1"><xref derivedContent="3.1" format="counter" sectionFormat="of" target="section-3.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sr-source-node">SR Source Node</xref></t>
              </li>
              <li pn="section-toc.1-1.3.2.2">
                <t keepWithNext="true" pn="section-toc.1-1.3.2.2.1"><xref derivedContent="3.2" format="counter" sectionFormat="of" target="section-3.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-transit-node">Transit Node</xref></t>
              </li>
              <li pn="section-toc.1-1.3.2.3">
                <t keepWithNext="true" pn="section-toc.1-1.3.2.3.1"><xref derivedContent="3.3" format="counter" sectionFormat="of" target="section-3.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sr-segment-endpoint-node">SR Segment Endpoint Node</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.4">
            <t keepWithNext="true" pn="section-toc.1-1.4.1"><xref derivedContent="4" format="counter" sectionFormat="of" target="section-4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-packet-processing">Packet Processing</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.4.2">
              <li pn="section-toc.1-1.4.2.1">
                <t keepWithNext="true" pn="section-toc.1-1.4.2.1.1"><xref derivedContent="4.1" format="counter" sectionFormat="of" target="section-4.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sr-source-node-2">SR Source Node</xref></t>
                <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.4.2.1.2">
                  <li pn="section-toc.1-1.4.2.1.2.1">
                    <t keepWithNext="true" pn="section-toc.1-1.4.2.1.2.1.1"><xref derivedContent="4.1.1" format="counter" sectionFormat="of" target="section-4.1.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-reduced-srh">Reduced SRH</xref></t>
                  </li>
                </ul>
              </li>
              <li pn="section-toc.1-1.4.2.2">
                <t keepWithNext="true" pn="section-toc.1-1.4.2.2.1"><xref derivedContent="4.2" format="counter" sectionFormat="of" target="section-4.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-transit-node-2">Transit Node</xref></t>
              </li>
              <li pn="section-toc.1-1.4.2.3">
                <t keepWithNext="true" pn="section-toc.1-1.4.2.3.1"><xref derivedContent="4.3" format="counter" sectionFormat="of" target="section-4.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sr-segment-endpoint-node-2">SR Segment Endpoint Node</xref></t>
                <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.4.2.3.2">
                  <li pn="section-toc.1-1.4.2.3.2.1">
                    <t keepWithNext="true" pn="section-toc.1-1.4.2.3.2.1.1"><xref derivedContent="4.3.1" format="counter" sectionFormat="of" target="section-4.3.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-fib-entry-is-a-locally-inst">FIB Entry Is a Locally Instantiated SRv6 SID</xref></t>
                  </li>
                  <li pn="section-toc.1-1.4.2.3.2.2">
                    <t keepWithNext="true" pn="section-toc.1-1.4.2.3.2.2.1"><xref derivedContent="4.3.2" format="counter" sectionFormat="of" target="section-4.3.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-fib-entry-is-a-local-interf">FIB Entry Is a Local Interface</xref></t>
                  </li>
                  <li pn="section-toc.1-1.4.2.3.2.3">
                    <t keepWithNext="true" pn="section-toc.1-1.4.2.3.2.3.1"><xref derivedContent="4.3.3" format="counter" sectionFormat="of" target="section-4.3.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-fib-entry-is-a-nonlocal-rou">FIB Entry Is a Nonlocal Route</xref></t>
                  </li>
                  <li pn="section-toc.1-1.4.2.3.2.4">
                    <t keepWithNext="true" pn="section-toc.1-1.4.2.3.2.4.1"><xref derivedContent="4.3.4" format="counter" sectionFormat="of" target="section-4.3.4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-fib-entry-is-a-no-match">FIB Entry Is a No Match</xref></t>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.5">
            <t keepWithNext="true" pn="section-toc.1-1.5.1"><xref derivedContent="5" format="counter" sectionFormat="of" target="section-5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-intra-sr-domain-deployment-">Intra-SR-Domain Deployment Model</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.5.2">
              <li pn="section-toc.1-1.5.2.1">
                <t keepWithNext="true" pn="section-toc.1-1.5.2.1.1"><xref derivedContent="5.1" format="counter" sectionFormat="of" target="section-5.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-securing-the-sr-domain">Securing the SR Domain</xref></t>
              </li>
              <li pn="section-toc.1-1.5.2.2">
                <t keepWithNext="true" pn="section-toc.1-1.5.2.2.1"><xref derivedContent="5.2" format="counter" sectionFormat="of" target="section-5.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sr-domain-as-a-single-syste">SR Domain as a Single System with Delegation among Components</xref></t>
              </li>
              <li pn="section-toc.1-1.5.2.3">
                <t keepWithNext="true" pn="section-toc.1-1.5.2.3.1"><xref derivedContent="5.3" format="counter" sectionFormat="of" target="section-5.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-mtu-considerations">MTU Considerations</xref></t>
              </li>
              <li pn="section-toc.1-1.5.2.4">
                <t keepWithNext="true" pn="section-toc.1-1.5.2.4.1"><xref derivedContent="5.4" format="counter" sectionFormat="of" target="section-5.4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-icmp-error-processing">ICMP Error Processing</xref></t>
              </li>
              <li pn="section-toc.1-1.5.2.5">
                <t keepWithNext="true" pn="section-toc.1-1.5.2.5.1"><xref derivedContent="5.5" format="counter" sectionFormat="of" target="section-5.5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-load-balancing-and-ecmp">Load Balancing and ECMP</xref></t>
              </li>
              <li pn="section-toc.1-1.5.2.6">
                <t keepWithNext="true" pn="section-toc.1-1.5.2.6.1"><xref derivedContent="5.6" format="counter" sectionFormat="of" target="section-5.6"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-other-deployments">Other Deployments</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.6">
            <t keepWithNext="true" pn="section-toc.1-1.6.1"><xref derivedContent="6" format="counter" sectionFormat="of" target="section-6"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-illustrations">Illustrations</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.6.2">
              <li pn="section-toc.1-1.6.2.1">
                <t keepWithNext="true" pn="section-toc.1-1.6.2.1.1"><xref derivedContent="6.1" format="counter" sectionFormat="of" target="section-6.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-abstract-representation-of-">Abstract Representation of an SRH</xref></t>
              </li>
              <li pn="section-toc.1-1.6.2.2">
                <t keepWithNext="true" pn="section-toc.1-1.6.2.2.1"><xref derivedContent="6.2" format="counter" sectionFormat="of" target="section-6.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-example-topology">Example Topology</xref></t>
              </li>
              <li pn="section-toc.1-1.6.2.3">
                <t keepWithNext="true" pn="section-toc.1-1.6.2.3.1"><xref derivedContent="6.3" format="counter" sectionFormat="of" target="section-6.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sr-source-node-3">SR Source Node</xref></t>
                <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.6.2.3.2">
                  <li pn="section-toc.1-1.6.2.3.2.1">
                    <t keepWithNext="true" pn="section-toc.1-1.6.2.3.2.1.1"><xref derivedContent="6.3.1" format="counter" sectionFormat="of" target="section-6.3.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-intra-sr-domain-packet">Intra-SR-Domain Packet</xref></t>
                  </li>
                  <li pn="section-toc.1-1.6.2.3.2.2">
                    <t keepWithNext="true" pn="section-toc.1-1.6.2.3.2.2.1"><xref derivedContent="6.3.2" format="counter" sectionFormat="of" target="section-6.3.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-inter-sr-domain-packet-tran">Inter-SR-Domain Packet -- Transit</xref></t>
                  </li>
                  <li pn="section-toc.1-1.6.2.3.2.3">
                    <t keepWithNext="true" pn="section-toc.1-1.6.2.3.2.3.1"><xref derivedContent="6.3.3" format="counter" sectionFormat="of" target="section-6.3.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-inter-sr-domain-packet-inte">Inter-SR-Domain Packet -- Internal to External</xref></t>
                  </li>
                </ul>
              </li>
              <li pn="section-toc.1-1.6.2.4">
                <t keepWithNext="true" pn="section-toc.1-1.6.2.4.1"><xref derivedContent="6.4" format="counter" sectionFormat="of" target="section-6.4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-transit-node-3">Transit Node</xref></t>
              </li>
              <li pn="section-toc.1-1.6.2.5">
                <t keepWithNext="true" pn="section-toc.1-1.6.2.5.1"><xref derivedContent="6.5" format="counter" sectionFormat="of" target="section-6.5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sr-segment-endpoint-node-3">SR Segment Endpoint Node</xref></t>
              </li>
              <li pn="section-toc.1-1.6.2.6">
                <t keepWithNext="true" pn="section-toc.1-1.6.2.6.1"><xref derivedContent="6.6" format="counter" sectionFormat="of" target="section-6.6"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-delegation-of-function-with">Delegation of Function with HMAC Verification</xref></t>
                <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.6.2.6.2">
                  <li pn="section-toc.1-1.6.2.6.2.1">
                    <t keepWithNext="true" pn="section-toc.1-1.6.2.6.2.1.1"><xref derivedContent="6.6.1" format="counter" sectionFormat="of" target="section-6.6.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sid-list-verification">SID List Verification</xref></t>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.7">
            <t keepWithNext="true" pn="section-toc.1-1.7.1"><xref derivedContent="7" format="counter" sectionFormat="of" target="section-7"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-security-considerations">Security Considerations</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.7.2">
              <li pn="section-toc.1-1.7.2.1">
                <t keepWithNext="true" pn="section-toc.1-1.7.2.1.1"><xref derivedContent="7.1" format="counter" sectionFormat="of" target="section-7.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sr-attacks">SR Attacks</xref></t>
              </li>
              <li pn="section-toc.1-1.7.2.2">
                <t keepWithNext="true" pn="section-toc.1-1.7.2.2.1"><xref derivedContent="7.2" format="counter" sectionFormat="of" target="section-7.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-service-theft">Service Theft</xref></t>
              </li>
              <li pn="section-toc.1-1.7.2.3">
                <t keepWithNext="true" pn="section-toc.1-1.7.2.3.1"><xref derivedContent="7.3" format="counter" sectionFormat="of" target="section-7.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-topology-disclosure">Topology Disclosure</xref></t>
              </li>
              <li pn="section-toc.1-1.7.2.4">
                <t keepWithNext="true" pn="section-toc.1-1.7.2.4.1"><xref derivedContent="7.4" format="counter" sectionFormat="of" target="section-7.4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-icmp-generation">ICMP Generation</xref></t>
              </li>
              <li pn="section-toc.1-1.7.2.5">
                <t keepWithNext="true" pn="section-toc.1-1.7.2.5.1"><xref derivedContent="7.5" format="counter" sectionFormat="of" target="section-7.5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-applicability-of-ah">Applicability of AH</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.8">
            <t keepWithNext="true" pn="section-toc.1-1.8.1"><xref derivedContent="8" format="counter" sectionFormat="of" target="section-8"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-iana-considerations">IANA Considerations</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.8.2">
              <li pn="section-toc.1-1.8.2.1">
                <t keepWithNext="true" pn="section-toc.1-1.8.2.1.1"><xref derivedContent="8.1" format="counter" sectionFormat="of" target="section-8.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-segment-routing-header-flag">Segment Routing Header Flags Registry</xref></t>
              </li>
              <li pn="section-toc.1-1.8.2.2">
                <t keepWithNext="true" pn="section-toc.1-1.8.2.2.1"><xref derivedContent="8.2" format="counter" sectionFormat="of" target="section-8.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-segment-routing-header-tlvs">Segment Routing Header TLVs Registry</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.9">
            <t keepWithNext="true" pn="section-toc.1-1.9.1"><xref derivedContent="9" format="counter" sectionFormat="of" target="section-9"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-references">References</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.9.2">
              <li pn="section-toc.1-1.9.2.1">
                <t keepWithNext="true" pn="section-toc.1-1.9.2.1.1"><xref derivedContent="9.1" format="counter" sectionFormat="of" target="section-9.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-normative-references">Normative References</xref></t>
              </li>
              <li pn="section-toc.1-1.9.2.2">
                <t keepWithNext="true" pn="section-toc.1-1.9.2.2.1"><xref derivedContent="9.2" format="counter" sectionFormat="of" target="section-9.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-informative-references">Informative References</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.10">
            <t keepWithNext="true" pn="section-toc.1-1.10.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.a"/><xref derivedContent="" format="title" sectionFormat="of" target="name-acknowledgements">Acknowledgements</xref></t>
          </li>
          <li pn="section-toc.1-1.11">
            <t keepWithNext="true" pn="section-toc.1-1.11.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.b"/><xref derivedContent="" format="title" sectionFormat="of" target="name-contributors">Contributors</xref></t>
          </li>
          <li pn="section-toc.1-1.12">
            <t keepWithNext="true" pn="section-toc.1-1.12.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.c"/><xref derivedContent="" format="title" sectionFormat="of" target="name-authors-addresses">Authors' Addresses</xref></t>
          </li>
        </ul>
      </section>
    </toc>
  </front>
  <middle>
    <section anchor="INTRO" numbered="true" toc="include" removeInRFC="false" pn="section-1">
      <name slugifiedName="name-introduction">Introduction</name>
      <t pn="section-1-1">Segment Routing (SR) can be applied to the IPv6 data plane using a new
      type of routing header called the Segment Routing Header (SRH). This document
      describes the SRH and how it is used by nodes that are SR capable.</t>
      <t pn="section-1-2">"Segment Routing Architecture" <xref target="RFC8402" format="default" sectionFormat="of" derivedContent="RFC8402"/> describes
      Segment Routing and its instantiation in two data planes: MPLS and
      IPv6.</t>
      <t pn="section-1-3">The encoding of IPv6 segments in the SRH is
      defined in this document.</t>
      <section anchor="TERMS" numbered="true" toc="include" removeInRFC="false" pn="section-1.1">
        <name slugifiedName="name-terminology">Terminology</name>
        <t pn="section-1.1-1">This document uses the terms Segment Routing (SR), SR domain, SR over
      IPv6 (SRv6), Segment Identifier (SID), SRv6 SID, Active Segment, and SR Policy as defined in
      <xref target="RFC8402" format="default" sectionFormat="of" derivedContent="RFC8402"/>.</t>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-1.2">
        <name slugifiedName="name-requirements-language">Requirements Language</name>
        <t pn="section-1.2-1">
    The key words "<bcp14>MUST</bcp14>", "<bcp14>MUST NOT</bcp14>",
    "<bcp14>REQUIRED</bcp14>", "<bcp14>SHALL</bcp14>", "<bcp14>SHALL NOT</bcp14>", "<bcp14>SHOULD</bcp14>", "<bcp14>SHOULD NOT</bcp14>",
    "<bcp14>RECOMMENDED</bcp14>", "<bcp14>NOT RECOMMENDED</bcp14>",
    "<bcp14>MAY</bcp14>", and "<bcp14>OPTIONAL</bcp14>" in this document are to be interpreted as
    described in BCP 14 <xref target="RFC2119" format="default" sectionFormat="of" derivedContent="RFC2119"/> <xref target="RFC8174" format="default" sectionFormat="of" derivedContent="RFC8174"/> 
    when, and only when, they appear in all capitals, as shown here.
        </t>
      </section>
    </section>
    <section anchor="SRH" numbered="true" toc="include" removeInRFC="false" pn="section-2">
      <name slugifiedName="name-segment-routing-header">Segment Routing Header</name>
      <t pn="section-2-1">Routing headers are defined in <xref target="RFC8200" format="default" sectionFormat="of" derivedContent="RFC8200"/>. The Segment
      Routing Header (SRH) has a new Routing Type (4).</t>
      <t pn="section-2-2">The SRH is defined as follows:</t>
      <artwork name="" type="" align="left" alt="" pn="section-2-3">
  0                   1                   2                   3 
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1    
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 | Next Header   |  Hdr Ext Len  | Routing Type  | Segments Left |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |  Last Entry   |     Flags     |              Tag              |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                                                               |
 |            Segment List[0] (128-bit IPv6 address)             |
 |                                                               |
 |                                                               |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                                                               |
 |                                                               |
                               ...
 |                                                               |
 |                                                               |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                                                               |
 |            Segment List[n] (128-bit IPv6 address)             |
 |                                                               |
 |                                                               |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 //                                                             //
 //         Optional Type Length Value objects (variable)       //
 //                                                             //
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</artwork>
      <t pn="section-2-4">where:</t>
      <dl spacing="normal" newline="false" pn="section-2-5">
        <dt pn="section-2-5.1">Next Header:</dt>
        <dd pn="section-2-5.2">Defined in <xref target="RFC8200" sectionFormat="comma" section="4.4" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8200#section-4.4" derivedContent="RFC8200"/>.</dd>
        <dt pn="section-2-5.3">Hdr Ext Len:</dt>
        <dd pn="section-2-5.4">Defined in <xref target="RFC8200" sectionFormat="comma" section="4.4" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8200#section-4.4" derivedContent="RFC8200"/>.</dd>
        <dt pn="section-2-5.5">Routing Type:</dt>
        <dd pn="section-2-5.6">4.</dd>
        <dt pn="section-2-5.7">Segments Left:</dt>
        <dd pn="section-2-5.8">Defined in <xref target="RFC8200" sectionFormat="comma" section="4.4" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8200#section-4.4" derivedContent="RFC8200"/>.</dd>
        <dt pn="section-2-5.9">Last Entry:</dt>
        <dd pn="section-2-5.10">contains the index (zero based), in the Segment List,
          of the last element of the Segment List.</dd>
        <dt pn="section-2-5.11">Flags:</dt>
        <dd pn="section-2-5.12">8 bits of flags. <xref target="SRHFLAGSREG" format="default" sectionFormat="of" derivedContent="Section 8.1"/> creates an
          IANA registry for new flags to be defined. The following flags are
          defined:</dd>
      </dl>
      <artwork align="left" name="" type="" alt="" pn="section-2-6">
       0 1 2 3 4 5 6 7  
      +-+-+-+-+-+-+-+-+
      |U U U U U U U U|
      +-+-+-+-+-+-+-+-+
 </artwork>
      <dl newline="false" spacing="normal" pn="section-2-7">
        <dt pn="section-2-7.1"/>
        <dd pn="section-2-7.2">U: Unused and for future use. <bcp14>MUST</bcp14> be 0 on transmission and
              ignored on receipt.</dd>
      </dl>
      <dl spacing="normal" newline="false" pn="section-2-8">
        <dt pn="section-2-8.1">Tag:</dt>
        <dd pn="section-2-8.2">Tag a packet as part of a class or group of packets -- e.g.,
          packets sharing the same set of properties. When Tag is not used at the
          source, it <bcp14>MUST</bcp14> be set to zero on transmission. When
	  Tag is not used during SRH processing, it <bcp14>SHOULD</bcp14> be
	  ignored. Tag is not used when
          processing the SID defined in <xref target="pktENDSID" format="default" sectionFormat="of" derivedContent="Section 4.3.1"/>. It may be
          used when processing other SIDs that are not defined in this
          document. The allocation and use of tag is outside the scope of this
          document.</dd>
        <dt pn="section-2-8.3">Segment List[0..n]:</dt>
        <dd pn="section-2-8.4">128-bit IPv6 addresses representing the nth
          segment in the Segment List. The Segment List is encoded starting
          from the last segment of the SR Policy. That is, the first element of
          the Segment List (Segment List[0]) contains the last segment of the
          SR Policy, the second element contains the penultimate segment of
          the SR Policy, and so on.</dd>
        <dt pn="section-2-8.5">TLV:</dt>
        <dd pn="section-2-8.6">Type Length Value (TLV) is described in <xref target="TLVS" format="default" sectionFormat="of" derivedContent="Section 2.1"/>.</dd>
      </dl>
      <t pn="section-2-9">In the SRH, the Next Header, Hdr Ext Len, Routing Type, and Segments
      Left fields are defined in <xref target="RFC8200" sectionFormat="of" section="4.4" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8200#section-4.4" derivedContent="RFC8200"/>.
      Based on the constraints in that section, Next Header, Header Ext Len,
      and Routing Type are not mutable while Segments Left is mutable.</t>
      <t pn="section-2-10">The mutability of the TLV value is defined by the most significant
      bit in the type, as specified in <xref target="TLVS" format="default" sectionFormat="of" derivedContent="Section 2.1"/>.</t>
      <t pn="section-2-11"><xref target="ENDSID" format="default" sectionFormat="of" derivedContent="Section 4.3"/> defines the mutability of the remaining
      fields in the SRH (Flags, Tag, Segment List) in the context of the SID
      defined in this document.</t>
      <t pn="section-2-12">New SIDs defined in the future <bcp14>MUST</bcp14> specify the mutability properties
      of the Flags, Tag, and Segment List and indicate how the Hashed Message
      Authentication Code (HMAC) TLV (<xref target="HMACTLV" format="default" sectionFormat="of" derivedContent="Section 2.1.2"/>) verification works. Note that, in effect, these
      fields are mutable.</t>
      <t pn="section-2-13">Consistent with the SR model, the source of the SRH
      always knows how to set the Segment List, Flags, Tag, and TLVs of the SRH
      for use within the SR domain. How it achieves this is outside the scope
      of this document but may be based on topology, available SIDs and their
      mutability properties, the SRH mutability requirements of the
      destination, or any other information.</t>
      <section anchor="TLVS" numbered="true" toc="include" removeInRFC="false" pn="section-2.1">
        <name slugifiedName="name-srh-tlvs">SRH TLVs</name>
        <t pn="section-2.1-1">This section defines TLVs of the Segment Routing Header.</t>
        <t pn="section-2.1-2">A TLV provides metadata for segment processing. The only TLVs
        defined in this document are the HMAC (<xref target="HMACTLV" format="default" sectionFormat="of" derivedContent="Section 2.1.2"/>) and
        padding TLVs (<xref target="PADDINGTLV" format="default" sectionFormat="of" derivedContent="Section 2.1.1"/>). While processing the SID
        defined in <xref target="pktENDSID" format="default" sectionFormat="of" derivedContent="Section 4.3.1"/>, all TLVs are ignored unless
        local configuration indicates otherwise (<xref target="TLVPROCESS" format="default" sectionFormat="of" derivedContent="Section 4.3.1.1.1"/>).
        Thus, TLV and HMAC support is optional for any implementation;
        however, an implementation adding or parsing TLVs <bcp14>MUST</bcp14> support PAD
        TLVs. Other documents may define additional TLVs and processing rules
        for them.</t>
        <t pn="section-2.1-3">TLVs are present when the Hdr Ext Len is greater than (Last
        Entry+1)*2.</t>
        <t pn="section-2.1-4">While processing TLVs at a segment endpoint, TLVs <bcp14>MUST</bcp14> be fully
        contained within the SRH as determined by the Hdr Ext
	Len.  Detection
        of TLVs exceeding the boundary of the SRH Hdr Ext Len results in an
        ICMP Parameter Problem, Code 0, message to the Source Address,
        pointing to the Hdr Ext Len field of the SRH, and the packet being
        discarded.</t>
        <t pn="section-2.1-5">An implementation <bcp14>MAY</bcp14> limit the number and/or length of TLVs it
        processes based on local configuration. It <bcp14>MAY</bcp14> limit:</t>
        <ul spacing="normal" bare="false" empty="false" pn="section-2.1-6">
          <li pn="section-2.1-6.1">the number of consecutive Pad1 (<xref target="PAD1" format="default" sectionFormat="of" derivedContent="Section 2.1.1.1"/>)
            options to 1. If padding of more than one byte is required, then
            PadN (<xref target="PADN" format="default" sectionFormat="of" derivedContent="Section 2.1.1.2"/>) should be used.</li>
          <li pn="section-2.1-6.2">The length in PadN to 5.</li>
          <li pn="section-2.1-6.3">The maximum number of non-Pad TLVs to be processed.</li>
          <li pn="section-2.1-6.4">The maximum length of all TLVs to be processed.</li>
        </ul>
        <t pn="section-2.1-7"> The implementation <bcp14>MAY</bcp14> stop processing additional TLVs in
        the SRH when these configured limits are exceeded.</t>
        <artwork name="" type="" align="left" alt="" pn="section-2.1-8">
 0                   1 
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-----------------------
|     Type      |    Length     | Variable-length data  
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-----------------------
</artwork>
        <dl spacing="normal" newline="false" pn="section-2.1-9">
          <dt pn="section-2.1-9.1">Type:</dt>
          <dd pn="section-2.1-9.2">An 8-bit codepoint from the "Segment Routing Header TLVs" <xref target="IANA-SRHTLV" format="default" sectionFormat="of" derivedContent="IANA-SRHTLV"/>.


          
	Unrecognized Types <bcp14>MUST</bcp14> be ignored on receipt.</dd>
          <dt pn="section-2.1-9.3">Length:</dt>
          <dd pn="section-2.1-9.4">The length of the variable-length data field in bytes.</dd>
          <dt pn="section-2.1-9.5">Variable-length data:</dt>
          <dd pn="section-2.1-9.6">data that is specific to the
        Type.</dd>
        </dl>
        <t pn="section-2.1-10">Type Length Value (TLV) entries contain <bcp14>OPTIONAL</bcp14> information that
        may be used by the node identified in the Destination Address (DA) of
        the packet.</t>
        <t pn="section-2.1-11">Each TLV has its own length, format, and semantic. The codepoint
        allocated (by IANA) to each TLV Type defines both the format and the
        semantic of the information carried in the TLV. Multiple TLVs may be
        encoded in the same SRH.</t>
        <t pn="section-2.1-12">The highest-order bit of the TLV type (bit 0) specifies whether or
        not the TLV data of that type can change en route to the packet's
        final destination: </t>
        <ul empty="true" spacing="normal" bare="false" pn="section-2.1-13">
          <li pn="section-2.1-13.1">0: TLV data does not change en route</li>
          <li pn="section-2.1-13.2">1: TLV data does change en route</li>
        </ul>
        <t pn="section-2.1-14">All TLVs specify their alignment requirements using an xn+y format.
        The xn+y format is defined as per <xref target="RFC8200" format="default" sectionFormat="of" derivedContent="RFC8200"/>. The SR
        source nodes use the xn+y alignment requirements of TLVs and Padding
        TLVs when constructing an SRH.</t>
        <t pn="section-2.1-15">The Length field of the TLV is used to skip the TLV while
        inspecting the SRH in case the node doesn't support or recognize the
        Type. The Length defines the TLV length in octets, not including the
        Type and Length fields.</t>
        <t pn="section-2.1-16">The following TLVs are defined in this document:</t>
        <ul empty="true" spacing="normal" bare="false" pn="section-2.1-17">
          <li pn="section-2.1-17.1">Padding TLVs</li>
          <li pn="section-2.1-17.2">HMAC TLV</li>
        </ul>
        <t pn="section-2.1-18">Additional TLVs may be defined in the future.</t>
        <section anchor="PADDINGTLV" numbered="true" toc="include" removeInRFC="false" pn="section-2.1.1">
          <name slugifiedName="name-padding-tlvs">Padding TLVs</name>
          <t pn="section-2.1.1-1">There are two types of Padding TLVs, Pad1 and PadN, and the following
          applies to both:</t>
          <ul empty="true" spacing="normal" bare="false" pn="section-2.1.1-2">
            <li pn="section-2.1.1-2.1">Padding TLVs are used for meeting the alignment requirement
              of the subsequent TLVs.</li>
            <li pn="section-2.1.1-2.2">Padding TLVs are used to pad the SRH to a multiple of 8
              octets.</li>
            <li pn="section-2.1.1-2.3">Padding TLVs are ignored by a node processing the SRH
              TLV.</li>
            <li pn="section-2.1.1-2.4">Multiple Padding TLVs <bcp14>MAY</bcp14> be used in one SRH.</li>
          </ul>
          <section anchor="PAD1" numbered="true" toc="exclude" removeInRFC="false" pn="section-2.1.1.1">
            <name slugifiedName="name-pad1">Pad1</name>
            <t pn="section-2.1.1.1-1">Alignment requirement: none</t>
            <artwork name="" type="" align="left" alt="" pn="section-2.1.1.1-2">
   0 1 2 3 4 5 6 7 
  +-+-+-+-+-+-+-+-+ 
  |     Type      |
  +-+-+-+-+-+-+-+-+</artwork>
            <dl spacing="normal" newline="false" pn="section-2.1.1.1-3">
              <dt pn="section-2.1.1.1-3.1">Type:</dt>
              <dd pn="section-2.1.1.1-3.2">0</dd>
            </dl>
            <t pn="section-2.1.1.1-4">A single Pad1 TLV <bcp14>MUST</bcp14> be used when a single byte of padding is
            required. A Pad1 TLV <bcp14>MUST NOT</bcp14> be used if more than one consecutive
            byte of padding is required.</t>
          </section>
          <section anchor="PADN" numbered="true" toc="exclude" removeInRFC="false" pn="section-2.1.1.2">
            <name slugifiedName="name-padn">PadN</name>
            <t pn="section-2.1.1.2-1">Alignment requirement: none</t>
            <artwork name="" type="" align="left" alt="" pn="section-2.1.1.2-2">
 0                   1                   2                   3   
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1     
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
|     Type      |    Length     |      Padding (variable)       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
//                    Padding (variable)                       //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</artwork>
            <dl spacing="normal" newline="false" pn="section-2.1.1.2-3">
              <dt pn="section-2.1.1.2-3.1">Type:</dt>
              <dd pn="section-2.1.1.2-3.2">4</dd>
              <dt pn="section-2.1.1.2-3.3">Length:</dt>
              <dd pn="section-2.1.1.2-3.4">0 to 5. The length of the Padding field in bytes.</dd>
              <dt pn="section-2.1.1.2-3.5">Padding:</dt>
              <dd pn="section-2.1.1.2-3.6">Padding bits have no
                semantic. They <bcp14>MUST</bcp14> be set to 0 on transmission and ignored on
                receipt.</dd>
            </dl>
            <t pn="section-2.1.1.2-4">The PadN TLV <bcp14>MUST</bcp14> be used when more than one byte of padding is
            required.</t>
          </section>
        </section>
        <section anchor="HMACTLV" numbered="true" toc="include" removeInRFC="false" pn="section-2.1.2">
          <name slugifiedName="name-hmac-tlv">HMAC TLV</name>
          <t pn="section-2.1.2-1">Alignment requirement: 8n</t>
          <t pn="section-2.1.2-2">The keyed Hashed Message Authentication Code (HMAC) TLV is
          <bcp14>OPTIONAL</bcp14> and has the following format:</t>
          <artwork name="" type="" align="left" alt="" pn="section-2.1.2-3"> 0                   1                   2                   3   
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1     
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
|      Type     |     Length    |D|        RESERVED             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      HMAC Key ID (4 octets)                   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                              //
|                      HMAC (variable)                         //
|                                                              //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

where:</artwork>
          <dl spacing="normal" newline="false" pn="section-2.1.2-4">
            <dt pn="section-2.1.2-4.1">Type:</dt>
            <dd pn="section-2.1.2-4.2">5.</dd>
            <dt pn="section-2.1.2-4.3">Length:</dt>
            <dd pn="section-2.1.2-4.4">The length of the variable-length data in bytes.</dd>
            <dt pn="section-2.1.2-4.5">D:</dt>
            <dd pn="section-2.1.2-4.6">1 bit. 1 indicates that the Destination Address verification is
              disabled due to use of a reduced Segment List (see <xref target="REDUCED" format="default" sectionFormat="of" derivedContent="Section 4.1.1"/>).</dd>
            <dt pn="section-2.1.2-4.7">RESERVED:</dt>
            <dd pn="section-2.1.2-4.8">15 bits. <bcp14>MUST</bcp14> be 0 on transmission.</dd>
            <dt pn="section-2.1.2-4.9">HMAC Key ID:</dt>
            <dd pn="section-2.1.2-4.10">A 4-octet opaque number that uniquely
              identifies the pre-shared key and algorithm used to generate the
              HMAC.</dd>
            <dt pn="section-2.1.2-4.11">HMAC:</dt>
            <dd pn="section-2.1.2-4.12">Keyed HMAC, in multiples of 8 octets, at most 32
              octets.</dd>
          </dl>
          <t pn="section-2.1.2-5">The HMAC TLV is used to verify that the SRH applied to a packet
          was selected by an authorized party and to ensure that the segment
          list is not modified after generation. This also allows for
          verification that the current segment (by virtue of being in the
          authorized Segment List) is authorized for use. The SR domain
          ensures that the source node is permitted to use the source address in
          the packet via ingress filtering mechanisms as defined in BCP 84
          <xref target="RFC3704" format="default" sectionFormat="of" derivedContent="RFC3704"/> or other strategies as appropriate.</t>
          <section numbered="true" toc="exclude" removeInRFC="false" pn="section-2.1.2.1">
            <name slugifiedName="name-hmac-generation-and-verific">HMAC Generation and Verification</name>
            <t pn="section-2.1.2.1-1">Local configuration determines when to check for an HMAC. This
            local configuration is outside the scope of this document. It may
            be based on the active segment at an SR Segment endpoint node, the
            result of an Access Control List (ACL) that considers incoming interface, HMAC Key ID,
            or other packet fields.</t>
            <t pn="section-2.1.2.1-2">An implementation that supports the generation and verification
            of the HMAC supports the following default behavior, as
            defined in the remainder of this section.</t>
            <t pn="section-2.1.2.1-3">The HMAC verification begins by checking that the current segment is
            equal to the destination address of the IPv6 header. The check is
            successful when either:</t>
            <ul spacing="normal" bare="false" empty="false" pn="section-2.1.2.1-4">
              <li pn="section-2.1.2.1-4.1">HMAC D bit is 1 and Segments Left is greater than Last
                Entry, or</li>
              <li pn="section-2.1.2.1-4.2">HMAC Segments Left is less than or equal to Last Entry, and the
                destination address is equal to Segment List[Segments
                Left].</li>
            </ul>
            <t pn="section-2.1.2.1-5">The HMAC field is the output of the HMAC computation as defined
            in <xref target="RFC2104" format="default" sectionFormat="of" derivedContent="RFC2104"/>, using:</t>
            <ul spacing="normal" bare="false" empty="false" pn="section-2.1.2.1-6">
              <li pn="section-2.1.2.1-6.1">key: The pre-shared key identified by HMAC Key ID</li>
              <li pn="section-2.1.2.1-6.2">HMAC algorithm: Identified by the HMAC Key ID</li>
              <li pn="section-2.1.2.1-6.3">
                <t pn="section-2.1.2.1-6.3.1">Text: A concatenation of the following fields from the IPv6
                header and the SRH, as it would be received at the node
                verifying the HMAC:</t>
                <ul spacing="normal" bare="false" empty="false" pn="section-2.1.2.1-6.3.2">
                  <li pn="section-2.1.2.1-6.3.2.1">IPv6 header: Source address (16 octets)</li>
                  <li pn="section-2.1.2.1-6.3.2.2">SRH: Last Entry (1 octet)</li>
                  <li pn="section-2.1.2.1-6.3.2.3">SRH: Flags (1 octet)</li>
                  <li pn="section-2.1.2.1-6.3.2.4">SRH: HMAC 16 bits following Length</li>
                  <li pn="section-2.1.2.1-6.3.2.5">SRH: HMAC Key ID (4 octets)</li>
                  <li pn="section-2.1.2.1-6.3.2.6">SRH: All addresses in the Segment List (variable
                    octets)</li>
                </ul>
              </li>
            </ul>
            <t pn="section-2.1.2.1-7">The HMAC digest is truncated to 32 octets and placed in the
            HMAC field of the HMAC TLV.</t>
            <t pn="section-2.1.2.1-8">For HMAC algorithms producing digests less than 32 octets long, the
            digest is placed in the lowest-order octets of the HMAC field.
            Subsequent octets <bcp14>MUST</bcp14> be set to zero such that the HMAC length is
            a multiple of 8 octets.</t>
            <t pn="section-2.1.2.1-9">If HMAC verification is successful, processing proceeds as
            normal.</t>
            <t pn="section-2.1.2.1-10">If HMAC verification fails, an ICMP error message (parameter
            problem, error code 0, pointing to the HMAC TLV) <bcp14>SHOULD</bcp14> be
            generated (but rate limited) and logged, and the packet
	    <bcp14>SHOULD</bcp14> be discarded.</t>
          </section>
          <section numbered="true" toc="exclude" removeInRFC="false" pn="section-2.1.2.2">
            <name slugifiedName="name-hmac-pre-shared-key-algorit">HMAC Pre-shared Key Algorithm</name>
            <t pn="section-2.1.2.2-1">The HMAC Key ID field allows for the simultaneous existence of
            several hash algorithms (SHA-256, SHA3-256 ... or future ones) as
            well as pre-shared keys.</t>
            <t pn="section-2.1.2.2-2">The HMAC Key ID field is opaque -- i.e., it has neither syntax
            nor semantic except as an identifier of the right combination of
            pre-shared key and hash algorithm.</t>
            <t pn="section-2.1.2.2-3">At the HMAC TLV generating and verification nodes, the Key ID
            uniquely identifies the pre-shared key and HMAC algorithm.</t>
            <t pn="section-2.1.2.2-4">At the HMAC TLV generating node, the Text for the HMAC
            computation is set to the IPv6 header fields and SRH fields as
            they would appear at the verification node(s), not necessarily the
            same as the source node sending a packet with the HMAC TLV.</t>
            <t pn="section-2.1.2.2-5">Pre-Shared key rollover is supported by having two key IDs in
            use while the HMAC TLV generating node and verifying node converge
            to a new key.</t>
            <t pn="section-2.1.2.2-6">The HMAC TLV generating node may need to revoke an SRH for
            which it previously generated an HMAC. Revocation is achieved by
            allocating a new key and key ID, then rolling over the key ID
            associated with the SRH to be revoked. The HMAC TLV verifying node
            drops packets with the revoked SRH.</t>
            <t pn="section-2.1.2.2-7">An implementation supporting HMAC can support multiple hash
            functions. An implementation supporting HMAC <bcp14>MUST</bcp14> implement SHA-2
            <xref target="FIPS180-4" format="default" sectionFormat="of" derivedContent="FIPS180-4"/> in its SHA-256 variant.</t>
            <t pn="section-2.1.2.2-8">The selection of pre-shared key and algorithm and their
            distribution is outside the scope of this document. Some options
            may include: </t>
            <ul spacing="normal" bare="false" empty="false" pn="section-2.1.2.2-9">
              <li pn="section-2.1.2.2-9.1">setting these items in the configuration of the HMAC generating or verifying
                nodes, either by static configuration or any
		SDN-oriented
                approach</li>
              <li pn="section-2.1.2.2-9.2">dynamically using a trusted key distribution protocol such
                as <xref target="RFC6407" format="default" sectionFormat="of" derivedContent="RFC6407"/></li>
            </ul>
            <t pn="section-2.1.2.2-10">While key management is outside the scope of this document, the
            recommendations of BCP 107 <xref target="RFC4107" format="default" sectionFormat="of" derivedContent="RFC4107"/> should be
            considered when choosing the key management system.</t>
          </section>
        </section>
      </section>
    </section>
    <section anchor="SRNODES" numbered="true" toc="include" removeInRFC="false" pn="section-3">
      <name slugifiedName="name-sr-nodes">SR Nodes</name>
      <t pn="section-3-1">There are different types of nodes that may be involved in segment
      routing networks: SR source nodes that originate packets with a segment in
      the destination address of the IPv6 header, transit nodes that forward
      packets destined to a remote segment, and SR segment endpoint nodes that
      process a local segment in the destination address of an IPv6
      header.</t>
      <section anchor="SOURCE" numbered="true" toc="include" removeInRFC="false" pn="section-3.1">
        <name slugifiedName="name-sr-source-node">SR Source Node</name>
        <t pn="section-3.1-1">A SR source node is any node that originates an IPv6 packet with a
        segment (i.e., SRv6 SID) in the destination address of the IPv6 header.
        The packet leaving the SR source node may or may not contain an SRH.
        This includes either: </t>
        <ul spacing="normal" bare="false" empty="false" pn="section-3.1-2">
          <li pn="section-3.1-2.1">A host originating an IPv6 packet, or</li>
          <li pn="section-3.1-2.2">An SR domain ingress router encapsulating a received packet in
            an outer IPv6 header, followed by an optional SRH.</li>
        </ul>
        <t pn="section-3.1-3">It is out of the scope of this document to describe the mechanism
	through which a segment in the destination address of
        the IPv6 header and the Segment List in the SRH are derived.</t>
      </section>
      <section anchor="TRANSIT" numbered="true" toc="include" removeInRFC="false" pn="section-3.2">
        <name slugifiedName="name-transit-node">Transit Node</name>
        <t pn="section-3.2-1">A transit node is any node forwarding an IPv6 packet where the
        destination address of that packet is not locally configured as a
        segment or a local interface. A transit node is not required to be
        capable of processing a segment or SRH.</t>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-3.3">
        <name slugifiedName="name-sr-segment-endpoint-node">SR Segment Endpoint Node</name>
        <t pn="section-3.3-1">An SR segment endpoint node is any node receiving an IPv6 packet
        where the destination address of that packet is locally configured as
        a segment or local interface.</t>
      </section>
    </section>
    <section anchor="PacketProcessing" numbered="true" toc="include" removeInRFC="false" pn="section-4">
      <name slugifiedName="name-packet-processing">Packet Processing</name>
      <t pn="section-4-1">This section describes SRv6 packet processing at the SR source,
      Transit, and SR segment endpoint nodes.</t>
      <section anchor="pktSourceNode" numbered="true" toc="include" removeInRFC="false" pn="section-4.1">
        <name slugifiedName="name-sr-source-node-2">SR Source Node</name>
        <t pn="section-4.1-1">A source node steers a packet into an SR Policy. If the SR Policy
        results in a Segment List containing a single segment, and there is no
        need to add information to the SRH flag or add TLV; the DA is set
        to the single Segment List entry, and the SRH <bcp14>MAY</bcp14> be omitted.</t>
        <t pn="section-4.1-2">When needed, the SRH is created as follows:</t>
        <dl newline="false" spacing="normal" pn="section-4.1-3">
          <dt pn="section-4.1-3.1"/>
          <dd pn="section-4.1-3.2">The Next Header and Hdr Ext Len fields are set as specified in
            <xref target="RFC8200" format="default" sectionFormat="of" derivedContent="RFC8200"/>.</dd>
          <dt pn="section-4.1-3.3"/>
          <dd pn="section-4.1-3.4">The Routing Type field is set to 4.</dd>
          <dt pn="section-4.1-3.5"/>
          <dd pn="section-4.1-3.6">The DA of the packet is set with the value of the first
            segment.</dd>
          <dt pn="section-4.1-3.7"/>
          <dd pn="section-4.1-3.8">The first element of the SRH Segment List is the ultimate
            segment. The second element is the penultimate segment, and so
            on.</dd>
          <dt pn="section-4.1-3.9"/>
          <dd pn="section-4.1-3.10">The Segments Left field is set to n-1, where n is the number of
            elements in the SR Policy.</dd>
          <dt pn="section-4.1-3.11"/>
          <dd pn="section-4.1-3.12">The Last Entry field is set to n-1, where n is the number of
            elements in the SR Policy.</dd>
          <dt pn="section-4.1-3.13"/>
          <dd pn="section-4.1-3.14">TLVs (including HMAC) may be set according to their
            specification.</dd>
          <dt pn="section-4.1-3.15"/>
          <dd pn="section-4.1-3.16">The packet is forwarded toward the packet's Destination Address
            (the first segment).</dd>
        </dl>
        <section anchor="REDUCED" numbered="true" toc="include" removeInRFC="false" pn="section-4.1.1">
          <name slugifiedName="name-reduced-srh">Reduced SRH</name>
          <t pn="section-4.1.1-1">When a source does not require the entire SID list to be
          preserved in the SRH, a reduced SRH may be used.</t>
          <t pn="section-4.1.1-2">A reduced SRH does not contain the first segment of the related
          SR Policy (the first segment is the one already in the DA of the
          IPv6 header), and the Last Entry field is set to n-2, where n is the
          number of elements in the SR Policy.</t>
        </section>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-4.2">
        <name slugifiedName="name-transit-node-2">Transit Node</name>
        <t pn="section-4.2-1">As specified in <xref target="RFC8200" format="default" sectionFormat="of" derivedContent="RFC8200"/>, the only node allowed to
        inspect the Routing Extension Header (and therefore the SRH) is the
        node corresponding to the DA of the packet. Any other transit node
        <bcp14>MUST NOT</bcp14> inspect the underneath routing header and <bcp14>MUST</bcp14> forward the
        packet toward the DA according to its IPv6 routing table.</t>
        <t pn="section-4.2-2">When a SID is in the destination address of an IPv6 header of a
        packet, it's routed through an IPv6 network as an IPv6 address. SIDs,
        or the prefix(es) covering SIDs, and their reachability may be
        distributed by means outside the scope of this document. For example,
        <xref target="RFC5308" format="default" sectionFormat="of" derivedContent="RFC5308"/> or <xref target="RFC5340" format="default" sectionFormat="of" derivedContent="RFC5340"/> may be used to
        advertise a prefix covering the SIDs on a node.</t>
      </section>
      <section anchor="ENDSID" numbered="true" toc="include" removeInRFC="false" pn="section-4.3">
        <name slugifiedName="name-sr-segment-endpoint-node-2">SR Segment Endpoint Node</name>
        <t pn="section-4.3-1">Without constraining the details of an implementation, the SR
        segment endpoint node creates Forwarding Information Base (FIB)
        entries for its local SIDs.</t>
        <t pn="section-4.3-2">When an SRv6-capable node receives an IPv6 packet, it performs a
        longest-prefix-match lookup on the packet's destination address. This
        lookup can return any of the following:</t>
        <ul bare="false" empty="false" spacing="normal" pn="section-4.3-3">
          <li pn="section-4.3-3.1">A FIB entry that represents a locally instantiated SRv6 SID</li>
          <li pn="section-4.3-3.2">A FIB entry that represents a local interface, not locally
    instantiated as an SRv6 SID</li>
          <li pn="section-4.3-3.3">A FIB entry that represents a nonlocal route</li>
          <li pn="section-4.3-3.4">No Match</li>
        </ul>
        <section anchor="pktENDSID" numbered="true" toc="include" removeInRFC="false" pn="section-4.3.1">
          <name slugifiedName="name-fib-entry-is-a-locally-inst">FIB Entry Is a Locally Instantiated SRv6 SID</name>
          <t pn="section-4.3.1-1">This document and section define a single SRv6 SID. Future
          documents may define additional SRv6 SIDs. In such a case, the entire
          content of this section will be defined in that document.</t>
          <t pn="section-4.3.1-2">If the FIB entry represents a locally instantiated SRv6 SID,
          process the next header chain of the IPv6 header as defined in
          <xref target="RFC8200" sectionFormat="of" section="4" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8200#section-4" derivedContent="RFC8200"/>. <xref target="SRHPROC" format="default" sectionFormat="of" derivedContent="Section 4.3.1.1"/>
          describes how to process an SRH; <xref target="UPPERHEADER" format="default" sectionFormat="of" derivedContent="Section 4.3.1.2"/>
          describes how to process an upper-layer header or the absence of a Next
          Header.</t>
          <t pn="section-4.3.1-3">Processing this SID modifies the Segments Left and, if configured
          to process TLVs, it may modify the "variable-length data" of TLV
          types that change en route. Therefore, Segments Left is mutable, and
          TLVs that change en route are mutable. The remainder of the SRH
          (Flags, Tag, Segment List, and TLVs that do not change en route) are
          immutable while processing this SID.</t>
          <section anchor="SRHPROC" numbered="true" toc="exclude" removeInRFC="false" pn="section-4.3.1.1">
            <name slugifiedName="name-srh-processing">SRH Processing</name>
            <artwork name="" type="" align="left" alt="" pn="section-4.3.1.1-1">
S01. When an SRH is processed {
S02.   If Segments Left is equal to zero {
S03.     Proceed to process the next header in the packet, 
         whose type is identified by the Next Header field in
         the routing header.
S04.   }
S05.   Else {
S06.     If local configuration requires TLV processing {
S07.       Perform TLV processing (see TLV Processing)
S08.     }
S09.     max_last_entry  =  ( Hdr Ext Len /  2 ) - 1
S10.     If  ((Last Entry &gt; max_last_entry) or 
S11.          (Segments Left is greater than (Last Entry+1)) {
S12.       Send an ICMP Parameter Problem, Code 0, message to
           the Source Address, pointing to the Segments Left 
           field, and discard the packet.
S13.     }
S14.     Else {
S15.       Decrement Segments Left by 1.
S16.       Copy Segment List[Segments Left] from the SRH to the
           destination address of the IPv6 header.
S17.       If the IPv6 Hop Limit is less than or equal to 1 {
S18.         Send an ICMP Time Exceeded -- Hop Limit Exceeded in
             Transit message to the Source Address and discard
             the packet.
S19.       }
S20.       Else {
S21.         Decrement the Hop Limit by 1
S22.         Resubmit the packet to the IPv6 module for transmission
             to the new destination.
S23.       }
S24.     }
S25.   }
S26. }
</artwork>
            <section anchor="TLVPROCESS" numbered="true" toc="exclude" removeInRFC="false" pn="section-4.3.1.1.1">
              <name slugifiedName="name-tlv-processing">TLV Processing</name>
              <t pn="section-4.3.1.1.1-1">Local configuration determines how TLVs are to be processed
             when the Active Segment is a local SID defined in this document.
             The definition of local configuration is outside the scope of
             this document.</t>
              <t pn="section-4.3.1.1.1-2">For illustration purposes only, two example local
             configurations that may be associated with a SID are provided
             below.</t>
              <artwork name="" type="" align="left" alt="" pn="section-4.3.1.1.1-3">
Example 1:
For any packet received from interface I2
  Skip TLV processing

Example 2:
For any packet received from interface I1
  If first TLV is HMAC {
    Process the HMAC TLV
  }
  Else {
    Discard the packet
  }</artwork>
            </section>
          </section>
          <section anchor="UPPERHEADER" numbered="true" toc="exclude" removeInRFC="false" pn="section-4.3.1.2">
            <name slugifiedName="name-upper-layer-header-or-no-ne">Upper-Layer Header or No Next Header</name>
            <t pn="section-4.3.1.2-1">When processing the upper-layer header of a packet matching a
            FIB entry locally instantiated as an SRv6 SID defined in this
            document:</t>
            <artwork name="" type="" align="left" alt="" pn="section-4.3.1.2-2">
IF (Upper-layer Header is IPv4 or IPv6) and 
    local configuration permits {
  Perform IPv6 decapsulation 
  Resubmit the decapsulated packet to the IPv4 or IPv6 module
}
ELSE {   
  Send an ICMP parameter problem message to the Source Address and
  discard the packet.  Error code (4) "SR Upper-layer 
  Header Error", pointer set to the offset of the upper-layer 
  header.
}
</artwork>
            <t pn="section-4.3.1.2-3">A unique error code allows an SR source node to recognize an
            error in SID processing at an endpoint.</t>
          </section>
        </section>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-4.3.2">
          <name slugifiedName="name-fib-entry-is-a-local-interf">FIB Entry Is a Local Interface</name>
          <t pn="section-4.3.2-1">If the FIB entry represents a local interface and is not locally
          instantiated as an SRv6 SID, the SRH is processed as follows:</t>
          <ul empty="true" spacing="normal" bare="false" pn="section-4.3.2-2">
            <li pn="section-4.3.2-2.1">If Segments Left is zero, the node must ignore the routing
              header and proceed to process the next header in the packet,
              whose type is identified by the Next Header field in the routing
              header.</li>
            <li pn="section-4.3.2-2.2">If Segments Left is non-zero, the node must discard the
              packet and send an ICMP Parameter Problem, Code 0, message to
              the packet's Source Address, pointing to the unrecognized
              Routing Type.</li>
          </ul>
        </section>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-4.3.3">
          <name slugifiedName="name-fib-entry-is-a-nonlocal-rou">FIB Entry Is a Nonlocal Route</name>
          <t pn="section-4.3.3-1">Processing is not changed by this document.</t>
        </section>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-4.3.4">
          <name slugifiedName="name-fib-entry-is-a-no-match">FIB Entry Is a No Match</name>
          <t pn="section-4.3.4-1">Processing is not changed by this document.</t>
        </section>
      </section>
    </section>
    <section anchor="DEP" numbered="true" toc="include" removeInRFC="false" pn="section-5">
      <name slugifiedName="name-intra-sr-domain-deployment-">Intra-SR-Domain Deployment Model</name>
      <t pn="section-5-1">The use of the SIDs exclusively within the SR domain and solely for
      packets of the SR domain is an important deployment model.</t>
      <t pn="section-5-2">This enables the SR domain to act as a single routing system.</t>
      <t pn="section-5-3">This section covers:</t>
      <ul spacing="normal" bare="false" empty="false" pn="section-5-4">
        <li pn="section-5-4.1">securing the SR domain from external attempts to use its SIDs</li>
        <li pn="section-5-4.2">using the SR domain as a single system with delegation between
          components</li>
        <li pn="section-5-4.3">handling packets of the SR domain</li>
      </ul>
      <section anchor="SECSRDOMAIN" numbered="true" toc="include" removeInRFC="false" pn="section-5.1">
        <name slugifiedName="name-securing-the-sr-domain">Securing the SR Domain</name>
        <t pn="section-5.1-1">Nodes outside the SR domain are not trusted: they cannot directly
        use the SIDs of the domain. This is enforced by two levels of access
        control lists: </t>
        <ol spacing="normal" type="1" start="1" pn="section-5.1-2">
          <li pn="section-5.1-2.1" derivedCounter="1.">
            <t pn="section-5.1-2.1.1">Any packet entering the SR domain and destined to a SID within
            the SR domain is dropped. This may be realized with the following
            logic. Other methods with equivalent outcome are considered
            compliant: </t>
            <ul spacing="normal" bare="false" empty="false" pn="section-5.1-2.1.2">
              <li pn="section-5.1-2.1.2.1">Allocate all the SIDs from a block S/s</li>
              <li pn="section-5.1-2.1.2.2">Configure each external interface of each edge node of the
                domain with an inbound infrastructure access list (IACL) that
                drops any incoming packet with a destination address in
                S/s</li>
              <li pn="section-5.1-2.1.2.3">Failure to implement this method of ingress filtering
                exposes the SR domain to source-routing attacks, as described
                and referenced in <xref target="RFC5095" format="default" sectionFormat="of" derivedContent="RFC5095"/></li>
            </ul>
          </li>
          <li pn="section-5.1-2.2" derivedCounter="2.">
            <t pn="section-5.1-2.2.1">The distributed protection in #1 is complemented with per-node
            protection, dropping packets to SIDs from source addresses outside
            the SR domain. This may be realized with the following logic.
            Other methods with equivalent outcome are considered compliant:
            </t>
            <ul spacing="normal" bare="false" empty="false" pn="section-5.1-2.2.2">
              <li pn="section-5.1-2.2.2.1">Assign all interface addresses from prefix A/a</li>
              <li pn="section-5.1-2.2.2.2">At node k, all SIDs local to k are assigned from prefix
                Sk/sk</li>
              <li pn="section-5.1-2.2.2.3">Configure each internal interface of each SR node k in the
                SR domain with an inbound IACL that drops any incoming packet
                with a destination address in Sk/sk if the source address is
                not in A/a.</li>
            </ul>
          </li>
        </ol>
      </section>
      <section anchor="SINGLESYS" numbered="true" toc="include" removeInRFC="false" pn="section-5.2">
        <name slugifiedName="name-sr-domain-as-a-single-syste">SR Domain as a Single System with Delegation among Components</name>
        <t pn="section-5.2-1">All intra-SR-domain packets are of the SR domain. The IPv6 header
        is originated by a node of the SR domain and is destined to a node of
        the SR domain.</t>
        <t pn="section-5.2-2">All interdomain packets are encapsulated for the part of the
        packet journey that is within the SR domain. The outer IPv6 header is
        originated by a node of the SR domain and is destined to a node of
        the SR domain.</t>
        <t pn="section-5.2-3">As a consequence, any packet within the SR domain is of the SR
        domain.</t>
        <t pn="section-5.2-4">The SR domain is a system in which the operator may want to
        distribute or delegate different operations of the outermost header
        to different nodes within the system.</t>
        <t pn="section-5.2-5">An operator of an SR domain may choose to delegate SRH addition to
        a host node within the SR domain and delegate validation of the contents of
        any SRH to a more trusted router or switch attached to the host.
        Consider a top-of-rack switch T connected to host H via interface
        I. H receives an SRH (SRH1) with a computed HMAC via some SDN method
        outside the scope of this document. H classifies traffic it sources
        and adds SRH1 to traffic requiring a specific Service Level
	Agreement (SLA). T is configured
        with an IACL on I requiring verification of the SRH for any packet
        destined to the SID block of the SR domain (S/s). T checks and
        verifies that SRH1 is valid and contains an HMAC TLV; T then verifies the
        HMAC.</t>
        <t pn="section-5.2-6">An operator of the SR domain may choose to have all segments in the
        SR domain verify the HMAC. This mechanism would verify that the SRH
        Segment List is not modified while traversing the SR domain.</t>
      </section>
      <section anchor="MTU" numbered="true" toc="include" removeInRFC="false" pn="section-5.3">
        <name slugifiedName="name-mtu-considerations">MTU Considerations</name>
        <t pn="section-5.3-1">An SR domain ingress edge node encapsulates packets traversing the
        SR domain and needs to consider the MTU of the SR domain. Within the
        SR domain, well-known mitigation techniques are <bcp14>RECOMMENDED</bcp14>, such as
        deploying a greater MTU value within the SR domain than at the ingress
        edges.</t>
        <t pn="section-5.3-2">Encapsulation with an outer IPv6 header and SRH shares the same MTU
        and fragmentation considerations as IPv6 tunnels described in <xref target="RFC2473" format="default" sectionFormat="of" derivedContent="RFC2473"/>. Further investigation on the limitation of various
        tunneling methods (including IPv6 tunnels) is discussed in <xref target="I-D.ietf-intarea-tunnels" format="default" sectionFormat="of" derivedContent="INTAREA-TUNNELS"/> and
	<bcp14>SHOULD</bcp14> be considered by
        operators when considering MTU within the SR domain.</t>
      </section>
      <section anchor="ICMP" numbered="true" toc="include" removeInRFC="false" pn="section-5.4">
        <name slugifiedName="name-icmp-error-processing">ICMP Error Processing</name>
        <t pn="section-5.4-1">ICMP error packets generated within the SR domain are sent to
        source nodes within the SR domain. The invoking packet in the ICMP
        error message may contain an SRH. Since the destination address of a
        packet with an SRH changes as each segment is processed, it may not be
        the destination used by the socket or application that generated the
        invoking packet.</t>
        <t pn="section-5.4-2">For the source of an invoking packet to process the ICMP error
        message, the ultimate destination address of the IPv6 header may be
        required. The following logic is used to determine the destination
        address for use by protocol-error handlers.</t>
        <ul spacing="normal" bare="false" empty="false" pn="section-5.4-3">
          <li pn="section-5.4-3.1">
            <t pn="section-5.4-3.1.1">Walk all extension headers of the invoking IPv6 packet to the
            routing extension header preceding the upper-layer header.</t>
            <ul spacing="normal" bare="false" empty="false" pn="section-5.4-3.1.2">
              <li pn="section-5.4-3.1.2.1">
                <t pn="section-5.4-3.1.2.1.1">If routing header is type 4 Segment Routing Header (SRH)</t>
                <ul spacing="normal" bare="false" empty="false" pn="section-5.4-3.1.2.1.2">
                  <li pn="section-5.4-3.1.2.1.2.1">The SID at Segment List[0] may be used as the
                    destination address of the invoking packet.</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
        <t pn="section-5.4-4">ICMP errors are then processed by upper-layer transports as defined
        in <xref target="RFC4443" format="default" sectionFormat="of" derivedContent="RFC4443"/>.</t>
        <t pn="section-5.4-5">For IP packets encapsulated in an outer IPv6 header, ICMP error
        handling is as defined in <xref target="RFC2473" format="default" sectionFormat="of" derivedContent="RFC2473"/>.</t>
      </section>
      <section anchor="LBECMP" numbered="true" toc="include" removeInRFC="false" pn="section-5.5">
        <name slugifiedName="name-load-balancing-and-ecmp">Load Balancing and ECMP</name>
        <t pn="section-5.5-1">For any interdomain packet, the SR source node <bcp14>MUST</bcp14> impose a flow
        label computed based on the inner packet. The computation of the flow
        label is as recommended in <xref target="RFC6438" format="default" sectionFormat="of" derivedContent="RFC6438"/> for the sending
        Tunnel End Point.</t>
        <t pn="section-5.5-2">For any intradomain packet, the SR source node <bcp14>SHOULD</bcp14> impose a
        flow label computed as described in <xref target="RFC6437" format="default" sectionFormat="of" derivedContent="RFC6437"/> to assist
        ECMP load balancing at transit nodes incapable of computing a 5-tuple
        beyond the SRH.</t>
        <t pn="section-5.5-3">At any transit node within an SR domain, the flow label <bcp14>MUST</bcp14> be
        used as defined in <xref target="RFC6438" format="default" sectionFormat="of" derivedContent="RFC6438"/> to calculate the ECMP hash
        toward the destination address. If a flow label is not used, the transit
        node would likely hash all packets between a pair of SR Edge nodes to
        the same link.</t>
        <t pn="section-5.5-4">At an SR segment endpoint node, the flow label <bcp14>MUST</bcp14> be used as
        defined in <xref target="RFC6438" format="default" sectionFormat="of" derivedContent="RFC6438"/> to calculate any ECMP hash used to
        forward the processed packet to the next segment.</t>
      </section>
      <section anchor="other" numbered="true" toc="include" removeInRFC="false" pn="section-5.6">
        <name slugifiedName="name-other-deployments">Other Deployments</name>
        <t pn="section-5.6-1">Other deployment models and their implications on security, MTU,
        HMAC, ICMP error processing, and interaction with other extension
        headers are outside the scope of this document.</t>
      </section>
    </section>
    <section anchor="ILL" numbered="true" toc="include" removeInRFC="false" pn="section-6">
      <name slugifiedName="name-illustrations">Illustrations</name>
      <t pn="section-6-1">This section provides illustrations of SRv6 packet processing at SR
      source, transit, and SR segment endpoint nodes.</t>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-6.1">
        <name slugifiedName="name-abstract-representation-of-">Abstract Representation of an SRH</name>
        <t pn="section-6.1-1">For a node k, its IPv6 address is represented as Ak, and its SRv6 SID
        is represented as Sk.</t>
        <t pn="section-6.1-2">IPv6 headers are represented as the tuple of (source,destination).
        For example, a packet with source address A1 and destination address
        A2 is represented as (A1,A2). The payload of the packet is
        omitted.</t>
        <t pn="section-6.1-3">An SR Policy is a list of segments. A list of segments is
        represented as &lt;S1,S2,S3&gt; where S1 is the first SID to visit, S2
        is the second SID to visit, and S3 is the last SID to visit.</t>
        <t pn="section-6.1-4">(SA,DA) (S3,S2,S1; SL) represents an IPv6 packet with:</t>
        <ul spacing="normal" bare="false" empty="false" pn="section-6.1-5">
          <li pn="section-6.1-5.1">Source Address SA, Destination Addresses DA, and
            next header SRH.</li>
          <li pn="section-6.1-5.2">SRH with SID list &lt;S1,S2,S3&gt; with SegmentsLeft =
            SL.</li>
          <li pn="section-6.1-5.3">Note the difference between the &lt;&gt; and () symbols.
            &lt;S1,S2,S3&gt; represents a SID list where the leftmost
            segment is the first segment. In contrast, (S3,S2,S1; SL) represents
            the same SID list but encoded in the SRH Segment List format where
            the leftmost segment is the last segment. When referring to an SR
            Policy in a high-level use case, it is simpler to use the &lt;S1,S2,S3&gt; notation. When referring to an illustration of detailed
            behavior, the (S3,S2,S1; SL) notation is more convenient.</li>
        </ul>
        <t pn="section-6.1-6">At its SR Policy headend, the Segment List &lt;S1,S2,S3&gt; results
        in SRH (S3,S2,S1; SL=2) represented fully as: </t>
        <artwork name="" type="" align="left" alt="" pn="section-6.1-7">
    Segments Left=2
    Last Entry=2
    Flags=0
    Tag=0
    Segment List[0]=S3
    Segment List[1]=S2
    Segment List[2]=S1</artwork>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-6.2">
        <name slugifiedName="name-example-topology">Example Topology</name>
        <t pn="section-6.2-1">The following topology is used in examples below: </t>
        <figure anchor="TOPO1" align="left" suppress-title="false" pn="figure-1">
          <artwork name="" type="" align="left" alt="" pn="section-6.2-2.1">
        + * * * * * * * * * * * * * * * * * * * * +

        *         [8]                [9]          *
                   |                  |
        *          |                  |           *
[1]----[3]--------[5]----------------[6]---------[4]---[2]
        *          |                  |           *
                   |                  |
        *          |                  |           *
                   +--------[7]-------+
        *                                         *

        + * * * * * * *  SR domain  * * * * * * * +</artwork>
        </figure>
        <ul spacing="normal" bare="false" empty="false" pn="section-6.2-3">
          <li pn="section-6.2-3.1">3 and 4 are SR domain edge routers</li>
          <li pn="section-6.2-3.2">5, 6, and 7 are all SR domain routers</li>
          <li pn="section-6.2-3.3">8 and 9 are hosts within the SR domain</li>
          <li pn="section-6.2-3.4">1 and 2 are hosts outside the SR domain</li>
          <li pn="section-6.2-3.5">The SR domain implements ingress filtering as per <xref target="SECSRDOMAIN" format="default" sectionFormat="of" derivedContent="Section 5.1"/> and no external packet can
	  enter the domain
            with a destination address equal to a segment of the domain.</li>
        </ul>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-6.3">
        <name slugifiedName="name-sr-source-node-3">SR Source Node</name>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-6.3.1">
          <name slugifiedName="name-intra-sr-domain-packet">Intra-SR-Domain Packet</name>
          <t pn="section-6.3.1-1">When host 8 sends a packet to host 9 via an SR Policy
          &lt;S7,A9&gt; the packet is</t>
          <t pn="section-6.3.1-2">P1: (A8,S7)(A9,S7; SL=1)</t>
          <section numbered="true" toc="exclude" removeInRFC="false" pn="section-6.3.1.1">
            <name slugifiedName="name-reduced-variant">Reduced Variant</name>
            <t pn="section-6.3.1.1-1">When host 8 sends a packet to host 9 via an SR Policy
            &lt;S7,A9&gt; and it wants to use a reduced SRH, the packet is</t>
            <t pn="section-6.3.1.1-2">P2: (A8,S7)(A9; SL=1)</t>
          </section>
        </section>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-6.3.2">
          <name slugifiedName="name-inter-sr-domain-packet-tran">Inter-SR-Domain Packet -- Transit</name>
          <t pn="section-6.3.2-1">When host 1 sends a packet to host 2, the packet is</t>
          <t pn="section-6.3.2-2">P3: (A1,A2)</t>
          <t pn="section-6.3.2-3">The SR domain ingress router 3 receives P3 and steers it to SR
          domain egress router 4 via an SR Policy &lt;S7,S4&gt;. Router 3
          encapsulates the received packet P3 in an outer header with an SRH.
          The packet is</t>
          <t pn="section-6.3.2-4">P4: (A3,S7)(S4,S7; SL=1)(A1,A2)</t>
          <t pn="section-6.3.2-5">If the SR Policy contains only one segment (the egress router 4),
          the ingress router 3 encapsulates P3 into an outer header (A3,S4)
          without SRH. The packet is</t>
          <t pn="section-6.3.2-6">P5: (A3,S4)(A1,A2)</t>
          <section numbered="true" toc="exclude" removeInRFC="false" pn="section-6.3.2.1">
            <name slugifiedName="name-reduced-variant-2">Reduced Variant</name>
            <t pn="section-6.3.2.1-1">The SR domain ingress router 3 receives P3 and steers it to SR
            domain egress router 4 via an SR Policy &lt;S7,S4&gt;. If router
            3 wants to use a reduced SRH, it encapsulates the received
            packet P3 in an outer header with a reduced SRH. The packet is</t>
            <t pn="section-6.3.2.1-2">P6: (A3,S7)(S4; SL=1)(A1,A2)</t>
          </section>
        </section>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-6.3.3">
          <name slugifiedName="name-inter-sr-domain-packet-inte">Inter-SR-Domain Packet -- Internal to External</name>
          <t pn="section-6.3.3-1">When host 8 sends a packet to host 1, the packet is encapsulated
          for the portion of its journey within the SR domain. From 8 to 3 the
          packet is</t>
          <t pn="section-6.3.3-2">P7: (A8,S3)(A8,A1)</t>
          <t pn="section-6.3.3-3">In the opposite direction, the packet generated from 1 to 8
          is</t>
          <t pn="section-6.3.3-4">P8: (A1,A8)</t>
          <t pn="section-6.3.3-5">At node 3, P8 is encapsulated for the portion of its journey
          within the SR domain, with the outer header destined to segment S8.
          This results in</t>
          <t pn="section-6.3.3-6">P9: (A3,S8)(A1,A8)</t>
          <t pn="section-6.3.3-7">At node 8, the outer IPv6 header is removed by S8 processing, then
          processed again when received by A8.</t>
        </section>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-6.4">
        <name slugifiedName="name-transit-node-3">Transit Node</name>
        <t pn="section-6.4-1">Node 5 acts as transit node for packet P1 and sends packet</t>
        <t pn="section-6.4-2">P1: (A8,S7)(A9,S7;SL=1)</t>
        <t pn="section-6.4-3">on the interface toward node 7.</t>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-6.5">
        <name slugifiedName="name-sr-segment-endpoint-node-3">SR Segment Endpoint Node</name>
        <t pn="section-6.5-1">Node 7 receives packet P1 and, using the logic in <xref target="pktENDSID" format="default" sectionFormat="of" derivedContent="Section 4.3.1"/>, sends packet</t>
        <t pn="section-6.5-2">P7: (A8,A9)(A9,S7; SL=0)</t>
        <t pn="section-6.5-3">on the interface toward router 6.</t>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-6.6">
        <name slugifiedName="name-delegation-of-function-with">Delegation of Function with HMAC Verification</name>
        <t pn="section-6.6-1">This section describes how a function may be delegated within the
        SR domain. In the following sections, consider a host 8 connected to a
        top of rack 5.</t>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-6.6.1">
          <name slugifiedName="name-sid-list-verification">SID List Verification</name>
          <t pn="section-6.6.1-1">An operator may prefer to apply the SRH at source 8, while 5
          verifies that the SID list is valid.</t>
          <t pn="section-6.6.1-2">For illustration purposes, an SDN controller provides 8 an SRH
          terminating at node 9, with Segment List &lt;S5,S7,S6,A9&gt;, and
          HMAC TLV computed for the SRH. The HMAC key ID and key associated
          with the HMAC TLV is shared with 5. Node 8 does not know the key.
          Node 5 is configured with an IACL applied to the interface connected
          to 8, requiring HMAC verification for any packet destined to
          S/s.</t>
          <t pn="section-6.6.1-3">Node 8 originates packets with the received SRH, including HMAC
          TLV.</t>
          <t pn="section-6.6.1-4">P15: (A8,S5)(A9,S6,S7,S5;SL=3;HMAC)</t>
          <t pn="section-6.6.1-5">Node 5 receives and verifies the HMAC for the SRH, then forwards
          the packet to the next segment</t>
          <t pn="section-6.6.1-6">P16: (A8,S7)(A9,S6,S7,S5;SL=2;HMAC)</t>
          <t pn="section-6.6.1-7">Node 6 receives</t>
          <t pn="section-6.6.1-8">P17: (A8,S6)(A9,S6,S7,S5;SL=1;HMAC)</t>
          <t pn="section-6.6.1-9">Node 9 receives</t>
          <t pn="section-6.6.1-10">P18: (A8,A9)(A9,S6,S7,S5;SL=0;HMAC)</t>
          <t pn="section-6.6.1-11">This use of an HMAC is particularly valuable within an
	  enterprise-based SR domain <xref target="SRN" format="default" sectionFormat="of" derivedContent="SRN"/>.</t>
        </section>
      </section>
    </section>
    <section anchor="Security" numbered="true" toc="include" removeInRFC="false" pn="section-7">
      <name slugifiedName="name-security-considerations">Security Considerations</name>
      <t pn="section-7-1">This section reviews security considerations related to the SRH,
      given the SRH processing and deployment models discussed in this
      document.</t>
      <t pn="section-7-2">As described in <xref target="DEP" format="default" sectionFormat="of" derivedContent="Section 5"/>, it is necessary to filter
      packets' ingress to the SR domain, destined to SIDs within the SR domain
      (i.e., bearing a SID in the destination address). This ingress filtering
      is via an IACL at SR domain ingress border nodes. Additional protection
      is applied via an IACL at each SR Segment Endpoint node, filtering
      packets not from within the SR domain, destined to SIDs in the SR domain. ACLs are easily supported for small numbers of seldom changing prefixes, making
      summarization important.</t>
      <t pn="section-7-3">Additionally, ingress filtering of IPv6 source addresses as
      recommended in BCP 38 <xref target="RFC2827" format="default" sectionFormat="of" derivedContent="RFC2827"/> <bcp14>SHOULD</bcp14> be used.</t>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-7.1">
        <name slugifiedName="name-sr-attacks">SR Attacks</name>
        <t pn="section-7.1-1">An SR domain implements distributed and per-node protection as
        described in <xref target="SECSRDOMAIN" format="default" sectionFormat="of" derivedContent="Section 5.1"/>. Additionally, domains deny traffic with
        spoofed addresses by implementing the recommendations in BCP 84 <xref target="RFC3704" format="default" sectionFormat="of" derivedContent="RFC3704"/>.</t>
        <t pn="section-7.1-2">Full implementation of the recommended protection blocks the
        attacks documented in <xref target="RFC5095" format="default" sectionFormat="of" derivedContent="RFC5095"/> from outside the SR
        domain, including bypassing filtering devices, reaching
	otherwise-unreachable Internet systems, network topology discovery,
	bandwidth
        exhaustion, and defeating anycast.</t>
        <t pn="section-7.1-3">Failure to implement distributed and per-node protection allows
        attackers to bypass filtering devices and exposes the SR domain to
        these attacks.</t>
        <t pn="section-7.1-4">Compromised nodes within the SR domain may mount the attacks listed
        above along with other known attacks on IP networks (e.g., DoS/DDoS,
        topology discovery, man-in-the-middle, traffic
        interception/siphoning).</t>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-7.2">
        <name slugifiedName="name-service-theft">Service Theft</name>
        <t pn="section-7.2-1">Service theft is defined as the use of a service offered by the SR
        domain by a node not authorized to use the service.</t>
        <t pn="section-7.2-2">Service theft is not a concern within the SR domain, as all SR
        source nodes and SR segment endpoint nodes within the domain are able
        to utilize the services of the domain. If a node outside the SR domain
        learns of segments or a topological service within the SR domain, IACL
        filtering denies access to those segments.</t>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-7.3">
        <name slugifiedName="name-topology-disclosure">Topology Disclosure</name>
        <t pn="section-7.3-1">The SRH is unencrypted and may contain SIDs of some intermediate
        SR nodes in the path towards the destination within the SR domain. If
        packets can be snooped within the SR domain, the SRH may reveal
        topology, traffic flows, and service usage.</t>
        <t pn="section-7.3-2">This is applicable within an SR domain, but the disclosure is less
        relevant as an attacker has other means of learning topology, flows,
        and service usage.</t>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-7.4">
        <name slugifiedName="name-icmp-generation">ICMP Generation</name>
        <t pn="section-7.4-1">The generation of ICMPv6 error messages may be used to attempt
        denial-of-service attacks by sending an error-causing destination
        address or SRH in back-to-back packets. An implementation that
        correctly follows <xref target="RFC4443" sectionFormat="of" section="2.4" format="default" derivedLink="https://rfc-editor.org/rfc/rfc4443#section-2.4" derivedContent="RFC4443"/> would be
        protected by the ICMPv6 rate-limiting mechanism.</t>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-7.5">
        <name slugifiedName="name-applicability-of-ah">Applicability of AH</name>
        <t pn="section-7.5-1">The SR domain is a trusted domain, as defined in <xref target="RFC8402" format="default" sectionFormat="of" derivedContent="RFC8402"/>, Sections <xref target="RFC8402" section="2" sectionFormat="bare" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8402#section-2" derivedContent="RFC8402"/> and <xref target="RFC8402" section="8.2" sectionFormat="bare" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8402#section-8.2" derivedContent="RFC8402"/>. The SR	source is trusted
        to add an SRH (optionally verified as having been generated by a
        trusted source via the HMAC TLV in this document), and segments
        advertised within the domain are trusted to be accurate and advertised
        by trusted sources via a secure control plane. As such, the SR domain
        does not rely on the Authentication Header (AH) as defined in <xref target="RFC4302" format="default" sectionFormat="of" derivedContent="RFC4302"/> to secure the SRH.</t>
        <t pn="section-7.5-2">The use of SRH with AH by an SR source node and its processing at an SR
        segment endpoint node are not defined in this document. Future
        documents may define use of SRH with AH and its processing.</t>
      </section>
    </section>
    <section anchor="IANA" numbered="true" toc="include" removeInRFC="false" pn="section-8">
      <name slugifiedName="name-iana-considerations">IANA Considerations</name>
      <t pn="section-8-1">This document makes the following registrations in the "Internet
      Protocol Version 6 (IPv6) Parameters" "Routing Types" subregistry maintained
      by IANA:</t>
      <table anchor="SRH-REG" align="center" pn="table-1">
        <name slugifiedName="name-srh-registration">SRH Registration</name>
        <thead>
          <tr>
            <th align="left" colspan="1" rowspan="1">Value</th>
            <th align="left" colspan="1" rowspan="1">Description</th>
            <th align="left" colspan="1" rowspan="1">Reference</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="left" colspan="1" rowspan="1">4</td>
            <td align="left" colspan="1" rowspan="1">Segment Routing Header (SRH)</td>
            <td align="left" colspan="1" rowspan="1">This document</td>
          </tr>
        </tbody>
      </table>
      <t pn="section-8-3">This document makes the following registrations in the "Type 4 -
      Parameter Problem" message of the "Internet Control Message Protocol
      version 6 (ICMPv6) Parameters" registry maintained by IANA:</t>
      <table anchor="UPPER-LAYER" align="center" pn="table-2">
        <name slugifiedName="name-sr-upper-layer-header-error">SR Upper-layer Header Error Registration</name>
        <thead>
          <tr>
            <th align="left" colspan="1" rowspan="1">Code</th>
            <th align="left" colspan="1" rowspan="1">Name</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="left" colspan="1" rowspan="1">4</td>
            <td align="left" colspan="1" rowspan="1">SR Upper-layer Header Error</td>
          </tr>
        </tbody>
      </table>
      <section anchor="SRHFLAGSREG" numbered="true" toc="include" removeInRFC="false" pn="section-8.1">
        <name slugifiedName="name-segment-routing-header-flag">Segment Routing Header Flags Registry</name>
        <t pn="section-8.1-1">This document describes a new IANA-managed registry
        to identify SRH Flags Bits. The registration procedure is "IETF
        Review" <xref target="RFC8126" format="default" sectionFormat="of" derivedContent="RFC8126"/>. The registry name is "Segment Routing Header Flags".
        Flags are 8 bits.</t>
      </section>
      <section anchor="SRHTLVREG" numbered="true" toc="include" removeInRFC="false" pn="section-8.2">
        <name slugifiedName="name-segment-routing-header-tlvs">Segment Routing Header TLVs Registry</name>
        <t pn="section-8.2-1">This document describes a new IANA-managed registry
        to identify SRH TLVs. The registration procedure is "IETF Review".
        The registry name is "Segment Routing Header TLVs". A TLV is
        identified through an unsigned 8-bit codepoint value, with assigned
        values 0-127 for TLVs that do not change en route and 128-255 for
        TLVs that may change en route. The following codepoints are defined in
        this document: </t>
        <table anchor="TLV-REG" align="center" pn="table-3">
          <name slugifiedName="name-segment-routing-header-tlvs-">Segment Routing Header TLVs Registry</name>
          <thead>
            <tr>
              <th align="left" colspan="1" rowspan="1">Value</th>
              <th align="left" colspan="1" rowspan="1">Description</th>
              <th align="left" colspan="1" rowspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="left" colspan="1" rowspan="1">0</td>
              <td align="left" colspan="1" rowspan="1">Pad1 TLV</td>
              <td align="left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td align="left" colspan="1" rowspan="1">1</td>
              <td align="left" colspan="1" rowspan="1">Reserved</td>
              <td align="left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td align="left" colspan="1" rowspan="1">2</td>
              <td align="left" colspan="1" rowspan="1">Reserved</td>
              <td align="left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td align="left" colspan="1" rowspan="1">3</td>
              <td align="left" colspan="1" rowspan="1">Reserved</td>
              <td align="left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td align="left" colspan="1" rowspan="1">4</td>
              <td align="left" colspan="1" rowspan="1">PadN TLV</td>
              <td align="left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td align="left" colspan="1" rowspan="1">5</td>
              <td align="left" colspan="1" rowspan="1">HMAC TLV</td>
              <td align="left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td align="left" colspan="1" rowspan="1">6</td>
              <td align="left" colspan="1" rowspan="1">Reserved</td>
              <td align="left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td align="left" colspan="1" rowspan="1">124-126</td>
              <td align="left" colspan="1" rowspan="1">Experimentation and Test</td>
              <td align="left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td align="left" colspan="1" rowspan="1">127</td>
              <td align="left" colspan="1" rowspan="1">Reserved</td>
              <td align="left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td align="left" colspan="1" rowspan="1">252-254</td>
              <td align="left" colspan="1" rowspan="1">Experimentation and Test</td>
              <td align="left" colspan="1" rowspan="1">This document</td>
            </tr>
            <tr>
              <td align="left" colspan="1" rowspan="1">255</td>
              <td align="left" colspan="1" rowspan="1">Reserved</td>
              <td align="left" colspan="1" rowspan="1">This document</td>
            </tr>
          </tbody>
        </table>
        <t pn="section-8.2-3">Values 1, 2, 3, and 6 were defined in draft versions of this specification
        and are Reserved for backwards compatibility with early
        implementations and should not be reassigned. Values 127 and 255 are
        Reserved to allow for expansion of the Type field in future
        specifications, if needed.</t>
      </section>
    </section>
  </middle>
  <back>
    <displayreference target="I-D.ietf-intarea-tunnels" to="INTAREA-TUNNELS"/>
    <references pn="section-9">
      <name slugifiedName="name-references">References</name>
      <references pn="section-9.1">
        <name slugifiedName="name-normative-references">Normative References</name>
        <reference anchor="FIPS180-4" target="http://csrc.nist.gov/publications/fips/fips180-4/fips-180-4.pdf" quoteTitle="true" derivedAnchor="FIPS180-4">
          <front>
            <title>Secure Hash Standard (SHS)</title>
            <author>
              <organization showOnFrontPage="true">National Institute of Standards and Technology (NIST)</organization>
            </author>
            <date month="August" year="2015"/>
          </front>
          <refcontent>FIPS PUB 180-4</refcontent>
          <refcontent>DOI 10.6028/NIST.FIPS.180-4</refcontent>
        </reference>
        <reference anchor="IANA-SRHTLV" target="https://www.iana.org/assignments/ipv6-parameters/" quoteTitle="true" derivedAnchor="IANA-SRHTLV">
          <front>
            <title>Segment Routing Header TLVs</title>
            <author>
              <organization showOnFrontPage="true">IANA</organization>
            </author>
          </front>
        </reference>
        <reference anchor="RFC2104" target="https://www.rfc-editor.org/info/rfc2104" quoteTitle="true" derivedAnchor="RFC2104">
          <front>
            <title>HMAC: Keyed-Hashing for Message Authentication</title>
            <author initials="H." surname="Krawczyk" fullname="H. Krawczyk">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Bellare" fullname="M. Bellare">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Canetti" fullname="R. Canetti">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="1997" month="February"/>
            <abstract>
              <t>This document describes HMAC, a mechanism for message authentication using cryptographic hash functions. HMAC can be used with any iterative cryptographic hash function, e.g., MD5, SHA-1, in combination with a secret shared key.  The cryptographic strength of HMAC depends on the properties of the underlying hash function.  This memo provides information for the Internet community.  This memo does not specify an Internet standard of any kind</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="2104"/>
          <seriesInfo name="DOI" value="10.17487/RFC2104"/>
        </reference>
        <reference anchor="RFC2119" target="https://www.rfc-editor.org/info/rfc2119" quoteTitle="true" derivedAnchor="RFC2119">
          <front>
            <title>Key words for use in RFCs to Indicate Requirement Levels</title>
            <author initials="S." surname="Bradner" fullname="S. Bradner">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="1997" month="March"/>
            <abstract>
              <t>In many standards track documents several words are used to signify the requirements in the specification.  These words are often capitalized. This document defines these words as they should be interpreted in IETF documents.  This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="2119"/>
          <seriesInfo name="DOI" value="10.17487/RFC2119"/>
        </reference>
        <reference anchor="RFC2473" target="https://www.rfc-editor.org/info/rfc2473" quoteTitle="true" derivedAnchor="RFC2473">
          <front>
            <title>Generic Packet Tunneling in IPv6 Specification</title>
            <author initials="A." surname="Conta" fullname="A. Conta">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Deering" fullname="S. Deering">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="1998" month="December"/>
            <abstract>
              <t>This document defines the model and generic mechanisms for IPv6 encapsulation of Internet packets, such as IPv6 and IPv4.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="2473"/>
          <seriesInfo name="DOI" value="10.17487/RFC2473"/>
        </reference>
        <reference anchor="RFC2827" target="https://www.rfc-editor.org/info/rfc2827" quoteTitle="true" derivedAnchor="RFC2827">
          <front>
            <title>Network Ingress Filtering: Defeating Denial of Service Attacks which employ IP Source Address Spoofing</title>
            <author initials="P." surname="Ferguson" fullname="P. Ferguson">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="D." surname="Senie" fullname="D. Senie">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2000" month="May"/>
            <abstract>
              <t>This paper discusses a simple, effective, and straightforward method for using ingress traffic filtering to prohibit DoS (Denial of Service) attacks which use forged IP addresses to be propagated from 'behind' an Internet Service Provider's (ISP) aggregation point.  This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="38"/>
          <seriesInfo name="RFC" value="2827"/>
          <seriesInfo name="DOI" value="10.17487/RFC2827"/>
        </reference>
        <reference anchor="RFC3704" target="https://www.rfc-editor.org/info/rfc3704" quoteTitle="true" derivedAnchor="RFC3704">
          <front>
            <title>Ingress Filtering for Multihomed Networks</title>
            <author initials="F." surname="Baker" fullname="F. Baker">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="P." surname="Savola" fullname="P. Savola">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2004" month="March"/>
            <abstract>
              <t>BCP 38, RFC 2827, is designed to limit the impact of distributed denial of service attacks, by denying traffic with spoofed addresses access to the network, and to help ensure that traffic is traceable to its correct source network.  As a side effect of protecting the Internet against such attacks, the network implementing the solution also protects itself from this and other attacks, such as spoofed management access to networking equipment.  There are cases when this may create problems, e.g., with multihoming.  This document describes the current ingress filtering operational mechanisms, examines generic issues related to ingress filtering, and delves into the effects on multihoming in particular.  This memo updates RFC 2827.  This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="84"/>
          <seriesInfo name="RFC" value="3704"/>
          <seriesInfo name="DOI" value="10.17487/RFC3704"/>
        </reference>
        <reference anchor="RFC4107" target="https://www.rfc-editor.org/info/rfc4107" quoteTitle="true" derivedAnchor="RFC4107">
          <front>
            <title>Guidelines for Cryptographic Key Management</title>
            <author initials="S." surname="Bellovin" fullname="S. Bellovin">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Housley" fullname="R. Housley">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2005" month="June"/>
            <abstract>
              <t>The question often arises of whether a given security system requires some form of automated key management, or whether manual keying is sufficient.  This memo provides guidelines for making such decisions. When symmetric cryptographic mechanisms are used in a protocol, the presumption is that automated key management is generally but not always needed.  If manual keying is proposed, the burden of proving that automated key management is not required falls to the proposer.  This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="107"/>
          <seriesInfo name="RFC" value="4107"/>
          <seriesInfo name="DOI" value="10.17487/RFC4107"/>
        </reference>
        <reference anchor="RFC4302" target="https://www.rfc-editor.org/info/rfc4302" quoteTitle="true" derivedAnchor="RFC4302">
          <front>
            <title>IP Authentication Header</title>
            <author initials="S." surname="Kent" fullname="S. Kent">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2005" month="December"/>
            <abstract>
              <t>This document describes an updated version of the IP Authentication Header (AH), which is designed to provide authentication services in IPv4 and IPv6.  This document obsoletes RFC 2402 (November 1998).  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="4302"/>
          <seriesInfo name="DOI" value="10.17487/RFC4302"/>
        </reference>
        <reference anchor="RFC5095" target="https://www.rfc-editor.org/info/rfc5095" quoteTitle="true" derivedAnchor="RFC5095">
          <front>
            <title>Deprecation of Type 0 Routing Headers in IPv6</title>
            <author initials="J." surname="Abley" fullname="J. Abley">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="P." surname="Savola" fullname="P. Savola">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="G." surname="Neville-Neil" fullname="G. Neville-Neil">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2007" month="December"/>
            <abstract>
              <t>The functionality provided by IPv6's Type 0 Routing Header can be exploited in order to achieve traffic amplification over a remote path for the purposes of generating denial-of-service traffic.  This document updates the IPv6 specification to deprecate the use of IPv6 Type 0 Routing Headers, in light of this security concern.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5095"/>
          <seriesInfo name="DOI" value="10.17487/RFC5095"/>
        </reference>
        <reference anchor="RFC6407" target="https://www.rfc-editor.org/info/rfc6407" quoteTitle="true" derivedAnchor="RFC6407">
          <front>
            <title>The Group Domain of Interpretation</title>
            <author initials="B." surname="Weis" fullname="B. Weis">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Rowles" fullname="S. Rowles">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="T." surname="Hardjono" fullname="T. Hardjono">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2011" month="October"/>
            <abstract>
              <t>This document describes the Group Domain of Interpretation (GDOI) protocol specified in RFC 3547.  The GDOI provides group key management to support secure group communications according to the architecture specified in RFC 4046.  The GDOI manages group security associations, which are used by IPsec and potentially other data security protocols.  This document replaces RFC 3547.   [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="6407"/>
          <seriesInfo name="DOI" value="10.17487/RFC6407"/>
        </reference>
        <reference anchor="RFC6437" target="https://www.rfc-editor.org/info/rfc6437" quoteTitle="true" derivedAnchor="RFC6437">
          <front>
            <title>IPv6 Flow Label Specification</title>
            <author initials="S." surname="Amante" fullname="S. Amante">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B." surname="Carpenter" fullname="B. Carpenter">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Jiang" fullname="S. Jiang">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="J." surname="Rajahalme" fullname="J. Rajahalme">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2011" month="November"/>
            <abstract>
              <t>This document specifies the IPv6 Flow Label field and the minimum requirements for IPv6 nodes labeling flows, IPv6 nodes forwarding labeled packets, and flow state establishment methods.  Even when mentioned as examples of possible uses of the flow labeling, more detailed requirements for specific use cases are out of the scope for this document.</t>
              <t>The usage of the Flow Label field enables efficient IPv6 flow classification based only on IPv6 main header fields in fixed positions.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="6437"/>
          <seriesInfo name="DOI" value="10.17487/RFC6437"/>
        </reference>
        <reference anchor="RFC6438" target="https://www.rfc-editor.org/info/rfc6438" quoteTitle="true" derivedAnchor="RFC6438">
          <front>
            <title>Using the IPv6 Flow Label for Equal Cost Multipath Routing and Link Aggregation in Tunnels</title>
            <author initials="B." surname="Carpenter" fullname="B. Carpenter">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Amante" fullname="S. Amante">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2011" month="November"/>
            <abstract>
              <t>The IPv6 flow label has certain restrictions on its use.  This document describes how those restrictions apply when using the flow label for load balancing by equal cost multipath routing and for link aggregation, particularly for IP-in-IPv6 tunneled traffic.   [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="6438"/>
          <seriesInfo name="DOI" value="10.17487/RFC6438"/>
        </reference>
        <reference anchor="RFC8174" target="https://www.rfc-editor.org/info/rfc8174" quoteTitle="true" derivedAnchor="RFC8174">
          <front>
            <title>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</title>
            <author initials="B." surname="Leiba" fullname="B. Leiba">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2017" month="May"/>
            <abstract>
              <t>RFC 2119 specifies common key words that may be used in protocol  specifications.  This document aims to reduce the ambiguity by clarifying that only UPPERCASE usage of the key words have the  defined special meanings.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="8174"/>
          <seriesInfo name="DOI" value="10.17487/RFC8174"/>
        </reference>
        <reference anchor="RFC8200" target="https://www.rfc-editor.org/info/rfc8200" quoteTitle="true" derivedAnchor="RFC8200">
          <front>
            <title>Internet Protocol, Version 6 (IPv6) Specification</title>
            <author initials="S." surname="Deering" fullname="S. Deering">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Hinden" fullname="R. Hinden">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2017" month="July"/>
            <abstract>
              <t>This document specifies version 6 of the Internet Protocol (IPv6). It obsoletes RFC 2460.</t>
            </abstract>
          </front>
          <seriesInfo name="STD" value="86"/>
          <seriesInfo name="RFC" value="8200"/>
          <seriesInfo name="DOI" value="10.17487/RFC8200"/>
        </reference>
        <reference anchor="RFC8402" target="https://www.rfc-editor.org/info/rfc8402" quoteTitle="true" derivedAnchor="RFC8402">
          <front>
            <title>Segment Routing Architecture</title>
            <author initials="C." surname="Filsfils" fullname="C. Filsfils" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Previdi" fullname="S. Previdi" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="L." surname="Ginsberg" fullname="L. Ginsberg">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B." surname="Decraene" fullname="B. Decraene">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Litkowski" fullname="S. Litkowski">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Shakir" fullname="R. Shakir">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2018" month="July"/>
            <abstract>
              <t>Segment Routing (SR) leverages the source routing paradigm.  A node steers a packet through an ordered list of instructions, called "segments".  A segment can represent any instruction, topological or service based.  A segment can have a semantic local to an SR node or global within an SR domain.  SR provides a mechanism that allows a flow to be restricted to a specific topological path, while maintaining per-flow state only at the ingress node(s) to the SR domain.</t>
              <t>SR can be directly applied to the MPLS architecture with no change to the forwarding plane.  A segment is encoded as an MPLS label.  An ordered list of segments is encoded as a stack of labels.  The segment to process is on the top of the stack.  Upon completion of a segment, the related label is popped from the stack.</t>
              <t>SR can be applied to the IPv6 architecture, with a new type of routing header.  A segment is encoded as an IPv6 address.  An ordered list of segments is encoded as an ordered list of IPv6 addresses in the routing header.  The active segment is indicated by the Destination Address (DA) of the packet.  The next active segment is indicated by a pointer in the new routing header.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8402"/>
          <seriesInfo name="DOI" value="10.17487/RFC8402"/>
        </reference>
      </references>
      <references pn="section-9.2">
        <name slugifiedName="name-informative-references">Informative References</name>
        <reference anchor="I-D.ietf-intarea-tunnels" quoteTitle="true" target="https://tools.ietf.org/html/draft-ietf-intarea-tunnels-10" derivedAnchor="INTAREA-TUNNELS">
          <front>
            <title>IP Tunnels in the Internet Architecture</title>
            <author initials="J" surname="Touch" fullname="Joseph Touch">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M" surname="Townsley" fullname="Mark Townsley">
              <organization showOnFrontPage="true"/>
            </author>
            <date month="September" day="12" year="2019"/>
            <abstract>
              <t>This document discusses the role of IP tunnels in the Internet architecture. An IP tunnel transits IP datagrams as payloads in non- link layer protocols. This document explains the relationship of IP tunnels to existing protocol layers and the challenges in supporting IP tunneling, based on the equivalence of tunnels to links. The implications of this document are used to derive recommendations that update MTU and fragment issues in RFC 4459.</t>
            </abstract>
          </front>
          <seriesInfo name="Internet-Draft" value="draft-ietf-intarea-tunnels-10"/>
          <format type="TXT" target="http://www.ietf.org/internet-drafts/draft-ietf-intarea-tunnels-10.txt"/>
          <refcontent>Work in Progress</refcontent>
        </reference>
        <reference anchor="RFC4443" target="https://www.rfc-editor.org/info/rfc4443" quoteTitle="true" derivedAnchor="RFC4443">
          <front>
            <title>Internet Control Message Protocol (ICMPv6) for the Internet Protocol Version 6 (IPv6) Specification</title>
            <author initials="A." surname="Conta" fullname="A. Conta">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Deering" fullname="S. Deering">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Gupta" fullname="M. Gupta" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2006" month="March"/>
            <abstract>
              <t>This document describes the format of a set of control messages used in ICMPv6 (Internet Control Message Protocol).  ICMPv6 is the Internet Control Message Protocol for Internet Protocol version 6 (IPv6).  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="STD" value="89"/>
          <seriesInfo name="RFC" value="4443"/>
          <seriesInfo name="DOI" value="10.17487/RFC4443"/>
        </reference>
        <reference anchor="RFC5308" target="https://www.rfc-editor.org/info/rfc5308" quoteTitle="true" derivedAnchor="RFC5308">
          <front>
            <title>Routing IPv6 with IS-IS</title>
            <author initials="C." surname="Hopps" fullname="C. Hopps">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2008" month="October"/>
            <abstract>
              <t>This document specifies a method for exchanging IPv6 routing information using the IS-IS routing protocol.  The described method utilizes two new TLVs: a reachability TLV and an interface address TLV to distribute the necessary IPv6 information throughout a routing domain.  Using this method, one can route IPv6 along with IPv4 and OSI using a single intra-domain routing protocol.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5308"/>
          <seriesInfo name="DOI" value="10.17487/RFC5308"/>
        </reference>
        <reference anchor="RFC5340" target="https://www.rfc-editor.org/info/rfc5340" quoteTitle="true" derivedAnchor="RFC5340">
          <front>
            <title>OSPF for IPv6</title>
            <author initials="R." surname="Coltun" fullname="R. Coltun">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="D." surname="Ferguson" fullname="D. Ferguson">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="J." surname="Moy" fullname="J. Moy">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="A." surname="Lindem" fullname="A. Lindem">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2008" month="July"/>
            <abstract>
              <t>This document describes the modifications to OSPF to support version 6 of the Internet Protocol (IPv6).  The fundamental mechanisms of OSPF (flooding, Designated Router (DR) election, area support, Short Path First (SPF) calculations, etc.) remain unchanged.  However, some changes have been necessary, either due to changes in protocol semantics between IPv4 and IPv6, or simply to handle the increased address size of IPv6.  These modifications will necessitate incrementing the protocol version from version 2 to version 3.  OSPF for IPv6 is also referred to as OSPF version 3 (OSPFv3).</t>
              <t>Changes between OSPF for IPv4, OSPF Version 2, and OSPF for IPv6 as described herein include the following.  Addressing semantics have been removed from OSPF packets and the basic Link State Advertisements (LSAs).  New LSAs have been created to carry IPv6 addresses and prefixes.  OSPF now runs on a per-link basis rather than on a per-IP-subnet basis.  Flooding scope for LSAs has been generalized.  Authentication has been removed from the OSPF protocol and instead relies on IPv6's Authentication Header and Encapsulating Security Payload (ESP).</t>
              <t>Even with larger IPv6 addresses, most packets in OSPF for IPv6 are almost as compact as those in OSPF for IPv4.  Most fields and packet- size limitations present in OSPF for IPv4 have been relaxed.  In addition, option handling has been made more flexible.</t>
              <t>All of OSPF for IPv4's optional capabilities, including demand circuit support and Not-So-Stubby Areas (NSSAs), are also supported in OSPF for IPv6.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5340"/>
          <seriesInfo name="DOI" value="10.17487/RFC5340"/>
        </reference>
        <reference anchor="RFC8126" target="https://www.rfc-editor.org/info/rfc8126" quoteTitle="true" derivedAnchor="RFC8126">
          <front>
            <title>Guidelines for Writing an IANA Considerations Section in RFCs</title>
            <author initials="M." surname="Cotton" fullname="M. Cotton">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B." surname="Leiba" fullname="B. Leiba">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="T." surname="Narten" fullname="T. Narten">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2017" month="June"/>
            <abstract>
              <t>Many protocols make use of points of extensibility that use constants to identify various protocol parameters.  To ensure that the values in these fields do not have conflicting uses and to promote interoperability, their allocations are often coordinated by a central record keeper.  For IETF protocols, that role is filled by the Internet Assigned Numbers Authority (IANA).</t>
              <t>To make assignments in a given registry prudently, guidance describing the conditions under which new values should be assigned, as well as when and how modifications to existing values can be made, is needed.  This document defines a framework for the documentation of these guidelines by specification authors, in order to assure that the provided guidance for the IANA Considerations is clear and addresses the various issues that are likely in the operation of a registry.</t>
              <t>This is the third edition of this document; it obsoletes RFC 5226.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="26"/>
          <seriesInfo name="RFC" value="8126"/>
          <seriesInfo name="DOI" value="10.17487/RFC8126"/>
        </reference>
        <reference anchor="SRN" target="https://inl.info.ucl.ac.be/system/files/sosr18-final15-embedfonts.pdf" quoteTitle="true" derivedAnchor="SRN">
          <front>
            <title>Software Resolved Networks: Rethinking Enterprise Networks with IPv6 Segment Routing</title>
            <author fullname="David Lebrun"/>
            <author fullname="Mathieu Jadin"/>
            <author fullname="Francois Clad"/>
            <author fullname="Clarence Filsfils"/>
            <author fullname="Olivier Bonaventure"/>
            <date year="2018"/>
          </front>
        </reference>
      </references>
    </references>
    <section anchor="Acknowledgements" numbered="false" toc="include" removeInRFC="false" pn="section-appendix.a">
      <name slugifiedName="name-acknowledgements">Acknowledgements</name>
      <t pn="section-appendix.a-1">The authors would like to thank <contact fullname="Ole Troan"/>, <contact fullname="Bob Hinden"/>, <contact fullname="Ron Bonica"/>,
      <contact fullname="Fred Baker"/>, <contact fullname="Brian Carpenter"/>, <contact fullname="Alexandru Petrescu"/>, <contact fullname="Punit Kumar Jaiswal"/>,
      <contact fullname="David Lebrun"/>, <contact fullname="Benjamin Kaduk"/>, <contact fullname="Frank Xialiang"/>, <contact fullname="Mirja Kühlewind"/>, <contact fullname="Roman       Danyliw"/>, <contact fullname="Joe Touch"/>, and <contact fullname="Magnus Westerlund"/> for their comments to this
      document.</t>
    </section>
    <section anchor="Contributors" numbered="false" toc="include" removeInRFC="false" pn="section-appendix.b">
      <name slugifiedName="name-contributors">Contributors</name>
      <t pn="section-appendix.b-1"><contact fullname="Kamran Raza"/>, <contact fullname="Zafar Ali"/>, <contact fullname="Brian Field"/>, <contact fullname="Daniel Bernier"/>, <contact fullname="Ida Leung"/>, <contact fullname="Jen       Linkova"/>, <contact fullname="Ebben Aries"/>, <contact fullname="Tomoya Kosugi"/>, <contact fullname="Éric Vyncke"/>, <contact fullname="David Lebrun"/>, <contact fullname="Dirk       Steinberg"/>, <contact fullname="Robert Raszuk"/>, <contact fullname="Dave Barach"/>, <contact fullname="John Brzozowski"/>, <contact fullname="Pierre Francois"/>,
      <contact fullname="Nagendra Kumar"/>, <contact fullname="Mark Townsley"/>, <contact fullname="Christian Martin"/>, <contact fullname="Roberta Maglione"/>, <contact fullname="James       Connolly"/>, and <contact fullname="Aloys Augustin"/> contributed to the content of this
      document.</t>
    </section>
    <section anchor="authors-addresses" numbered="false" removeInRFC="false" toc="include" pn="section-appendix.c">
      <name slugifiedName="name-authors-addresses">Authors' Addresses</name>
      <author fullname="Clarence Filsfils" initials="C." role="editor" surname="Filsfils">
        <organization showOnFrontPage="true">Cisco Systems, Inc.</organization>
        <address>
          <postal>
            <street/>
            <city>Brussels</city>
            <region/>
            <code/>
            <country>Belgium</country>
          </postal>
          <email>cfilsfil@cisco.com</email>
        </address>
      </author>
      <author fullname="Darren Dukes" initials="D." role="editor" surname="Dukes">
        <organization showOnFrontPage="true">Cisco Systems, Inc.</organization>
        <address>
          <postal>
            <street/>
            <city>Ottawa</city>
            <region/>
            <code/>
            <country>Canada</country>
          </postal>
          <email>ddukes@cisco.com</email>
        </address>
      </author>
      <author fullname="Stefano Previdi" initials="S." surname="Previdi">
        <organization showOnFrontPage="true">Huawei</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <code/>
            <country>Italy</country>
          </postal>
          <email>stefano@previdi.net</email>
        </address>
      </author>
      <author fullname="John Leddy" initials="J." surname="Leddy">
        <organization showOnFrontPage="true">Individual</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <region/>
            <code/>
            <country>United States of America</country>
          </postal>
          <email>john@leddy.net</email>
        </address>
      </author>
      <author fullname="Satoru Matsushima" initials="S." surname="Matsushima">
        <organization showOnFrontPage="true">SoftBank</organization>
        <address>
          <email>satoru.matsushima@g.softbank.co.jp</email>
        </address>
      </author>
      <author fullname="Daniel Voyer" initials="D." surname="Voyer">
        <organization showOnFrontPage="true">Bell Canada</organization>
        <address>
          <email>daniel.voyer@bell.ca</email>
        </address>
      </author>
    </section>
  </back>
</rfc>
