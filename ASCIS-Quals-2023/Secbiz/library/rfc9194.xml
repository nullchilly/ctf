<?xml version='1.0' encoding='utf-8'?>
<rfc xmlns:xi="http://www.w3.org/2001/XInclude" version="3" category="std" consensus="true" docName="draft-ietf-lsr-yang-isis-reverse-metric-06" indexInclude="true" ipr="trust200902" number="9194" prepTime="2022-10-19T16:18:13" scripts="Common,Latin" sortRefs="true" submissionType="IETF" symRefs="true" tocDepth="3" tocInclude="true" xml:lang="en">
  <link href="https://datatracker.ietf.org/doc/draft-ietf-lsr-yang-isis-reverse-metric-06" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc9194" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <front>
    <title abbrev="YANG Module for IS-IS Reverse Metric">A YANG Module for IS-IS Reverse Metric</title>
    <seriesInfo name="RFC" value="9194" stream="IETF"/>
    <author initials="C." surname="Hopps" fullname="Christian Hopps">
      <organization showOnFrontPage="true">LabN Consulting, L.L.C.</organization>
      <address>
        <email>chopps@chopps.org</email>
      </address>
    </author>
    <date month="10" year="2022"/>
    <area>rtg</area>
    <workgroup>lsr</workgroup>
    <abstract pn="section-abstract">
      <t indent="0" pn="section-abstract-1">This document defines a YANG module for managing the reverse metric
extension to the Intermediate System to Intermediate System (IS-IS) 
intra-domain routing information exchange protocol.
</t>
    </abstract>
    <boilerplate>
      <section anchor="status-of-memo" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.1">
        <name slugifiedName="name-status-of-this-memo">Status of This Memo</name>
        <t indent="0" pn="section-boilerplate.1-1">
            This is an Internet Standards Track document.
        </t>
        <t indent="0" pn="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.
        </t>
        <t indent="0" pn="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <eref target="https://www.rfc-editor.org/info/rfc9194" brackets="none"/>.
        </t>
      </section>
      <section anchor="copyright" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.2">
        <name slugifiedName="name-copyright-notice">Copyright Notice</name>
        <t indent="0" pn="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.
        </t>
        <t indent="0" pn="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<eref target="https://trustee.ietf.org/license-info" brackets="none"/>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.
        </t>
      </section>
    </boilerplate>
    <toc>
      <section anchor="toc" numbered="false" removeInRFC="false" toc="exclude" pn="section-toc.1">
        <name slugifiedName="name-table-of-contents">Table of Contents</name>
        <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1">
          <li pn="section-toc.1-1.1">
            <t indent="0" keepWithNext="true" pn="section-toc.1-1.1.1"><xref derivedContent="1" format="counter" sectionFormat="of" target="section-1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-introduction">Introduction</xref></t>
          </li>
          <li pn="section-toc.1-1.2">
            <t indent="0" pn="section-toc.1-1.2.1"><xref derivedContent="2" format="counter" sectionFormat="of" target="section-2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-yang-management">YANG Management</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.2.2">
              <li pn="section-toc.1-1.2.2.1">
                <t indent="0" keepWithNext="true" pn="section-toc.1-1.2.2.1.1"><xref derivedContent="2.1" format="counter" sectionFormat="of" target="section-2.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-yang-tree">YANG Tree</xref></t>
              </li>
              <li pn="section-toc.1-1.2.2.2">
                <t indent="0" keepWithNext="true" pn="section-toc.1-1.2.2.2.1"><xref derivedContent="2.2" format="counter" sectionFormat="of" target="section-2.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-yang-module">YANG Module</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.3">
            <t indent="0" pn="section-toc.1-1.3.1"><xref derivedContent="3" format="counter" sectionFormat="of" target="section-3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-iana-considerations">IANA Considerations</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.3.2">
              <li pn="section-toc.1-1.3.2.1">
                <t indent="0" pn="section-toc.1-1.3.2.1.1"><xref derivedContent="3.1" format="counter" sectionFormat="of" target="section-3.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-updates-to-the-ietf-xml-reg">Updates to the IETF XML Registry</xref></t>
              </li>
              <li pn="section-toc.1-1.3.2.2">
                <t indent="0" pn="section-toc.1-1.3.2.2.1"><xref derivedContent="3.2" format="counter" sectionFormat="of" target="section-3.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-updates-to-the-yang-module-">Updates to the YANG Module Names Registry</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.4">
            <t indent="0" pn="section-toc.1-1.4.1"><xref derivedContent="4" format="counter" sectionFormat="of" target="section-4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-security-considerations">Security Considerations</xref></t>
          </li>
          <li pn="section-toc.1-1.5">
            <t indent="0" pn="section-toc.1-1.5.1"><xref derivedContent="5" format="counter" sectionFormat="of" target="section-5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-normative-references">Normative References</xref></t>
          </li>
          <li pn="section-toc.1-1.6">
            <t indent="0" pn="section-toc.1-1.6.1"><xref derivedContent="6" format="counter" sectionFormat="of" target="section-6"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-informative-references">Informative References</xref></t>
          </li>
          <li pn="section-toc.1-1.7">
            <t indent="0" pn="section-toc.1-1.7.1"><xref derivedContent="Appendix A" format="default" sectionFormat="of" target="section-appendix.a"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-examples">Examples</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.7.2">
              <li pn="section-toc.1-1.7.2.1">
                <t indent="0" pn="section-toc.1-1.7.2.1.1"><xref derivedContent="A.1" format="counter" sectionFormat="of" target="section-appendix.a.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-enablement-example-using-xm">Enablement Example Using XML YANG Instance Data</xref></t>
              </li>
              <li pn="section-toc.1-1.7.2.2">
                <t indent="0" pn="section-toc.1-1.7.2.2.1"><xref derivedContent="A.2" format="counter" sectionFormat="of" target="section-appendix.a.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-usage-example-using-xml-yan">Usage Example Using XML YANG Instance Data</xref></t>
              </li>
              <li pn="section-toc.1-1.7.2.3">
                <t indent="0" pn="section-toc.1-1.7.2.3.1"><xref derivedContent="A.3" format="counter" sectionFormat="of" target="section-appendix.a.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-usage-example-using-json-ya">Usage Example Using JSON YANG Instance Data</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.8">
            <t indent="0" pn="section-toc.1-1.8.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.b"/><xref derivedContent="" format="title" sectionFormat="of" target="name-authors-address">Author's Address</xref></t>
          </li>
        </ul>
      </section>
    </toc>
  </front>
  <middle>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-1">
      <name slugifiedName="name-introduction">Introduction</name>
      <t indent="0" pn="section-1-1">This document defines a YANG module for managing the reverse metric
extension to IS-IS <xref target="RFC8500" format="default" sectionFormat="of" derivedContent="RFC8500"/> <xref target="ISO-10589" format="default" sectionFormat="of" derivedContent="ISO-10589"/>. Please refer to <xref target="RFC8500" format="default" sectionFormat="of" derivedContent="RFC8500"/> for the
description and definition of the functionality managed by this
module.</t>
      <t indent="0" pn="section-1-2">The YANG data model described in this document conforms to the
Network Management Datastore Architecture defined in <xref target="RFC8342" format="default" sectionFormat="of" derivedContent="RFC8342"/>.</t>
    </section>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-2">
      <name slugifiedName="name-yang-management">YANG Management</name>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-2.1">
        <name slugifiedName="name-yang-tree">YANG Tree</name>
        <t indent="0" pn="section-2.1-1">The following is the YANG tree diagram <xref target="RFC8340" format="default" sectionFormat="of" derivedContent="RFC8340"/> for the IS-IS
reverse metric extension additions.</t>
        <sourcecode name="" type="yangtree" markers="false" pn="section-2.1-2">
module: ietf-isis-reverse-metric
  augment /rt:routing/rt:control-plane-protocols
            /rt:control-plane-protocol/isis:isis:
    +--rw reverse-metric
       +--rw enable-receive?   boolean
  augment /rt:routing/rt:control-plane-protocols
            /rt:control-plane-protocol/isis:isis/isis:interfaces
            /isis:interface:
    +--rw reverse-metric
       +--rw metric?              isis:wide-metric
       +--rw flags
       |  +--rw whole-lan?           boolean
       |  +--rw allow-unreachable?   boolean
       +--rw exclude-te-metric?   boolean
       +--rw level-1
       |  +--rw metric?              isis:wide-metric
       |  +--rw flags
       |  |  +--rw whole-lan?           boolean
       |  |  +--rw allow-unreachable?   boolean
       |  +--rw exclude-te-metric?   boolean
       +--rw level-2
          +--rw metric?              isis:wide-metric
          +--rw flags
          |  +--rw whole-lan?           boolean
          |  +--rw allow-unreachable?   boolean
          +--rw exclude-te-metric?   boolean
  augment /rt:routing/rt:control-plane-protocols
            /rt:control-plane-protocol/isis:isis/isis:interfaces
            /isis:interface/isis:adjacencies/isis:adjacency:
    +--ro reverse-metric
       +--ro metric?      isis:wide-metric
       +--ro flags
       |  +--ro whole-lan?           boolean
       |  +--ro allow-unreachable?   boolean
       +--ro te-metric?   uint32
</sourcecode>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-2.2">
        <name slugifiedName="name-yang-module">YANG Module</name>
        <t indent="0" pn="section-2.2-1">The following is the YANG module for managing the IS-IS reverse
metric functionality defined in <xref target="RFC8500" format="default" sectionFormat="of" derivedContent="RFC8500"/>. It imports modules from  <xref target="RFC8349" format="default" sectionFormat="of" derivedContent="RFC8349"/> and <xref target="RFC9130" format="default" sectionFormat="of" derivedContent="RFC9130"/>.</t>
        <t indent="0" pn="section-2.2-2">This YANG module uses the same per-level hierarchical configuration
structure as that defined in the augmented base module.</t>
        <sourcecode name="ietf-isis-reverse-metric@2022-10-19.yang" type="yang" markers="true" pn="section-2.2-3">
module ietf-isis-reverse-metric {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:ietf-isis-reverse-metric";
  prefix isis-rmetric;

  import ietf-routing {
    prefix rt;
    reference
      "RFC 8349: A YANG Data Model for Routing Management
                 (NMDA Version)";
  }
  import ietf-isis {
    prefix isis;
    reference
      "RFC 9130: YANG Data Model for the IS-IS Protocol";
  }

  organization
    "IETF LSR Working Group (LSR)";

  contact
    "WG Web:  &lt;https://datatracker.ietf.org/wg/lsr/&gt;
     WG List: &lt;mailto:lsr@ietf.org&gt;

     Author:  Christian Hopps
              &lt;mailto:chopps@chopps.org&gt;";

  description
    "This module defines the configuration and operational state
     for managing the IS-IS reverse metric functionality
     (RFC 8500).

     Copyright (c) 2022 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject to
     the license terms contained in, the Revised BSD License set
     forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC 9194; see the
     RFC itself for full legal notices.";
  reference
    "RFC 8500: IS-IS Routing with Reverse Metric";

  revision 2022-10-19 {
    description
      "Initial revision.";
    reference
      "RFC 9194: A YANG Module for IS-IS Reverse Metric";
  }

  grouping reverse-metric-data {
    description
      "IS-IS reverse metric data.";
    leaf metric {
      type isis:wide-metric;
      description
        "The reverse metric value.";
      reference
        "RFC 8500: IS-IS Routing with Reverse Metric, Section 2";
    }
    container flags {
      description
        "The reverse metric flag values.";
      leaf whole-lan {
        type boolean;
        description
          "The 'Whole LAN' bit (W bit) (RFC 8500).  If true, then
           a Designated Intermediate System (DIS) processing this
           reverse metric will add the metric value to all the
           nodes it advertises in the pseudonode Link State
           Protocol Data Unit (LSP) for this interface.
           Otherwise, it will only increment the metric for the
           advertising node in the pseudonode LSP for this
           interface.";
        reference
          "RFC 8500: IS-IS Routing with Reverse Metric,
                     Section 2";
      }
      leaf allow-unreachable {
        type boolean;
        description
          "The 'Unreachable' bit (U bit) (RFC 8500).  If true, it
           allows the neighbor to increment the overall metric up
           to 2^24-1 rather than the lesser maximum of 2^24-2.
           If the metric is then set by the neighbor to 2^24-1,
           it will cause traffic to stop using, rather than avoid
           using, the interface.";
        reference
          "RFC 8500: IS-IS Routing with Reverse Metric,
                     Section 2";
      }
    }
  }

  grouping reverse-metric-if-config-data {
    description
      "IS-IS reverse metric config data.";
    uses reverse-metric-data;
    leaf exclude-te-metric {
      type boolean;
      default "false";
      description
        "If true and there is a TE metric defined for this
         interface, then do not send the Traffic Engineering
         Metric sub-TLV in the Reverse Metric TLV.";

      reference
        "RFC 8500: IS-IS Routing with Reverse Metric, Section 2";
    }
  }

  grouping tlv16-reverse-metric {
    description
      "IS-IS Reverse Metric TLV data.";
    uses reverse-metric-data;
    leaf te-metric {
      type uint32;
      description
        "The TE metric value from the sub-TLV, if present.";
      reference
        "RFC 8500: IS-IS Routing with Reverse Metric, Section 2";
    }
  }

  augment "/rt:routing/rt:control-plane-protocols/"
        + "rt:control-plane-protocol/"
        + "isis:isis" {
    when "derived-from-or-self(../rt:type, 'isis:isis')" {
      description
        "This augment is only valid when the routing protocol
         instance type is 'isis'.";
    }

    description
      "The reverse metric configuration for an IS-IS instance.";

    container reverse-metric {
      description
        "Global reverse metric configuration.";
      leaf enable-receive {
        type boolean;
        default "false";
        description
          "Enables handling of reverse metric announcements from
           neighbors.  By default, reverse metric handling is
           disabled and must be explicitly enabled through this
           configuration.";
      }
    }
  }

  augment "/rt:routing/rt:control-plane-protocols/"
        + "rt:control-plane-protocol/"
        + "isis:isis/isis:interfaces/isis:interface" {
    when "derived-from-or-self(../../../rt:type, 'isis:isis')" {
      description
        "This augment is only valid when the routing protocol
         instance type is 'isis'.";
    }

    description
      "The reverse metric configuration for an interface.";

    container reverse-metric {
      description
        "Announces a reverse metric to neighbors.  The
         configuration is hierarchical and follows the same
         behavior as that defined for per-level values in the
         augmented base module.

         Reverse metric operation is enabled by the configuration
         of a 'reverse-metric' metric value either at the top
         level or under a level-specific container node.  If a
         'reverse-metric' metric value is only specified under a
         level-specific container node, then operation is only
         enabled at the specified level.

         As the reverse metric is advertised in IS-IS Hello
         Protocol Data Units (IIH PDUs), level-specific
         configuration is only available for broadcast interface
         types.";
      uses reverse-metric-if-config-data {
        refine "flags/whole-lan" {
          default "false";
        }
        refine "flags/allow-unreachable" {
          default "false";
        }
      }
      container level-1 {
        when '../../isis:interface-type = "broadcast"';
        description
          "Announces a reverse metric to level-1 neighbors.";
        uses reverse-metric-if-config-data;
      }
      container level-2 {
        when '../../isis:interface-type = "broadcast"';
        description
          "Announces a reverse metric to level-2 neighbors.";
        uses reverse-metric-if-config-data;
      }
    }
  }
  augment "/rt:routing/rt:control-plane-protocols/"
        + "rt:control-plane-protocol/"
        + "isis:isis/isis:interfaces/isis:interface/"
        + "isis:adjacencies/isis:adjacency" {
    when "derived-from-or-self(../../../../../rt:type,
                               'isis:isis')" {
      description
        "This augment is only valid when the routing protocol
         instance type is 'isis'.";
    }

    description
      "The reverse metric state advertised by an adjacency.";
    container reverse-metric {
      description
        "IS-IS Reverse Metric TLV data.";
      uses tlv16-reverse-metric;
    }
  }
}
</sourcecode>
      </section>
    </section>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-3">
      <name slugifiedName="name-iana-considerations">IANA Considerations</name>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-3.1">
        <name slugifiedName="name-updates-to-the-ietf-xml-reg">Updates to the IETF XML Registry</name>
        <t indent="0" pn="section-3.1-1">This document registers a URI in the "IETF XML Registry" <xref target="RFC3688" format="default" sectionFormat="of" derivedContent="RFC3688"/>.
Following the format in <xref target="RFC3688" format="default" sectionFormat="of" derivedContent="RFC3688"/>, the following registration has been
made:</t>
        <dl spacing="compact" indent="3" newline="false" pn="section-3.1-2">
          <dt pn="section-3.1-2.1">URI:</dt>
          <dd pn="section-3.1-2.2">urn:ietf:params:xml:ns:yang:ietf-isis-reverse-metric</dd>
          <dt pn="section-3.1-2.3">Registrant Contact:</dt>
          <dd pn="section-3.1-2.4">The IESG.</dd>
          <dt pn="section-3.1-2.5">XML:</dt>
          <dd pn="section-3.1-2.6">N/A; the requested URI is an XML namespace.</dd>
        </dl>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-3.2">
        <name slugifiedName="name-updates-to-the-yang-module-">Updates to the YANG Module Names Registry</name>
        <t indent="0" pn="section-3.2-1">This document registers one YANG module in the "YANG Module Names"
registry <xref target="RFC6020" format="default" sectionFormat="of" derivedContent="RFC6020"/>. Following the format in <xref target="RFC6020" format="default" sectionFormat="of" derivedContent="RFC6020"/>, the following
registration has been made:</t>
        <dl spacing="compact" indent="3" newline="false" pn="section-3.2-2">
          <dt pn="section-3.2-2.1">Name:</dt>
          <dd pn="section-3.2-2.2">ietf-isis-reverse-metric</dd>
          <dt pn="section-3.2-2.3">Maintained by IANA?</dt>
          <dd pn="section-3.2-2.4">N</dd>
          <dt pn="section-3.2-2.5">Namespace:</dt>
          <dd pn="section-3.2-2.6">urn:ietf:params:xml:ns:yang:ietf-isis-reverse-metric</dd>
          <dt pn="section-3.2-2.7">Prefix:</dt>
          <dd pn="section-3.2-2.8">isis-rmetric</dd>
          <dt pn="section-3.2-2.9">Reference:</dt>
          <dd pn="section-3.2-2.10">RFC 9194</dd>
        </dl>
      </section>
    </section>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-4">
      <name slugifiedName="name-security-considerations">Security Considerations</name>
      <t indent="0" pn="section-4-1">The YANG module specified in this document defines a schema for data
that is designed to be accessed via network management protocols such
as NETCONF <xref target="RFC6241" format="default" sectionFormat="of" derivedContent="RFC6241"/> or RESTCONF <xref target="RFC8040" format="default" sectionFormat="of" derivedContent="RFC8040"/>.
The lowest NETCONF layer is the secure transport layer, and the
mandatory-to-implement secure transport is Secure Shell (SSH)
<xref target="RFC6242" format="default" sectionFormat="of" derivedContent="RFC6242"/>. The lowest RESTCONF layer is HTTPS, and the
mandatory-to-implement secure transport is TLS <xref target="RFC8446" format="default" sectionFormat="of" derivedContent="RFC8446"/>.</t>
      <t indent="0" pn="section-4-2">The Network Configuration Access Control Model (NACM) <xref target="RFC8341" format="default" sectionFormat="of" derivedContent="RFC8341"/>
provides the means to restrict access for particular NETCONF or RESTCONF users
to a preconfigured subset of all available NETCONF or RESTCONF protocol
operations and content.</t>
      <t indent="0" pn="section-4-3">The YANG module defined in this document can enable, disable, and
modify the behavior of metrics used by routing. For the security
implications regarding these types of changes, consult <xref target="RFC8500" format="default" sectionFormat="of" derivedContent="RFC8500"/> --
which defines the functionality -- as well as <xref target="RFC9130" format="default" sectionFormat="of" derivedContent="RFC9130"/>.</t>
      <t indent="0" pn="section-4-4">There are a number of data nodes defined in this YANG module that are
writable/creatable/deletable (i.e., config true, which is the 
default). These data nodes may be considered sensitive or vulnerable 
in some network environments. Write operations (e.g., edit-config) 
to these data nodes without proper protection can have a negative effect 
on network operations.  These YANG nodes correspond directly to the 
functionality provided in RFC 8500, and the security considerations of the 
functionality are described in RFC 8500. 
These are the subtrees and data nodes:</t>
      <artwork type="ascii-art" align="left" pn="section-4-5">
Under "/rt:routing/rt:control-plane-protocols/" +
      "rt:control-plane-protocol/isis:isis"

  - /isis-rmetric:reverse-metric/isis-rmetric:enable-receive
</artwork>
      <artwork type="ascii-art" align="left" pn="section-4-6">
Under "/rt:routing/rt:control-plane-protocols/" +
      "rt:control-plane-protocol/isis:isis/" +
      "isis:interfaces/isis:interface/" +
      "isis-rmetric:reverse-metric"

  - /isis-rmetric:metric
  - /isis-rmetric:flags/isis-rmetric:whole-lan
  - /isis-rmetric:flags/isis-rmetric:allow-unreachable
  - /isis-rmetric:exclude-te-metric
</artwork>
      <artwork type="ascii-art" align="left" pn="section-4-7">
Under "/rt:routing/rt:control-plane-protocols/" +
      "rt:control-plane-protocol/isis:isis/" +
      "isis:interfaces/isis:interface/" +
      "isis-rmetric:reverse-metric/" +
      "isis-rmetric:level-1/"

  - /isis-rmetric:metric
  - /isis-rmetric:flags/isis-rmetric:whole-lan
  - /isis-rmetric:flags/isis-rmetric:allow-unreachable
  - /isis-rmetric:exclude-te-metric
</artwork>
      <artwork type="ascii-art" align="left" pn="section-4-8">
Under "/rt:routing/rt:control-plane-protocols/" +
      "rt:control-plane-protocol/isis:isis/" +
      "isis:interfaces/isis:interface/" +
      "isis-rmetric:reverse-metric/" +
      "isis-rmetric:level-2/"

  - /isis-rmetric:metric
  - /isis-rmetric:flags/isis-rmetric:whole-lan
  - /isis-rmetric:flags/isis-rmetric:allow-unreachable
  - /isis-rmetric:exclude-te-metric
</artwork>
      <t indent="0" pn="section-4-9">Some of the readable data nodes in this YANG module may be considered
sensitive or vulnerable in some network environments. It is thus 
important to control read access (e.g., via get, get-config, or 
notification) to these data nodes. These YANG nodes correspond 
directly to the functionality provided in RFC 8500, and the security 
considerations of the functionality are described in RFC 8500. 
These are the subtrees and data nodes:</t>
      <artwork type="ascii-art" align="left" pn="section-4-10">
Under "/rt:routing/rt:control-plane-protocols/" +
      "rt:control-plane-protocol/isis:isis/" +
      "isis:interfaces/isis:interface/" +
      "isis:adjacencies/isis:adjacency/" +
      "isis-rmetric:reverse-metric"

  - /isis-rmetric:metric
  - /isis-rmetric:flags/isis-rmetric:whole-lan
  - /isis-rmetric:flags/isis-rmetric:allow-unreachable
  - /isis-rmetric:te-metric
</artwork>
    </section>
  </middle>
  <back>
    <references pn="section-5">
      <name slugifiedName="name-normative-references">Normative References</name>
      <reference anchor="ISO-10589" target="https://www.iso.org/standard/30932.html" quoteTitle="true" derivedAnchor="ISO-10589">
        <front>
          <title>Intermediate System to Intermediate System intra- domain routeing information exchange protocol for use in conjunction with the protocol for providing the connectionless-mode network service (ISO 8473)</title>
          <author>
            <organization showOnFrontPage="true">ISO</organization>
          </author>
          <date year="2002"/>
        </front>
        <refcontent>International Standard 10589: 2002, Second Edition</refcontent>
      </reference>
      <reference anchor="RFC3688" target="https://www.rfc-editor.org/info/rfc3688" quoteTitle="true" derivedAnchor="RFC3688">
        <front>
          <title>The IETF XML Registry</title>
          <author fullname="M. Mealling" initials="M." surname="Mealling"/>
          <date month="January" year="2004"/>
          <abstract>
            <t indent="0">This document describes an IANA maintained registry for IETF standards which use Extensible Markup Language (XML) related items such as Namespaces, Document Type Declarations (DTDs), Schemas, and Resource Description Framework (RDF) Schemas.</t>
          </abstract>
        </front>
        <seriesInfo name="BCP" value="81"/>
        <seriesInfo name="RFC" value="3688"/>
        <seriesInfo name="DOI" value="10.17487/RFC3688"/>
      </reference>
      <reference anchor="RFC6020" target="https://www.rfc-editor.org/info/rfc6020" quoteTitle="true" derivedAnchor="RFC6020">
        <front>
          <title>YANG - A Data Modeling Language for the Network Configuration Protocol (NETCONF)</title>
          <author fullname="M. Bjorklund" initials="M." role="editor" surname="Bjorklund"/>
          <date month="October" year="2010"/>
          <abstract>
            <t indent="0">YANG is a data modeling language used to model configuration and state data manipulated by the Network Configuration Protocol (NETCONF), NETCONF remote procedure calls, and NETCONF notifications. [STANDARDS-TRACK]</t>
          </abstract>
        </front>
        <seriesInfo name="RFC" value="6020"/>
        <seriesInfo name="DOI" value="10.17487/RFC6020"/>
      </reference>
      <reference anchor="RFC6241" target="https://www.rfc-editor.org/info/rfc6241" quoteTitle="true" derivedAnchor="RFC6241">
        <front>
          <title>Network Configuration Protocol (NETCONF)</title>
          <author fullname="R. Enns" initials="R." role="editor" surname="Enns"/>
          <author fullname="M. Bjorklund" initials="M." role="editor" surname="Bjorklund"/>
          <author fullname="J. Schoenwaelder" initials="J." role="editor" surname="Schoenwaelder"/>
          <author fullname="A. Bierman" initials="A." role="editor" surname="Bierman"/>
          <date month="June" year="2011"/>
          <abstract>
            <t indent="0">The Network Configuration Protocol (NETCONF) defined in this document provides mechanisms to install, manipulate, and delete the configuration of network devices.  It uses an Extensible Markup Language (XML)-based data encoding for the configuration data as well as the protocol messages.  The NETCONF protocol operations are realized as remote procedure calls (RPCs).  This document obsoletes RFC 4741. [STANDARDS-TRACK]</t>
          </abstract>
        </front>
        <seriesInfo name="RFC" value="6241"/>
        <seriesInfo name="DOI" value="10.17487/RFC6241"/>
      </reference>
      <reference anchor="RFC6242" target="https://www.rfc-editor.org/info/rfc6242" quoteTitle="true" derivedAnchor="RFC6242">
        <front>
          <title>Using the NETCONF Protocol over Secure Shell (SSH)</title>
          <author fullname="M. Wasserman" initials="M." surname="Wasserman"/>
          <date month="June" year="2011"/>
          <abstract>
            <t indent="0">This document describes a method for invoking and running the Network Configuration Protocol (NETCONF) within a Secure Shell (SSH) session as an SSH subsystem.  This document obsoletes RFC 4742. [STANDARDS-TRACK]</t>
          </abstract>
        </front>
        <seriesInfo name="RFC" value="6242"/>
        <seriesInfo name="DOI" value="10.17487/RFC6242"/>
      </reference>
      <reference anchor="RFC8040" target="https://www.rfc-editor.org/info/rfc8040" quoteTitle="true" derivedAnchor="RFC8040">
        <front>
          <title>RESTCONF Protocol</title>
          <author fullname="A. Bierman" initials="A." surname="Bierman"/>
          <author fullname="M. Bjorklund" initials="M." surname="Bjorklund"/>
          <author fullname="K. Watsen" initials="K." surname="Watsen"/>
          <date month="January" year="2017"/>
          <abstract>
            <t indent="0">This document describes an HTTP-based protocol that provides a programmatic interface for accessing data defined in YANG, using the datastore concepts defined in the Network Configuration Protocol (NETCONF).</t>
          </abstract>
        </front>
        <seriesInfo name="RFC" value="8040"/>
        <seriesInfo name="DOI" value="10.17487/RFC8040"/>
      </reference>
      <reference anchor="RFC8340" target="https://www.rfc-editor.org/info/rfc8340" quoteTitle="true" derivedAnchor="RFC8340">
        <front>
          <title>YANG Tree Diagrams</title>
          <author fullname="M. Bjorklund" initials="M." surname="Bjorklund"/>
          <author fullname="L. Berger" initials="L." role="editor" surname="Berger"/>
          <date month="March" year="2018"/>
          <abstract>
            <t indent="0">This document captures the current syntax used in YANG module tree diagrams.  The purpose of this document is to provide a single location for this definition.  This syntax may be updated from time to time based on the evolution of the YANG language.</t>
          </abstract>
        </front>
        <seriesInfo name="BCP" value="215"/>
        <seriesInfo name="RFC" value="8340"/>
        <seriesInfo name="DOI" value="10.17487/RFC8340"/>
      </reference>
      <reference anchor="RFC8341" target="https://www.rfc-editor.org/info/rfc8341" quoteTitle="true" derivedAnchor="RFC8341">
        <front>
          <title>Network Configuration Access Control Model</title>
          <author fullname="A. Bierman" initials="A." surname="Bierman"/>
          <author fullname="M. Bjorklund" initials="M." surname="Bjorklund"/>
          <date month="March" year="2018"/>
          <abstract>
            <t indent="0">The standardization of network configuration interfaces for use with the Network Configuration Protocol (NETCONF) or the RESTCONF protocol requires a structured and secure operating environment that promotes human usability and multi-vendor interoperability. There is a need for standard mechanisms to restrict NETCONF or RESTCONF protocol access for particular users to a preconfigured subset of all available NETCONF or RESTCONF protocol operations and content. This document defines such an access control model.</t>
            <t indent="0">This document obsoletes RFC 6536.</t>
          </abstract>
        </front>
        <seriesInfo name="STD" value="91"/>
        <seriesInfo name="RFC" value="8341"/>
        <seriesInfo name="DOI" value="10.17487/RFC8341"/>
      </reference>
      <reference anchor="RFC8342" target="https://www.rfc-editor.org/info/rfc8342" quoteTitle="true" derivedAnchor="RFC8342">
        <front>
          <title>Network Management Datastore Architecture (NMDA)</title>
          <author fullname="M. Bjorklund" initials="M." surname="Bjorklund"/>
          <author fullname="J. Schoenwaelder" initials="J." surname="Schoenwaelder"/>
          <author fullname="P. Shafer" initials="P." surname="Shafer"/>
          <author fullname="K. Watsen" initials="K." surname="Watsen"/>
          <author fullname="R. Wilton" initials="R." surname="Wilton"/>
          <date month="March" year="2018"/>
          <abstract>
            <t indent="0">Datastores are a fundamental concept binding the data models written in the YANG data modeling language to network management protocols such as the Network Configuration Protocol (NETCONF) and RESTCONF.  This document defines an architectural framework for datastores based on the experience gained with the initial simpler model, addressing requirements that were not well supported in the initial model.  This document updates RFC 7950.</t>
          </abstract>
        </front>
        <seriesInfo name="RFC" value="8342"/>
        <seriesInfo name="DOI" value="10.17487/RFC8342"/>
      </reference>
      <reference anchor="RFC8349" target="https://www.rfc-editor.org/info/rfc8349" quoteTitle="true" derivedAnchor="RFC8349">
        <front>
          <title>A YANG Data Model for Routing Management (NMDA Version)</title>
          <author fullname="L. Lhotka" initials="L." surname="Lhotka"/>
          <author fullname="A. Lindem" initials="A." surname="Lindem"/>
          <author fullname="Y. Qu" initials="Y." surname="Qu"/>
          <date month="March" year="2018"/>
          <abstract>
            <t indent="0">This document specifies three YANG modules and one submodule. Together, they form the core routing data model that serves as a framework for configuring and managing a routing subsystem. It is expected that these modules will be augmented by additional YANG modules defining data models for control-plane protocols, route filters, and other functions. The core routing data model provides common building blocks for such extensions -- routes, Routing Information Bases (RIBs), and control-plane protocols.</t>
            <t indent="0">The YANG modules in this document conform to the Network Management Datastore Architecture (NMDA). This document obsoletes RFC 8022.</t>
          </abstract>
        </front>
        <seriesInfo name="RFC" value="8349"/>
        <seriesInfo name="DOI" value="10.17487/RFC8349"/>
      </reference>
      <reference anchor="RFC8446" target="https://www.rfc-editor.org/info/rfc8446" quoteTitle="true" derivedAnchor="RFC8446">
        <front>
          <title>The Transport Layer Security (TLS) Protocol Version 1.3</title>
          <author fullname="E. Rescorla" initials="E." surname="Rescorla"/>
          <date month="August" year="2018"/>
          <abstract>
            <t indent="0">This document specifies version 1.3 of the Transport Layer Security (TLS) protocol. TLS allows client/server applications to communicate over the Internet in a way that is designed to prevent eavesdropping, tampering, and message forgery.</t>
            <t indent="0">This document updates RFCs 5705 and 6066, and obsoletes RFCs 5077, 5246, and 6961. This document also specifies new requirements for TLS 1.2 implementations.</t>
          </abstract>
        </front>
        <seriesInfo name="RFC" value="8446"/>
        <seriesInfo name="DOI" value="10.17487/RFC8446"/>
      </reference>
      <reference anchor="RFC8500" target="https://www.rfc-editor.org/info/rfc8500" quoteTitle="true" derivedAnchor="RFC8500">
        <front>
          <title>IS-IS Routing with Reverse Metric</title>
          <author fullname="N. Shen" initials="N." surname="Shen"/>
          <author fullname="S. Amante" initials="S." surname="Amante"/>
          <author fullname="M. Abrahamsson" initials="M." surname="Abrahamsson"/>
          <date month="February" year="2019"/>
          <abstract>
            <t indent="0">This document describes a mechanism to allow IS-IS routing to quickly and accurately shift traffic away from either a point-to-point or multi-access LAN interface during network maintenance or other operational events.  This is accomplished by signaling adjacent IS-IS neighbors with a higher reverse metric, i.e., the metric towards the signaling IS-IS router.</t>
          </abstract>
        </front>
        <seriesInfo name="RFC" value="8500"/>
        <seriesInfo name="DOI" value="10.17487/RFC8500"/>
      </reference>
      <reference anchor="RFC9130" target="https://www.rfc-editor.org/info/rfc9130" quoteTitle="true" derivedAnchor="RFC9130">
        <front>
          <title>YANG Data Model for the IS-IS Protocol</title>
          <author initials="S" surname="Litkowski" fullname="Stephane Litkowski" role="editor">
            <organization showOnFrontPage="true"/>
          </author>
          <author initials="D" surname="Yeung" fullname="Derek Yeung">
            <organization showOnFrontPage="true"/>
          </author>
          <author initials="A" surname="Lindem" fullname="Acee Lindem">
            <organization showOnFrontPage="true"/>
          </author>
          <author initials="J" surname="Zhang" fullname="Jeffrey Zhang">
            <organization showOnFrontPage="true"/>
          </author>
          <author initials="L" surname="Lhotka" fullname="Ladislav Lhotka">
            <organization showOnFrontPage="true"/>
          </author>
          <date month="October" year="2022"/>
        </front>
        <seriesInfo name="RFC" value="9130"/>
        <seriesInfo name="DOI" value="10.17487/RFC9130"/>
      </reference>
      <reference anchor="W3C.REC-xml-20081126" target="https://www.w3.org/TR/2008/REC-xml-20081126" quoteTitle="true" derivedAnchor="W3C.REC-xml-20081126">
        <front>
          <title>Extensible Markup Language (XML) 1.0 (Fifth Edition)</title>
          <author initials="T." surname="Bray" fullname="Tim Bray">
            <organization showOnFrontPage="true"/>
          </author>
          <author initials="J." surname="Paoli" fullname="Jean Paoli">
            <organization showOnFrontPage="true"/>
          </author>
          <author initials="M." surname="Sperberg-McQueen" fullname="Michael Sperberg-McQueen">
            <organization showOnFrontPage="true"/>
          </author>
          <author initials="E." surname="Maler" fullname="Eve Maler">
            <organization showOnFrontPage="true"/>
          </author>
          <author initials="F." surname="Yergeau" fullname="Francois Yergeau">
            <organization showOnFrontPage="true"/>
          </author>
          <date month="November" year="2008"/>
        </front>
        <refcontent>World Wide Web Consortium Recommendation REC-xml-20081126</refcontent>
      </reference>
    </references>
    <references pn="section-6">
      <name slugifiedName="name-informative-references">Informative References</name>
      <reference anchor="RFC7951" target="https://www.rfc-editor.org/info/rfc7951" quoteTitle="true" derivedAnchor="RFC7951">
        <front>
          <title>JSON Encoding of Data Modeled with YANG</title>
          <author fullname="L. Lhotka" initials="L." surname="Lhotka"/>
          <date month="August" year="2016"/>
          <abstract>
            <t indent="0">This document defines encoding rules for representing configuration data, state data, parameters of Remote Procedure Call (RPC) operations or actions, and notifications defined using YANG as JavaScript Object Notation (JSON) text.</t>
          </abstract>
        </front>
        <seriesInfo name="RFC" value="7951"/>
        <seriesInfo name="DOI" value="10.17487/RFC7951"/>
      </reference>
    </references>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-appendix.a">
      <name slugifiedName="name-examples">Examples</name>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-appendix.a.1">
        <name slugifiedName="name-enablement-example-using-xm">Enablement Example Using XML YANG Instance Data</name>
        <t indent="0" pn="section-appendix.a.1-1">Below is an example of XML <xref target="W3C.REC-xml-20081126" format="default" sectionFormat="of" derivedContent="W3C.REC-xml-20081126"/> YANG instance data <xref target="RFC8342" format="default" sectionFormat="of" derivedContent="RFC8342"/> to enable reverse metric processing.
</t>
        <figure align="left" suppress-title="false" pn="figure-1">
          <name slugifiedName="name-example-xml-data-to-enable-">Example XML Data to Enable Reverse Metric Processing</name>
          <sourcecode type="xml" markers="false" pn="section-appendix.a.1-2.1">
&lt;rt:routing
    xmlns:rt="urn:ietf:params:xml:ns:yang:ietf-routing"
    xmlns:isis="urn:ietf:params:xml:ns:yang:ietf-isis"
    xmlns:isis-rmetric=
    "urn:ietf:params:xml:ns:yang:ietf-isis-reverse-metric"&gt;
  &lt;rt:control-plane-protocols&gt;
    &lt;rt:control-plane-protocol&gt;
      &lt;rt:type&gt;isis:isis&lt;/rt:type&gt;
      &lt;rt:name&gt;default&lt;/rt:name&gt;
      &lt;isis:isis&gt;
        &lt;isis:area-address&gt;00&lt;/isis:area-address&gt;
        &lt;isis-rmetric:reverse-metric&gt;
     &lt;isis-rmetric:enable-receive&gt;true&lt;/isis-rmetric:enable-receive&gt;
        &lt;/isis-rmetric:reverse-metric&gt;
      &lt;/isis:isis&gt;
    &lt;/rt:control-plane-protocol&gt;
  &lt;/rt:control-plane-protocols&gt;
&lt;/rt:routing&gt;
</sourcecode>
        </figure>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-appendix.a.2">
        <name slugifiedName="name-usage-example-using-xml-yan">Usage Example Using XML YANG Instance Data</name>
        <t indent="0" pn="section-appendix.a.2-1">Below is an example of XML YANG instance data <xref target="RFC8342" format="default" sectionFormat="of" derivedContent="RFC8342"/> for the
"ietf-isis-reverse-metric" module.</t>
        <figure align="left" suppress-title="false" pn="figure-2">
          <name slugifiedName="name-example-xml-data-for-the-ie">Example XML Data for the "ietf-isis-reverse-metric" Module</name>
          <sourcecode type="xml" markers="false" pn="section-appendix.a.2-2.1">
&lt;if:interfaces
    xmlns:if="urn:ietf:params:xml:ns:yang:ietf-interfaces"
    xmlns:ianaift="urn:ietf:params:xml:ns:yang:iana-if-type"&gt;
  &lt;if:interface&gt;
    &lt;if:name&gt;eth0&lt;/if:name&gt;
    &lt;if:type&gt;ianaift:ethernetCsmacd&lt;/if:type&gt;
  &lt;/if:interface&gt;
&lt;/if:interfaces&gt;
&lt;rt:routing
    xmlns:rt="urn:ietf:params:xml:ns:yang:ietf-routing"
    xmlns:isis="urn:ietf:params:xml:ns:yang:ietf-isis"
    xmlns:isis-rmetric=
    "urn:ietf:params:xml:ns:yang:ietf-isis-reverse-metric"&gt;
  &lt;rt:control-plane-protocols&gt;
    &lt;rt:control-plane-protocol&gt;
      &lt;rt:type&gt;isis:isis&lt;/rt:type&gt;
      &lt;rt:name&gt;default&lt;/rt:name&gt;
      &lt;isis:isis&gt;
        &lt;isis:area-address&gt;00&lt;/isis:area-address&gt;
        &lt;isis:interfaces&gt;
          &lt;isis:interface&gt;
            &lt;isis:name&gt;eth0&lt;/isis:name&gt;
            &lt;isis-rmetric:reverse-metric&gt;
              &lt;isis-rmetric:metric&gt;
                65535
              &lt;/isis-rmetric:metric&gt;
            &lt;/isis-rmetric:reverse-metric&gt;
          &lt;/isis:interface&gt;
        &lt;/isis:interfaces&gt;
      &lt;/isis:isis&gt;
    &lt;/rt:control-plane-protocol&gt;
  &lt;/rt:control-plane-protocols&gt;
&lt;/rt:routing&gt;
</sourcecode>
        </figure>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-appendix.a.3">
        <name slugifiedName="name-usage-example-using-json-ya">Usage Example Using JSON YANG Instance Data</name>
        <t indent="0" pn="section-appendix.a.3-1">Below is an example of JSON YANG instance data <xref target="RFC7951" format="default" sectionFormat="of" derivedContent="RFC7951"/> for the
"ietf-isis-reverse-metric" module.</t>
        <figure align="left" suppress-title="false" pn="figure-3">
          <name slugifiedName="name-example-json-data-for-the-l">Example JSON Data for the Level-1-Only Reverse Metric</name>
          <sourcecode type="json" markers="false" pn="section-appendix.a.3-2.1">
{
  "ietf-interfaces:interfaces": {
    "interface": [
      {
        "name": "eth0",
        "type": "iana-if-type:ethernetCsmacd"
      }
    ]
  },
  "ietf-routing:routing": {
    "control-plane-protocols": {
      "control-plane-protocol": [
        {
          "type": "ietf-isis:isis",
          "name": "default",
          "ietf-isis:isis": {
            "area-address": [
              "00"
            ],
            "interfaces": {
              "interface": [
                {
                  "name": "eth0",
                  "ietf-isis-reverse-metric:reverse-metric": {
                    "level-1": {
                      "metric": 65535,
                      "exclude-te-metric": true
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    }
  }
}
</sourcecode>
        </figure>
      </section>
    </section>
    <section anchor="authors-addresses" numbered="false" removeInRFC="false" toc="include" pn="section-appendix.b">
      <name slugifiedName="name-authors-address">Author's Address</name>
      <author initials="C." surname="Hopps" fullname="Christian Hopps">
        <organization showOnFrontPage="true">LabN Consulting, L.L.C.</organization>
        <address>
          <email>chopps@chopps.org</email>
        </address>
      </author>
    </section>
  </back>
</rfc>
