<?xml version='1.0' encoding='utf-8'?>
<rfc xmlns:xi="http://www.w3.org/2001/XInclude" version="3" category="std" consensus="true" docName="draft-ietf-pce-segment-routing-16" indexInclude="true" ipr="trust200902" number="8667" prepTime="2019-12-06T13:54:52" scripts="Common,Latin" sortRefs="true" submissionType="IETF" symRefs="true" tocDepth="3" tocInclude="true" xml:lang="en">
  <link href="https://datatracker.ietf.org/doc/draft-ietf-pce-segment-routing-16" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc8667" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <front>
    <title abbrev="IS-IS Extensions for Segment Routing">IS-IS Extensions for Segment Routing</title>
    <seriesInfo name="RFC" value="8667" stream="IETF"/>
    <author fullname="Stefano Previdi" initials="S." role="editor" surname="Previdi">
      <organization showOnFrontPage="true">Huawei Technologies</organization>
      <address>
        <postal>
          <street/>
          <city/>
          <code/>
          <country>Italy</country>
        </postal>
        <email>stefano@previdi.net</email>
      </address>
    </author>
    <author fullname="Les Ginsberg" initials="L." role="editor" surname="Ginsberg">
      <organization showOnFrontPage="true">Cisco Systems, Inc.</organization>
      <address>
        <postal>
          <street/>
          <city/>
          <code/>
          <country>United States of America</country>
        </postal>
        <email>ginsberg@cisco.com</email>
      </address>
    </author>
    <author fullname="Clarence Filsfils" initials="C." surname="Filsfils">
      <organization showOnFrontPage="true">Cisco Systems, Inc.</organization>
      <address>
        <postal>
          <street/>
          <city>Brussels</city>
          <region/>
          <code/>
          <country>Belgium</country>
        </postal>
        <email>cfilsfil@cisco.com</email>
      </address>
    </author>
    <author fullname="Ahmed Bashandy" initials="A." surname="Bashandy">
      <organization showOnFrontPage="true">Arrcus</organization>
      <address>
        <postal>
          <street/>
          <city/>
          <region/>
          <country/>
        </postal>
        <email>abashandy.ietf@gmail.com</email>
      </address>
    </author>
    <author fullname="Hannes Gredler" initials="H." surname="Gredler">
      <organization showOnFrontPage="true">RtBrick Inc.</organization>
      <address>
        <postal>
          <street/>
          <city/>
          <region/>
          <code/>
          <country/>
        </postal>
        <email>hannes@rtbrick.com</email>
      </address>
    </author>
    <author fullname="Bruno Decraene" initials="B." surname="Decraene">
      <organization showOnFrontPage="true">Orange</organization>
      <address>
        <postal>
          <street/>
          <city/>
          <code/>
          <country>France</country>
        </postal>
        <email>bruno.decraene@orange.com</email>
      </address>
    </author>
    <date month="12" year="2019"/>
    <area>Routing</area>
    <workgroup>IS-IS for IP Internets</workgroup>
    <keyword>MPLS</keyword>
    <keyword>SID</keyword>
    <keyword>IGP</keyword>
    <keyword>IS-IS</keyword>
    <keyword>Label advertisement</keyword>
    <keyword>Segment Routing</keyword>
    <abstract pn="section-abstract">
      <t pn="section-abstract-1">Segment Routing (SR) allows for a flexible definition of end-to-end
      paths within IGP topologies by encoding paths as sequences of
      topological sub-paths, called "segments". These segments are advertised
      by the link-state routing protocols (IS-IS and OSPF).</t>
      <t pn="section-abstract-2">This document describes the IS-IS extensions that need to be
      introduced for Segment Routing operating on an MPLS data plane.</t>
    </abstract>
    <boilerplate>
      <section anchor="status-of-memo" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.1">
        <name slugifiedName="name-status-of-this-memo">Status of This Memo</name>
        <t pn="section-boilerplate.1-1">
            This is an Internet Standards Track document.
        </t>
        <t pn="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.
        </t>
        <t pn="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <eref target="https://www.rfc-editor.org/info/rfc8667" brackets="none"/>.
        </t>
      </section>
      <section anchor="copyright" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.2">
        <name slugifiedName="name-copyright-notice">Copyright Notice</name>
        <t pn="section-boilerplate.2-1">
            Copyright (c) 2019 IETF Trust and the persons identified as the
            document authors. All rights reserved.
        </t>
        <t pn="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<eref target="https://trustee.ietf.org/license-info" brackets="none"/>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.
        </t>
      </section>
    </boilerplate>
    <toc>
      <section anchor="toc" numbered="false" removeInRFC="false" toc="exclude" pn="section-toc.1">
        <name slugifiedName="name-table-of-contents">Table of Contents</name>
        <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1">
          <li pn="section-toc.1-1.1">
            <t keepWithNext="true" pn="section-toc.1-1.1.1"><xref derivedContent="1" format="counter" sectionFormat="of" target="section-1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-introduction">Introduction</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.1.2">
              <li pn="section-toc.1-1.1.2.1">
                <t keepWithNext="true" pn="section-toc.1-1.1.2.1.1"><xref derivedContent="1.1" format="counter" sectionFormat="of" target="section-1.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-requirements-language">Requirements Language</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.2">
            <t keepWithNext="true" pn="section-toc.1-1.2.1"><xref derivedContent="2" format="counter" sectionFormat="of" target="section-2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-segment-routing-identifiers">Segment Routing Identifiers</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.2.2">
              <li pn="section-toc.1-1.2.2.1">
                <t keepWithNext="true" pn="section-toc.1-1.2.2.1.1"><xref derivedContent="2.1" format="counter" sectionFormat="of" target="section-2.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-prefix-segment-identifier-p">Prefix Segment Identifier (Prefix-SID) Sub-TLV</xref></t>
                <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.2.2.1.2">
                  <li pn="section-toc.1-1.2.2.1.2.1">
                    <t keepWithNext="true" pn="section-toc.1-1.2.2.1.2.1.1"><xref derivedContent="2.1.1" format="counter" sectionFormat="of" target="section-2.1.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-flags">Flags</xref></t>
                  </li>
                  <li pn="section-toc.1-1.2.2.1.2.2">
                    <t keepWithNext="true" pn="section-toc.1-1.2.2.1.2.2.1"><xref derivedContent="2.1.2" format="counter" sectionFormat="of" target="section-2.1.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-prefix-sid-propagation">Prefix-SID Propagation</xref></t>
                  </li>
                </ul>
              </li>
              <li pn="section-toc.1-1.2.2.2">
                <t keepWithNext="true" pn="section-toc.1-1.2.2.2.1"><xref derivedContent="2.2" format="counter" sectionFormat="of" target="section-2.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-adjacency-segment-identifie">Adjacency Segment Identifier</xref></t>
                <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.2.2.2.2">
                  <li pn="section-toc.1-1.2.2.2.2.1">
                    <t keepWithNext="true" pn="section-toc.1-1.2.2.2.2.1.1"><xref derivedContent="2.2.1" format="counter" sectionFormat="of" target="section-2.2.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-adjacency-segment-identifier">Adjacency Segment Identifier (Adj-SID) Sub-TLV</xref></t>
                  </li>
                  <li pn="section-toc.1-1.2.2.2.2.2">
                    <t keepWithNext="true" pn="section-toc.1-1.2.2.2.2.2.1"><xref derivedContent="2.2.2" format="counter" sectionFormat="of" target="section-2.2.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-adjacency-segment-identifier-">Adjacency Segment Identifier (LAN-Adj-SID) Sub-TLV</xref></t>
                  </li>
                </ul>
              </li>
              <li pn="section-toc.1-1.2.2.3">
                <t keepWithNext="true" pn="section-toc.1-1.2.2.3.1"><xref derivedContent="2.3" format="counter" sectionFormat="of" target="section-2.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sid-label-sub-tlv">SID/Label Sub-TLV</xref></t>
              </li>
              <li pn="section-toc.1-1.2.2.4">
                <t keepWithNext="true" pn="section-toc.1-1.2.2.4.1"><xref derivedContent="2.4" format="counter" sectionFormat="of" target="section-2.4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sid-label-binding-tlv">SID/Label Binding TLV</xref></t>
                <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.2.2.4.2">
                  <li pn="section-toc.1-1.2.2.4.2.1">
                    <t keepWithNext="true" pn="section-toc.1-1.2.2.4.2.1.1"><xref derivedContent="2.4.1" format="counter" sectionFormat="of" target="section-2.4.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-flags-2">Flags</xref></t>
                  </li>
                  <li pn="section-toc.1-1.2.2.4.2.2">
                    <t keepWithNext="true" pn="section-toc.1-1.2.2.4.2.2.1"><xref derivedContent="2.4.2" format="counter" sectionFormat="of" target="section-2.4.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-range">Range</xref></t>
                  </li>
                  <li pn="section-toc.1-1.2.2.4.2.3">
                    <t keepWithNext="true" pn="section-toc.1-1.2.2.4.2.3.1"><xref derivedContent="2.4.3" format="counter" sectionFormat="of" target="section-2.4.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-prefix-length-prefix">Prefix Length, Prefix</xref></t>
                  </li>
                  <li pn="section-toc.1-1.2.2.4.2.4">
                    <t keepWithNext="true" pn="section-toc.1-1.2.2.4.2.4.1"><xref derivedContent="2.4.4" format="counter" sectionFormat="of" target="section-2.4.4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-mapping-server-prefix-sid">Mapping Server Prefix-SID</xref></t>
                  </li>
                  <li pn="section-toc.1-1.2.2.4.2.5">
                    <t keepWithNext="true" pn="section-toc.1-1.2.2.4.2.5.1"><xref derivedContent="2.4.5" format="counter" sectionFormat="of" target="section-2.4.5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sid-label-sub-tlv-2">SID/Label Sub-TLV</xref></t>
                  </li>
                  <li pn="section-toc.1-1.2.2.4.2.6">
                    <t keepWithNext="true" pn="section-toc.1-1.2.2.4.2.6.1"><xref derivedContent="2.4.6" format="counter" sectionFormat="of" target="section-2.4.6"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-example-encodings">Example Encodings</xref></t>
                  </li>
                </ul>
              </li>
              <li pn="section-toc.1-1.2.2.5">
                <t keepWithNext="true" pn="section-toc.1-1.2.2.5.1"><xref derivedContent="2.5" format="counter" sectionFormat="of" target="section-2.5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-multi-topology-sid-label-bi">Multi-Topology SID/Label Binding TLV</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.3">
            <t keepWithNext="true" pn="section-toc.1-1.3.1"><xref derivedContent="3" format="counter" sectionFormat="of" target="section-3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-router-capabilities">Router Capabilities</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.3.2">
              <li pn="section-toc.1-1.3.2.1">
                <t keepWithNext="true" pn="section-toc.1-1.3.2.1.1"><xref derivedContent="3.1" format="counter" sectionFormat="of" target="section-3.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sr-capabilities-sub-tlv">SR-Capabilities Sub-TLV</xref></t>
              </li>
              <li pn="section-toc.1-1.3.2.2">
                <t keepWithNext="true" pn="section-toc.1-1.3.2.2.1"><xref derivedContent="3.2" format="counter" sectionFormat="of" target="section-3.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sr-algorithm-sub-tlv">SR-Algorithm Sub-TLV</xref></t>
              </li>
              <li pn="section-toc.1-1.3.2.3">
                <t keepWithNext="true" pn="section-toc.1-1.3.2.3.1"><xref derivedContent="3.3" format="counter" sectionFormat="of" target="section-3.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sr-local-block-sub-tlv">SR Local Block Sub-TLV</xref></t>
              </li>
              <li pn="section-toc.1-1.3.2.4">
                <t keepWithNext="true" pn="section-toc.1-1.3.2.4.1"><xref derivedContent="3.4" format="counter" sectionFormat="of" target="section-3.4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-srms-preference-sub-tlv">SRMS Preference Sub-TLV</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.4">
            <t keepWithNext="true" pn="section-toc.1-1.4.1"><xref derivedContent="4" format="counter" sectionFormat="of" target="section-4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-iana-considerations">IANA Considerations</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.4.2">
              <li pn="section-toc.1-1.4.2.1">
                <t keepWithNext="true" pn="section-toc.1-1.4.2.1.1"><xref derivedContent="4.1" format="counter" sectionFormat="of" target="section-4.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sub-tlvs-for-types-22-23-25">Sub-TLVs for Types 22, 23, 25, 141, 222, and 223</xref></t>
              </li>
              <li pn="section-toc.1-1.4.2.2">
                <t keepWithNext="true" pn="section-toc.1-1.4.2.2.1"><xref derivedContent="4.2" format="counter" sectionFormat="of" target="section-4.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sub-tlvs-for-types-135-235-">Sub-TLVs for Types 135, 235, 236, and 237</xref></t>
              </li>
              <li pn="section-toc.1-1.4.2.3">
                <t keepWithNext="true" pn="section-toc.1-1.4.2.3.1"><xref derivedContent="4.3" format="counter" sectionFormat="of" target="section-4.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-sub-tlvs-for-type-242">Sub-TLVs for Type 242</xref></t>
              </li>
              <li pn="section-toc.1-1.4.2.4">
                <t keepWithNext="true" pn="section-toc.1-1.4.2.4.1"><xref derivedContent="4.4" format="counter" sectionFormat="of" target="section-4.4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-new-tlv-codepoint-and-sub-t">New TLV Codepoint and Sub-TLV Registry</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.5">
            <t keepWithNext="true" pn="section-toc.1-1.5.1"><xref derivedContent="5" format="counter" sectionFormat="of" target="section-5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-security-considerations">Security Considerations</xref></t>
          </li>
          <li pn="section-toc.1-1.6">
            <t keepWithNext="true" pn="section-toc.1-1.6.1"><xref derivedContent="6" format="counter" sectionFormat="of" target="section-6"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-references">References</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.6.2">
              <li pn="section-toc.1-1.6.2.1">
                <t keepWithNext="true" pn="section-toc.1-1.6.2.1.1"><xref derivedContent="6.1" format="counter" sectionFormat="of" target="section-6.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-normative-references">Normative References</xref></t>
              </li>
              <li pn="section-toc.1-1.6.2.2">
                <t keepWithNext="true" pn="section-toc.1-1.6.2.2.1"><xref derivedContent="6.2" format="counter" sectionFormat="of" target="section-6.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-informative-references">Informative References</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.7">
            <t keepWithNext="true" pn="section-toc.1-1.7.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.a"/><xref derivedContent="" format="title" sectionFormat="of" target="name-acknowledgements">Acknowledgements</xref></t>
          </li>
          <li pn="section-toc.1-1.8">
            <t keepWithNext="true" pn="section-toc.1-1.8.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.b"/><xref derivedContent="" format="title" sectionFormat="of" target="name-contributors">Contributors</xref></t>
          </li>
          <li pn="section-toc.1-1.9">
            <t keepWithNext="true" pn="section-toc.1-1.9.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.c"/><xref derivedContent="" format="title" sectionFormat="of" target="name-authors-addresses">Authors' Addresses</xref></t>
          </li>
        </ul>
      </section>
    </toc>
  </front>
  <middle>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-1">
      <name slugifiedName="name-introduction">Introduction</name>
      <t pn="section-1-1">Segment Routing (SR) allows for a flexible definition of end-to-end
      paths within IGP topologies by encoding paths as sequences of
      topological sub-paths, called "segments". These segments are advertised
      by the link-state routing protocols (IS-IS and OSPF). Prefix segments
      represent an ECMP-aware shortest path to a prefix (or a node), as per
      the state of the IGP topology. Adjacency segments represent a hop over a
      specific adjacency between two nodes in the IGP. A prefix segment is
      typically a multi-hop path while an adjacency segment, in most of the
      cases, is a one-hop path. SR's control plane can be applied to both IPv6
      and MPLS data planes and does not require any additional signaling
      (other than the regular IGP). For example, when used in MPLS networks,
      SR paths do not require any LDP or RSVP-TE signaling. Still, SR can
      interoperate in the presence of Label Switched Paths (LSPs) established with RSVP or LDP.</t>
      <t pn="section-1-2">There are additional segment types, e.g., the Binding SID as defined in
      <xref target="RFC8402" format="default" sectionFormat="of" derivedContent="RFC8402"/>. This document also defines an advertisement
      for one type of Binding SID: the Mirror Context segment.</t>
      <t pn="section-1-3">This document describes the IS-IS extensions that need to be
      introduced for Segment Routing operating on an MPLS data plane.</t>
      <t pn="section-1-4">The Segment Routing architecture is described in <xref target="RFC8402" format="default" sectionFormat="of" derivedContent="RFC8402"/>.  Segment Routing use cases are described in <xref target="RFC7855" format="default" sectionFormat="of" derivedContent="RFC7855"/>.</t>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-1.1">
        <name slugifiedName="name-requirements-language">Requirements Language</name>
        <t pn="section-1.1-1">The key words "<bcp14>MUST</bcp14>", "<bcp14>MUST NOT</bcp14>", "<bcp14>REQUIRED</bcp14>", "<bcp14>SHALL</bcp14>", "<bcp14>SHALL NOT</bcp14>", "<bcp14>SHOULD</bcp14>", "<bcp14>SHOULD NOT</bcp14>", "<bcp14>RECOMMENDED</bcp14>", "<bcp14>NOT RECOMMENDED</bcp14>",
    "<bcp14>MAY</bcp14>", and "<bcp14>OPTIONAL</bcp14>" in this document are to be interpreted as
    described in BCP 14 <xref target="RFC2119" format="default" sectionFormat="of" derivedContent="RFC2119"/> <xref target="RFC8174" format="default" sectionFormat="of" derivedContent="RFC8174"/> 
    when, and only when, they appear in all capitals, as shown here.</t>
      </section>
    </section>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-2">
      <name slugifiedName="name-segment-routing-identifiers">Segment Routing Identifiers</name>
      <t pn="section-2-1">The Segment Routing architecture <xref target="RFC8402" format="default" sectionFormat="of" derivedContent="RFC8402"/> defines
      different types of Segment Identifiers (SIDs). This document defines the
      IS-IS encodings for the IGP-Prefix Segment, the IGP-Adjacency Segment,
      the IGP-LAN-Adjacency Segment, and the Binding Segment.</t>
      <section anchor="PREFIXSIDSUBTLV" numbered="true" toc="include" removeInRFC="false" pn="section-2.1">
        <name slugifiedName="name-prefix-segment-identifier-p">Prefix Segment Identifier (Prefix-SID) Sub-TLV</name>
        <t pn="section-2.1-1">A new IS-IS sub-TLV is defined: the Prefix Segment Identifier
        (Prefix-SID) sub-TLV.</t>
        <t pn="section-2.1-2">The Prefix-SID sub-TLV carries the Segment Routing IGP-Prefix-SID
        as defined in <xref target="RFC8402" format="default" sectionFormat="of" derivedContent="RFC8402"/>. The 'Prefix-SID' <bcp14>MUST</bcp14> be
        unique within a given IGP domain (when the L-Flag is not set).</t>
        <t pn="section-2.1-3">A Prefix-SID sub-TLV is associated to a prefix advertised by a node
        and <bcp14>MAY</bcp14> be present in any of the following TLVs: </t>
        <ul empty="true" bare="false" spacing="normal" pn="section-2.1-4">
          <li pn="section-2.1-4.1">TLV-135 (Extended IPv4 reachability) defined in <xref target="RFC5305" format="default" sectionFormat="of" derivedContent="RFC5305"/>.</li>
          <li pn="section-2.1-4.2">TLV-235 (Multi-topology IPv4 Reachability) defined in <xref target="RFC5120" format="default" sectionFormat="of" derivedContent="RFC5120"/>.</li>
          <li pn="section-2.1-4.3">TLV-236 (IPv6 IP Reachability) defined in <xref target="RFC5308" format="default" sectionFormat="of" derivedContent="RFC5308"/>.</li>
          <li pn="section-2.1-4.4">TLV-237 (Multi-topology IPv6 IP Reachability) defined in <xref target="RFC5120" format="default" sectionFormat="of" derivedContent="RFC5120"/>.</li>
          <li pn="section-2.1-4.5">The Binding TLV and Multi-Topology Binding TLV are defined in Sections <xref target="BINDINGTLV" format="counter" sectionFormat="of" derivedContent="2.4"/> and <xref target="MTBINDINGTLV" format="counter" sectionFormat="of" derivedContent="2.5"/>,
            respectively.</li>
        </ul>
        <t pn="section-2.1-5">The Prefix-SID sub-TLV has the following format:</t>
        <artwork name="" type="" align="left" alt="" pn="section-2.1-6">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Type        |     Length    |     Flags     |   Algorithm   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                         SID/Index/Label (variable)            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</artwork>
        <t pn="section-2.1-7">where:</t>
        <ul empty="true" bare="false" spacing="normal" pn="section-2.1-8">
          <li pn="section-2.1-8.1">
            <dl newline="false" spacing="normal" indent="9" pn="section-2.1-8.1.1">
              <dt pn="section-2.1-8.1.1.1">Type:</dt>
              <dd pn="section-2.1-8.1.1.2">3</dd>
              <dt pn="section-2.1-8.1.1.3">Length:</dt>
              <dd pn="section-2.1-8.1.1.4">5 or 6 depending on the size of the SID (described
            below)</dd>
              <dt pn="section-2.1-8.1.1.5">
            Flags:</dt>
              <dd pn="section-2.1-8.1.1.6">
                <t pn="section-2.1-8.1.1.6.1"> 1-octet field of the following flags:</t>
                <artwork name="" type="" align="left" alt="" pn="section-2.1-8.1.1.6.2">
       0 1 2 3 4 5 6 7 
      +-+-+-+-+-+-+-+-+
      |R|N|P|E|V|L|   | 
      +-+-+-+-+-+-+-+-+</artwork>
                <t pn="section-2.1-8.1.1.6.3"> where: </t>
                <dl newline="false" spacing="normal" indent="9" pn="section-2.1-8.1.1.6.4">
                  <dt pn="section-2.1-8.1.1.6.4.1">R-Flag:</dt>
                  <dd pn="section-2.1-8.1.1.6.4.2">Re-advertisement Flag. If set, then the prefix to
                which this Prefix-SID is attached has been propagated by the
                router from either another level (i.e., from Level-1 to
                Level-2 or the opposite) or redistribution (e.g., from
                another protocol).</dd>
                  <dt pn="section-2.1-8.1.1.6.4.3">N-Flag:</dt>
                  <dd pn="section-2.1-8.1.1.6.4.4">Node-SID Flag. If set, then the Prefix-SID refers
                to the router identified by the prefix. Typically, the N-Flag
                is set on Prefix-SIDs that are attached to a router loopback address.
                The N-Flag is set when the Prefix-SID is a Node-SID as
                described in <xref target="RFC8402" format="default" sectionFormat="of" derivedContent="RFC8402"/>.</dd>
                  <dt pn="section-2.1-8.1.1.6.4.5">P-Flag:</dt>
                  <dd pn="section-2.1-8.1.1.6.4.6">No-PHP 
(No Penultimate Hop-Popping) Flag. If set, then the penultimate hop <bcp14>MUST NOT</bcp14> pop the Prefix-SID before delivering the packet to the
                node that advertised the Prefix-SID.</dd>
                  <dt pn="section-2.1-8.1.1.6.4.7">E-Flag:</dt>
                  <dd pn="section-2.1-8.1.1.6.4.8">Explicit NULL Flag. If set, any upstream neighbor
                of the Prefix-SID originator <bcp14>MUST</bcp14> replace the Prefix-SID with
              a Prefix-SID that has an Explicit NULL value (0 for IPv4 and 2
                for IPv6) before forwarding the packet.</dd>
                  <dt pn="section-2.1-8.1.1.6.4.9">V-Flag:</dt>
                  <dd pn="section-2.1-8.1.1.6.4.10">Value Flag. If set, then the Prefix-SID carries a
                value (instead of an index). By default, the flag is UNSET.</dd>
                  <dt pn="section-2.1-8.1.1.6.4.11">L-Flag:</dt>
                  <dd pn="section-2.1-8.1.1.6.4.12">Local Flag. If set, then the value/index carried by
                the Prefix-SID has local significance. By default, the flag is
                UNSET.</dd>
                  <dt pn="section-2.1-8.1.1.6.4.13">Other bits:</dt>
                  <dd pn="section-2.1-8.1.1.6.4.14">
                    <bcp14>MUST</bcp14> be zero when originated and ignored when
                received.</dd>
                </dl>
              </dd>
            </dl>
          </li>
        </ul>
        <ul empty="true" bare="false" spacing="normal" pn="section-2.1-9">
          <li pn="section-2.1-9.1">
            <dl newline="false" spacing="normal" pn="section-2.1-9.1.1">
              <dt pn="section-2.1-9.1.1.1">Algorithm:</dt>
              <dd pn="section-2.1-9.1.1.2">the router may use various algorithms when
            calculating reachability to other nodes or to prefixes attached to
            these nodes. Algorithm identifiers are defined in <xref target="SRALGOSUBTLV" format="default" sectionFormat="of" derivedContent="Section 3.2"/>. Examples of these algorithms are metric-based
            Shortest Path First (SPF), various sorts of Constrained SPF,
            etc. The Algorithm field of the Prefix-SID contains the identifier
            of the algorithm the router uses to compute the reachability of
            the prefix to which the Prefix-SID is associated.</dd>
            </dl>
          </li>
        </ul>
        <ul empty="true" bare="false" spacing="normal" pn="section-2.1-10">
          <li pn="section-2.1-10.1">
          At origination, the Prefix-SID Algorithm field <bcp14>MUST</bcp14> be set to 0
            or to any value advertised in the SR-Algorithm sub-TLV (see <xref target="SRALGOSUBTLV" format="default" sectionFormat="of" derivedContent="Section 3.2"/>).</li>
          <li pn="section-2.1-10.2">A router receiving a Prefix-SID from a remote node and with an
            algorithm value that such remote node has not advertised in the
            SR-Algorithm sub-TLV (see <xref target="SRALGOSUBTLV" format="default" sectionFormat="of" derivedContent="Section 3.2"/>) <bcp14>MUST</bcp14> ignore
            the Prefix-SID sub-TLV.</li>
          <li pn="section-2.1-10.3">SID/Index/Label as defined in <xref target="VANDLFLAGS" format="default" sectionFormat="of" derivedContent="Section 2.1.1.1"/>.</li>
        </ul>
        <t pn="section-2.1-11">When the Prefix-SID is an index (and the V-Flag is not set), the value
        is used to determine the actual label value inside the set of all
        advertised label ranges of a given router. This allows a receiving
        router to construct the forwarding state to a particular destination
        router.</t>
        <t pn="section-2.1-12">In many use cases, a 'stable transport' address is overloaded as an
        identifier of a given node. Because Prefixes may be re-advertised into
        other levels, there may be some ambiguity (e.g., originating router vs. L1L2 router) for which node a particular IP prefix serves as the
        identifier. The Prefix-SID sub-TLV contains the necessary flags to
        disambiguate Prefix-to-node mappings. Furthermore, if a given node has
        several 'stable transport' addresses, there are flags to differentiate
        those among other Prefixes advertised from a given node.</t>
        <section anchor="FLAGS" numbered="true" toc="include" removeInRFC="false" pn="section-2.1.1">
          <name slugifiedName="name-flags">Flags</name>
          <section anchor="VANDLFLAGS" numbered="true" toc="exclude" removeInRFC="false" pn="section-2.1.1.1">
            <name slugifiedName="name-v-flag-and-l-flag">V-Flag and L-Flag</name>
            <t pn="section-2.1.1.1-1">The V-Flag indicates whether the SID/Index/Label field is a
            value or an index.</t>
            <t pn="section-2.1.1.1-2">The L-Flag indicates whether the value/index in the
            SID/Index/Label field has local or global significance.</t>
            <t pn="section-2.1.1.1-3">The following settings for V-Flag and L-Flag are valid:</t>
            <ul empty="true" bare="false" spacing="normal" pn="section-2.1.1.1-4">
              <li pn="section-2.1.1.1-4.1">
                <dl newline="false" spacing="normal" pn="section-2.1.1.1-4.1.1">
                  <dt pn="section-2.1.1.1-4.1.1.1">The V-Flag and L-Flag are set to 0:</dt>
                  <dd pn="section-2.1.1.1-4.1.1.2">The SID/Index/Label
            field is a 4-octet index defining the offset in the SID/Label
            space advertised by this router using the encodings defined in
            <xref target="SRCAPSUBTLV" format="default" sectionFormat="of" derivedContent="Section 3.1"/>.</dd>
                  <dt pn="section-2.1.1.1-4.1.1.3">The V-Flag and L-Flag are set to 1:</dt>
                  <dd pn="section-2.1.1.1-4.1.1.4">The SID/Index/Label
            field is a 3-octet local label where the 20 rightmost bits are
            used for encoding the label value.</dd>
                </dl>
              </li>
            </ul>
            <t pn="section-2.1.1.1-5">All other combinations of V-Flag and L-Flag are invalid, and any
            SID advertisement received with an invalid setting for the V-Flag and
            L-Flag <bcp14>MUST</bcp14> be ignored.</t>
          </section>
          <section anchor="RANDNFLAGS" numbered="true" toc="exclude" removeInRFC="false" pn="section-2.1.1.2">
            <name slugifiedName="name-r-flag-and-n-flag">R-Flag and N-Flag</name>
            <t pn="section-2.1.1.2-1">The R-Flag <bcp14>MUST</bcp14> be set for prefixes that are not local to the
            router and are advertised because of:</t>
            <ul empty="true" bare="false" spacing="normal" pn="section-2.1.1.2-2">
              <li pn="section-2.1.1.2-2.1">propagation (Level-1 into Level-2);</li>
              <li pn="section-2.1.1.2-2.2">leaking (Level-2 into Level-1); or</li>
              <li pn="section-2.1.1.2-2.3">redistribution (e.g., from another protocol).</li>
            </ul>
            <t pn="section-2.1.1.2-3">In the case where a Level-1-2 router has local interface
            addresses configured in one level, it may also propagate these
            addresses into the other level. In such case, the Level-1-2 router
            <bcp14>MUST NOT</bcp14> set the R bit.</t>
            <t pn="section-2.1.1.2-4">The N-Flag is used in order to define a Node-SID. A router <bcp14>MAY</bcp14>
            set the N-Flag only if all of the following conditions are
            met:</t>
            <ul empty="true" bare="false" spacing="normal" pn="section-2.1.1.2-5">
              <li pn="section-2.1.1.2-5.1">The prefix to which the Prefix-SID is attached is local to
                the router (i.e., the prefix is configured on one of the local
                interfaces, e.g., a 'stable transport' loopback).</li>
              <li pn="section-2.1.1.2-5.2">The prefix to which the Prefix-SID is attached has a Prefix
                length of either /32 (IPv4) or /128 (IPv6).</li>
            </ul>
            <t pn="section-2.1.1.2-6">The router <bcp14>MUST</bcp14> ignore the N-Flag on a received Prefix-SID if
            the prefix has a Prefix length different than /32 (IPv4) or /128
            (IPv6).</t>
            <t pn="section-2.1.1.2-7">The Prefix Attribute Flags sub-TLV <xref target="RFC7794" format="default" sectionFormat="of" derivedContent="RFC7794"/>
            also defines the N-Flag and R-Flag and with the same semantics of the
            equivalent flags defined in this document. Whenever the Prefix
            Attribute Flags sub-TLV is present for a given prefix, the values
            of the N-Flag and R-Flag advertised in that sub-TLV <bcp14>MUST</bcp14> be used, and
            the values in a corresponding Prefix-SID sub-TLV (if present) <bcp14>MUST</bcp14>
            be ignored.</t>
          </section>
          <section anchor="EANDPFLAGS" numbered="true" toc="exclude" removeInRFC="false" pn="section-2.1.1.3">
            <name slugifiedName="name-e-flag-and-p-flag">E-Flag and P-Flag</name>
            <t pn="section-2.1.1.3-1">The following behavior is associated with the settings of the E-Flag
            and P-Flag:</t>
            <ul spacing="normal" bare="false" empty="false" pn="section-2.1.1.3-2">
              <li pn="section-2.1.1.3-2.1">If the P-Flag is not set, then any upstream neighbor of the
                Prefix-SID originator <bcp14>MUST</bcp14> pop the Prefix-SID. This is
                equivalent to the "penultimate hop-popping" mechanism used in
                the MPLS data plane, which improves performance of the ultimate
                hop. MPLS EXP bits of the Prefix-SID are not preserved to the
                ultimate hop (the Prefix-SID being removed). If the P-Flag is
                unset, the received E-Flag is ignored.</li>
              <li pn="section-2.1.1.3-2.2">
                <t pn="section-2.1.1.3-2.2.1">If the P-Flag is set, then:</t>
                <ul spacing="normal" bare="false" empty="false" pn="section-2.1.1.3-2.2.2">
                  <li pn="section-2.1.1.3-2.2.2.1">If the E-Flag is not set, then any upstream neighbor of
                    the Prefix-SID originator <bcp14>MUST</bcp14> keep the Prefix-SID on top
                    of the stack. This is useful when, e.g., the originator of
                    the Prefix-SID must stitch the incoming packet into a
                    continuing MPLS LSP to the final destination. This could
                    occur at an inter-area border router (prefix propagation
                    from one area to another) or at an interdomain border
                    router (prefix propagation from one domain to
                    another).</li>
                  <li pn="section-2.1.1.3-2.2.2.2">If the E-Flag is set, then any upstream neighbor of the
                    Prefix-SID originator <bcp14>MUST</bcp14> replace the Prefix-SID with a
                    Prefix-SID having an Explicit NULL value. This is useful,
                    e.g., when the originator of the Prefix-SID is the final
                    destination for the related prefix and the originator
                    wishes to receive the packet with the original EXP
                    bits.</li>
                </ul>
              </li>
            </ul>
            <t pn="section-2.1.1.3-3">When propagating (from either Level-1 to Level-2 or Level-2 to Level-1)
            a reachability advertisement originated by another IS-IS speaker,
            the router <bcp14>MUST</bcp14> set the P-Flag and <bcp14>MUST</bcp14> clear the E-Flag of the
            related Prefix-SIDs.</t>
          </section>
        </section>
        <section anchor="PROPAGATION" numbered="true" toc="include" removeInRFC="false" pn="section-2.1.2">
          <name slugifiedName="name-prefix-sid-propagation">Prefix-SID Propagation</name>
          <t pn="section-2.1.2-1">The Prefix-SID sub-TLV <bcp14>MUST</bcp14> be included when the associated
          Prefix Reachability TLV is propagated across level boundaries.</t>
          <t pn="section-2.1.2-2">The Level-1-2 router that propagates the Prefix-SID sub-TLV
          between levels maintains the content (flags and SID), except as noted
          in Sections <xref target="RANDNFLAGS" format="counter" sectionFormat="of" derivedContent="2.1.1.2"/> and <xref target="EANDPFLAGS" format="counter" sectionFormat="of" derivedContent="2.1.1.3"/>.</t>
        </section>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-2.2">
        <name slugifiedName="name-adjacency-segment-identifie">Adjacency Segment Identifier</name>
        <t pn="section-2.2-1">A new IS-IS sub-TLV is defined: the Adjacency Segment Identifier (Adj-SID)
        sub-TLV.</t>
        <t pn="section-2.2-2">The Adj-SID sub-TLV is an optional sub-TLV carrying the Segment
        Routing IGP-Adjacency-SID as defined in <xref target="RFC8402" format="default" sectionFormat="of" derivedContent="RFC8402"/> with
        flags and fields that may be used, in future extensions of Segment
        Routing, for carrying other types of SIDs.</t>
        <t pn="section-2.2-3">IS-IS adjacencies are advertised using one of the IS Neighbor TLVs
        below:</t>
        <ul empty="true" bare="false" spacing="normal" pn="section-2.2-4">
          <li pn="section-2.2-4.1">TLV-22 (Extended IS reachability) <xref target="RFC5305" format="default" sectionFormat="of" derivedContent="RFC5305"/></li>
          <li pn="section-2.2-4.2">TLV-222 (MT-ISN) <xref target="RFC5120" format="default" sectionFormat="of" derivedContent="RFC5120"/></li>
          <li pn="section-2.2-4.3">TLV-23 (IS Neighbor Attribute) <xref target="RFC5311" format="default" sectionFormat="of" derivedContent="RFC5311"/></li>
          <li pn="section-2.2-4.4">TLV-223 (MT IS Neighbor Attribute) <xref target="RFC5311" format="default" sectionFormat="of" derivedContent="RFC5311"/></li>
          <li pn="section-2.2-4.5">TLV-141 (inter-AS reachability information) <xref target="RFC5316" format="default" sectionFormat="of" derivedContent="RFC5316"/></li>
        </ul>
        <t pn="section-2.2-5">Multiple Adj-SID sub-TLVs <bcp14>MAY</bcp14> be associated with a single
        IS Neighbor.</t>
        <section anchor="ADJSIDSUBTLV" numbered="true" toc="include" removeInRFC="false" pn="section-2.2.1">
          <name slugifiedName="name-adjacency-segment-identifier">Adjacency Segment Identifier (Adj-SID) Sub-TLV</name>
          <t pn="section-2.2.1-1">The following format is defined for the Adj-SID sub-TLV:</t>
          <artwork name="" type="" align="left" alt="" pn="section-2.2.1-2">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Type        |     Length    |     Flags     |     Weight    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                         SID/Label/Index (variable)            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</artwork>
          <t pn="section-2.2.1-3">where:</t>
          <ul empty="true" bare="false" spacing="normal" pn="section-2.2.1-4">
            <li pn="section-2.2.1-4.1">
              <dl newline="false" spacing="normal" indent="9" pn="section-2.2.1-4.1.1">
                <dt pn="section-2.2.1-4.1.1.1">Type:</dt>
                <dd pn="section-2.2.1-4.1.1.2">31</dd>
                <dt pn="section-2.2.1-4.1.1.3">Length:</dt>
                <dd pn="section-2.2.1-4.1.1.4">5 or 6 depending on size of the SID</dd>
                <dt pn="section-2.2.1-4.1.1.5">Flags:</dt>
                <dd pn="section-2.2.1-4.1.1.6">
                  <t pn="section-2.2.1-4.1.1.6.1">1-octet field of the following flags:</t>
                  <artwork name="" type="" align="left" alt="" pn="section-2.2.1-4.1.1.6.2">       0 1 2 3 4 5 6 7 
      +-+-+-+-+-+-+-+-+
      |F|B|V|L|S|P|   | 
      +-+-+-+-+-+-+-+-+</artwork>
                  <t pn="section-2.2.1-4.1.1.6.3"> where: </t>
                  <dl newline="false" spacing="normal" indent="9" pn="section-2.2.1-4.1.1.6.4">
                    <dt pn="section-2.2.1-4.1.1.6.4.1">F-Flag:</dt>
                    <dd pn="section-2.2.1-4.1.1.6.4.2">Address-Family Flag. If unset, then the Adj-SID
                  is used when forwarding IPv4-encapsulated traffic to the
                  neighbor. If set, then the Adj-SID is used when forwarding
                  IPv6-encapsulated traffic to the neighbor.</dd>
                    <dt pn="section-2.2.1-4.1.1.6.4.3">B-Flag:</dt>
                    <dd pn="section-2.2.1-4.1.1.6.4.4">Backup Flag. If set, the Adj-SID is eligible for
                  protection (e.g., using IP Fast Reroute (IPFRR) or MPLS Fast Reroute (MPLS-FRR)) as described in
                  <xref target="RFC8402" format="default" sectionFormat="of" derivedContent="RFC8402"/>.</dd>
                    <dt pn="section-2.2.1-4.1.1.6.4.5">V-Flag:</dt>
                    <dd pn="section-2.2.1-4.1.1.6.4.6">Value Flag. If set, then the Adj-SID carries a
                  value. By default, the flag is SET.</dd>
                    <dt pn="section-2.2.1-4.1.1.6.4.7">L-Flag:</dt>
                    <dd pn="section-2.2.1-4.1.1.6.4.8">Local Flag. If set, then the value/index carried
                  by the Adj-SID has local significance. By default, the flag
                  is SET.</dd>
                    <dt pn="section-2.2.1-4.1.1.6.4.9">S-Flag:</dt>
                    <dd pn="section-2.2.1-4.1.1.6.4.10">Set Flag. When set, the S-Flag indicates that the
                  Adj-SID refers to a set of adjacencies (and therefore <bcp14>MAY</bcp14> be
                  assigned to other adjacencies as well).</dd>
                    <dt pn="section-2.2.1-4.1.1.6.4.11">P-Flag:</dt>
                    <dd pn="section-2.2.1-4.1.1.6.4.12">Persistent Flag. When set, the P-Flag indicates
                  that the Adj-SID is persistently allocated, i.e., the
                  Adj-SID value remains consistent across router restart
                  and/or interface flap.</dd>
                    <dt pn="section-2.2.1-4.1.1.6.4.13">Other bits:</dt>
                    <dd pn="section-2.2.1-4.1.1.6.4.14">
                      <bcp14>MUST</bcp14> be zero when originated and ignored when
                  received.</dd>
                  </dl>
                </dd>
              </dl>
            </li>
          </ul>
          <ul empty="true" bare="false" spacing="normal" pn="section-2.2.1-5">
            <li pn="section-2.2.1-5.1">
              <dl newline="false" spacing="normal" indent="9" pn="section-2.2.1-5.1.1">
                <dt pn="section-2.2.1-5.1.1.1">Weight:</dt>
                <dd pn="section-2.2.1-5.1.1.2">1 octet. The value represents the weight of the
              Adj-SID for the purpose of load balancing. The use of the weight
              is defined in <xref target="RFC8402" format="default" sectionFormat="of" derivedContent="RFC8402"/>.</dd>
              </dl>
            </li>
          </ul>
          <ul empty="true" bare="false" spacing="normal" pn="section-2.2.1-6">
            <li pn="section-2.2.1-6.1">SID/Index/Label as defined in <xref target="VANDLFLAGS" format="default" sectionFormat="of" derivedContent="Section 2.1.1.1"/>.</li>
            <li pn="section-2.2.1-6.2">An SR-capable router <bcp14>MAY</bcp14> allocate an Adj-SID for each of its
              adjacencies.</li>
            <li pn="section-2.2.1-6.3">An SR-capable router <bcp14>MAY</bcp14> allocate more than one Adj-SID to an
              adjacency.</li>
            <li pn="section-2.2.1-6.4">An SR-capable router <bcp14>MAY</bcp14> allocate the same Adj-SID to
              different adjacencies.</li>
            <li pn="section-2.2.1-6.5">When the P-Flag is not set, the Adj-SID <bcp14>MAY</bcp14> be persistent.
              When the P-Flag is set, the Adj-SID <bcp14>MUST</bcp14> be persistent.</li>
            <li pn="section-2.2.1-6.6">Examples of Adj-SID sub-TLV use are described in <xref target="RFC8402" format="default" sectionFormat="of" derivedContent="RFC8402"/>.</li>
            <li pn="section-2.2.1-6.7">The F-Flag is used in order for the router to advertise the
              outgoing encapsulation of the adjacency the Adj-SID is attached
              to.</li>
          </ul>
        </section>
        <section anchor="LANADJSIDSUBTLV" numbered="true" toc="include" removeInRFC="false" pn="section-2.2.2">
          <name slugifiedName="name-adjacency-segment-identifier-">Adjacency Segment Identifier (LAN-Adj-SID) Sub-TLV</name>
          <t pn="section-2.2.2-1">In LAN subnetworks, the Designated Intermediate System (DIS) is
          elected and originates the Pseudonode LSP (PN LSP) including all
          neighbors of the DIS.</t>
          <t pn="section-2.2.2-2">When Segment Routing is used, each router in the LAN <bcp14>MAY</bcp14>
          advertise the Adj-SID of each of its neighbors. Since, on LANs, each
          router only advertises one adjacency to the DIS (and doesn't
          advertise any other adjacency), each router advertises the set of
          Adj-SIDs (for each of its neighbors) inside a newly defined sub-TLV
          that is a part of the TLV advertising the adjacency to the DIS (e.g.,
          TLV-22).</t>
          <t pn="section-2.2.2-3">The following new sub-TLV is defined: LAN Adjacency Segment Identifier (LAN-Adj-SID) containing the
          set of Adj-SIDs the router assigned to each of its LAN
          neighbors.</t>
          <t pn="section-2.2.2-4">The format of the LAN-Adj-SID sub-TLV is as follows:</t>
          <artwork name="" type="" align="left" alt="" pn="section-2.2.2-5">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Type        |     Length    |      Flags    |    Weight     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                  Neighbor System-ID (ID length octets)        |
+                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                               | 
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                   SID/Label/Index (variable)                  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</artwork>
          <t pn="section-2.2.2-6">where:</t>
          <ul empty="true" bare="false" spacing="normal" pn="section-2.2.2-7">
            <li pn="section-2.2.2-7.1">
              <dl newline="false" spacing="normal" indent="9" pn="section-2.2.2-7.1.1">
                <dt pn="section-2.2.2-7.1.1.1">Type:</dt>
                <dd pn="section-2.2.2-7.1.1.2">32</dd>
                <dt pn="section-2.2.2-7.1.1.3">Length:</dt>
                <dd pn="section-2.2.2-7.1.1.4">Variable</dd>
                <dt pn="section-2.2.2-7.1.1.5">Flags:</dt>
                <dd pn="section-2.2.2-7.1.1.6">
                  <t pn="section-2.2.2-7.1.1.6.1"> 1-octet field of the following flags:</t>
                  <artwork name="" type="" align="left" alt="" pn="section-2.2.2-7.1.1.6.2">       0 1 2 3 4 5 6 7 
      +-+-+-+-+-+-+-+-+
      |F|B|V|L|S|P|   | 
      +-+-+-+-+-+-+-+-+</artwork>
                  <t pn="section-2.2.2-7.1.1.6.3"> where the F-Flag, B-Flag, V-Flag, L-Flag, S-Flag, and P-Flag are defined in <xref target="ADJSIDSUBTLV" format="default" sectionFormat="of" derivedContent="Section 2.2.1"/>. </t>
                </dd>
              </dl>
            </li>
          </ul>
          <ul empty="true" bare="false" spacing="normal" pn="section-2.2.2-8">
            <li pn="section-2.2.2-8.1">
              <dl newline="false" spacing="normal" indent="13" pn="section-2.2.2-8.1.1">
                <dt pn="section-2.2.2-8.1.1.1">Other bits:</dt>
                <dd pn="section-2.2.2-8.1.1.2">
                  <bcp14>MUST</bcp14> be zero when
              originated and ignored when received.</dd>
                <dt pn="section-2.2.2-8.1.1.3">Weight:</dt>
                <dd pn="section-2.2.2-8.1.1.4">1 octet. The value represents the weight of the
              Adj-SID for the purpose of load balancing. The use of the weight
              is defined in <xref target="RFC8402" format="default" sectionFormat="of" derivedContent="RFC8402"/>.</dd>
                <dt pn="section-2.2.2-8.1.1.5">Neighbor System-ID:</dt>
                <dd pn="section-2.2.2-8.1.1.6">IS-IS System-ID of length "ID Length" as
              defined in <xref target="ISO10589" format="default" sectionFormat="of" derivedContent="ISO10589"/>.</dd>
                <dt pn="section-2.2.2-8.1.1.7">SID/Index/Label:</dt>
                <dd pn="section-2.2.2-8.1.1.8">As defined in <xref target="VANDLFLAGS" format="default" sectionFormat="of" derivedContent="Section 2.1.1.1"/>.</dd>
              </dl>
            </li>
          </ul>
          <t pn="section-2.2.2-9">Multiple LAN-Adj-SID sub-TLVs <bcp14>MAY</bcp14> be encoded.</t>
          <t pn="section-2.2.2-10">Note that this sub-TLV <bcp14>MUST NOT</bcp14> appear in TLV 141.</t>
          <t pn="section-2.2.2-11">In case TLV-22, TLV-23, TLV-222, or TLV-223 (reporting the adjacency to the
          DIS) can't contain the whole set of LAN-Adj-SID sub-TLVs, multiple
          advertisements of the adjacency to the DIS <bcp14>MUST</bcp14> be used, and all
          advertisements <bcp14>MUST</bcp14> have the same metric.</t>
          <t pn="section-2.2.2-12">Each router within the level, by receiving the DIS PN LSP as well
          as the non-PN LSP of each router in the LAN, is capable of
          reconstructing the LAN topology as well as the set of Adj-SIDs each
          router uses for each of its neighbors.</t>
        </section>
      </section>
      <section anchor="SIDLABELSUBTLV" numbered="true" toc="include" removeInRFC="false" pn="section-2.3">
        <name slugifiedName="name-sid-label-sub-tlv">SID/Label Sub-TLV</name>
        <t pn="section-2.3-1">The SID/Label sub-TLV may be present in the following TLVs/sub-TLVs
        defined in this document:</t>
        <ul empty="true" bare="false" spacing="normal" pn="section-2.3-2">
          <li pn="section-2.3-2.1">SR-Capabilities sub-TLV (<xref target="SRCAPSUBTLV" format="default" sectionFormat="of" derivedContent="Section 3.1"/>)</li>
          <li pn="section-2.3-2.2">SR Local Block sub-TLV (<xref target="SRLBSUBTLV" format="default" sectionFormat="of" derivedContent="Section 3.3"/>)</li>
          <li pn="section-2.3-2.3">SID/Label Binding TLV (<xref target="BINDINGTLV" format="default" sectionFormat="of" derivedContent="Section 2.4"/>)</li>
          <li pn="section-2.3-2.4">Multi-Topology SID/Label Binding TLV (<xref target="MTBINDINGTLV" format="default" sectionFormat="of" derivedContent="Section 2.5"/>)</li>
        </ul>
        <t pn="section-2.3-3">Note that the codepoint used in all of the above cases is the
        SID/Label sub-TLV codepoint specified in the new "sub-TLVs for
        TLV 149 and 150" registry created by this document.</t>
        <t pn="section-2.3-4">The SID/Label sub-TLV contains a SID or an MPLS label. The SID/Label
        sub-TLV has the following format: </t>
        <artwork name="" type="" align="left" alt="" pn="section-2.3-5">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Type        |     Length    |  
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                          SID/Label (variable)                 |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</artwork>
        <t pn="section-2.3-6">where:</t>
        <ul empty="true" bare="false" spacing="normal" pn="section-2.3-7">
          <li pn="section-2.3-7.1">
            <dl newline="false" spacing="normal" indent="12" pn="section-2.3-7.1.1">
              <dt pn="section-2.3-7.1.1.1">Type:</dt>
              <dd pn="section-2.3-7.1.1.2">1</dd>
              <dt pn="section-2.3-7.1.1.3">Length:</dt>
              <dd pn="section-2.3-7.1.1.4">3 or 4</dd>
              <dt pn="section-2.3-7.1.1.5">SID/Label:</dt>
              <dd pn="section-2.3-7.1.1.6">If the length is set to 3, then the 20 rightmost bits
            represent an MPLS label. If the length is set to 4, then the value is a
            32-bit index.</dd>
            </dl>
          </li>
        </ul>
      </section>
      <section anchor="BINDINGTLV" numbered="true" toc="include" removeInRFC="false" pn="section-2.4">
        <name slugifiedName="name-sid-label-binding-tlv">SID/Label Binding TLV</name>
        <t pn="section-2.4-1">The SID/Label Binding TLV <bcp14>MAY</bcp14> be originated by any router in an
        IS-IS domain. There are multiple uses of the SID/Label Binding
        TLV.</t>
        <t pn="section-2.4-2">The SID/Label Binding TLV may be used to advertise prefixes to
        SID/Label mappings. This functionality is called the Segment Routing
        Mapping Server (SRMS). The behavior of the SRMS is defined in <xref target="RFC8661" format="default" sectionFormat="of" derivedContent="RFC8661"/>.</t>
        <t pn="section-2.4-3">The SID/Label Binding TLV may also be used to advertise a Mirror
        SID indicating the ability of a node to process traffic originally destined to
        another IGP node. This behavior is defined in <xref target="RFC8402" format="default" sectionFormat="of" derivedContent="RFC8402"/>.</t>
        <t pn="section-2.4-4">The SID/Label Binding TLV has the following format:</t>
        <artwork name="" type="" align="left" alt="" pn="section-2.4-5">
   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |      Type     |     Length    |     Flags     |     RESERVED  |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |            Range              | Prefix Length |     Prefix    |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //               Prefix (continued, variable)                  //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                    Sub-TLVs (variable)                        |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</artwork>
        <t pn="section-2.4-6">where:</t>
        <ul empty="true" bare="false" spacing="normal" pn="section-2.4-7">
          <li pn="section-2.4-7.1">
            <dl newline="false" spacing="normal" indent="12" pn="section-2.4-7.1.1">
              <dt pn="section-2.4-7.1.1.1">Type:</dt>
              <dd pn="section-2.4-7.1.1.2">149</dd>
              <dt pn="section-2.4-7.1.1.3">Length:</dt>
              <dd pn="section-2.4-7.1.1.4">Variable</dd>
              <dt pn="section-2.4-7.1.1.5">Flags:</dt>
              <dd pn="section-2.4-7.1.1.6">1 octet</dd>
              <dt pn="section-2.4-7.1.1.7">RESERVED:</dt>
              <dd pn="section-2.4-7.1.1.8">1 octet (<bcp14>SHOULD</bcp14> be transmitted as 0 and <bcp14>MUST</bcp14> be
            ignored on receipt)</dd>
              <dt pn="section-2.4-7.1.1.9">Range:</dt>
              <dd pn="section-2.4-7.1.1.10">2 octets</dd>
              <dt pn="section-2.4-7.1.1.11">Prefix Length:</dt>
              <dd pn="section-2.4-7.1.1.12">1 octet</dd>
              <dt pn="section-2.4-7.1.1.13">Prefix:</dt>
              <dd pn="section-2.4-7.1.1.14">0-16 octets</dd>
            </dl>
            <t pn="section-2.4-7.1.2">sub-TLVs, where each sub-TLV consists of a sequence of:</t>
            <ul spacing="normal" bare="false" empty="false" pn="section-2.4-7.1.3">
              <li pn="section-2.4-7.1.3.1">1 octet of sub-TLV type</li>
              <li pn="section-2.4-7.1.3.2">1 octet of length of the value field of the sub-TLV</li>
              <li pn="section-2.4-7.1.3.3">0-243 octets of value</li>
            </ul>
          </li>
        </ul>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-2.4.1">
          <name slugifiedName="name-flags-2">Flags</name>
          <t pn="section-2.4.1-1">Flags: 1-octet field of the following flags:</t>
          <artwork name="" type="" align="left" alt="" pn="section-2.4.1-2">
 0 1 2 3 4 5 6 7 
+-+-+-+-+-+-+-+-+
|F|M|S|D|A|     | 
+-+-+-+-+-+-+-+-+</artwork>
          <t pn="section-2.4.1-3"> where: </t>
          <ul empty="true" bare="false" spacing="normal" pn="section-2.4.1-4">
            <li pn="section-2.4.1-4.1">
              <dl newline="false" spacing="normal" indent="9" pn="section-2.4.1-4.1.1">
                <dt pn="section-2.4.1-4.1.1.1">F-Flag:</dt>
                <dd pn="section-2.4.1-4.1.1.2">Address-Family Flag. If unset, then the prefix
              carries an IPv4 prefix. If set, then the prefix carries an IPv6
              prefix.</dd>
                <dt pn="section-2.4.1-4.1.1.3">M-Flag:</dt>
                <dd pn="section-2.4.1-4.1.1.4">Mirror Context Flag. Set if the advertised SID
              corresponds to a mirrored context. The use of a mirrored context
              is described in <xref target="RFC8402" format="default" sectionFormat="of" derivedContent="RFC8402"/>.</dd>
                <dt pn="section-2.4.1-4.1.1.5">S-Flag:</dt>
                <dd pn="section-2.4.1-4.1.1.6">If set, the SID/Label Binding TLV <bcp14>SHOULD</bcp14> be flooded
              across the entire routing domain. If the S-Flag is not set, the
              SID/Label Binding TLV <bcp14>MUST NOT</bcp14> be leaked between levels. This
              bit <bcp14>MUST NOT</bcp14> be altered during the TLV leaking.</dd>
                <dt pn="section-2.4.1-4.1.1.7">D-Flag:</dt>
                <dd pn="section-2.4.1-4.1.1.8">When the SID/Label Binding TLV is leaked from Level-2
              to Level-1, the D-Flag <bcp14>MUST</bcp14> be set. Otherwise, this flag <bcp14>MUST</bcp14> be
              clear. SID/Label Binding TLVs with the D-Flag set <bcp14>MUST NOT</bcp14> be
              leaked from Level-1 to Level-2. This is to prevent TLV looping
              across levels.</dd>
                <dt pn="section-2.4.1-4.1.1.9">A-Flag:</dt>
                <dd pn="section-2.4.1-4.1.1.10">Attached Flag. The originator of the SID/Label
              Binding TLV <bcp14>MAY</bcp14> set the A bit in order to signal that the
              prefixes and SIDs advertised in the SID/Label Binding TLV are
              directly connected to their originators. The mechanisms through
              which the originator of the SID/Label Binding TLV can figure out
              if a prefix is attached or not are outside the scope of this
              document (e.g., through explicit configuration). If the Binding
              TLV is leaked to other areas/levels, the A-Flag <bcp14>MUST</bcp14> be
              cleared.</dd>
              </dl>
            </li>
          </ul>
          <ul empty="true" bare="false" spacing="normal" pn="section-2.4.1-5">
            <li pn="section-2.4.1-5.1">An implementation may decide not to honor the S-Flag in order
              to not leak Binding TLVs between levels (for policy
              reasons).</li>
          </ul>
          <ul empty="true" bare="false" spacing="normal" pn="section-2.4.1-6">
            <li pn="section-2.4.1-6.1">
              <dl newline="false" spacing="normal" pn="section-2.4.1-6.1.1">
                <dt pn="section-2.4.1-6.1.1.1">Other bits:</dt>
                <dd pn="section-2.4.1-6.1.1.2">
                  <bcp14>MUST</bcp14> be zero when originated and ignored when
              received.</dd>
              </dl>
            </li>
          </ul>
        </section>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-2.4.2">
          <name slugifiedName="name-range">Range</name>
          <t pn="section-2.4.2-1">The 'Range' field provides the ability to specify a range of
          addresses and their associated Prefix-SIDs. This advertisement
          supports the SRMS functionality. It is essentially a compression
          scheme to distribute a continuous prefix and their continuous,
          corresponding SID/Label Block. If a single SID is advertised, then
          the Range field <bcp14>MUST</bcp14> be set to one. For range advertisements &gt; 1,
          the Range field <bcp14>MUST</bcp14> be set to the number of addresses that need to
          be mapped into a Prefix-SID. In either case, the prefix is the first
          address to which a SID is to be assigned.</t>
        </section>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-2.4.3">
          <name slugifiedName="name-prefix-length-prefix">Prefix Length, Prefix</name>
          <t pn="section-2.4.3-1">The 'Prefix' represents the Forwarding Equivalence Class at the
          tail end of the advertised path. The 'Prefix' does not need to
          correspond to a routable prefix of the originating node.</t>
          <t pn="section-2.4.3-2">The 'Prefix Length' field contains the length of the prefix in
          bits. Only the most significant octets of the prefix are encoded
          (i.e., 1 octet for prefix length 1 up to 8, 2 octets for prefix
          length 9 to up 16, 3 octets for prefix length 17 up to 24, 4 octets
          for prefix length 25 up to 32, ...., and 16 octets for prefix length 113
          up to 128).</t>
        </section>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-2.4.4">
          <name slugifiedName="name-mapping-server-prefix-sid">Mapping Server Prefix-SID</name>
          <t pn="section-2.4.4-1">The Prefix-SID sub-TLV is defined in <xref target="PREFIXSIDSUBTLV" format="default" sectionFormat="of" derivedContent="Section 2.1"/> and contains the SID/Index/Label value
          associated with the prefix and range. The Prefix-SID sub-TLV <bcp14>MUST</bcp14> be
          present in the SID/Label Binding TLV when the M-Flag is clear. The
          Prefix-SID sub-TLV <bcp14>MUST NOT</bcp14> be present when the M-Flag is set.</t>
          <section numbered="true" toc="exclude" removeInRFC="false" pn="section-2.4.4.1">
            <name slugifiedName="name-prefix-sid-flags">Prefix-SID Flags</name>
            <t pn="section-2.4.4.1-1">The Prefix-SID Flags are defined in <xref target="PREFIXSIDSUBTLV" format="default" sectionFormat="of" derivedContent="Section 2.1"/>. The Mapping Server <bcp14>MAY</bcp14> advertise a
            mapping with the N-Flag set when the prefix being mapped is known
            in the link-state topology with a mask length of 32 (IPv4) or 128
            (IPv6) and when the prefix represents a node. The mechanisms
            through which the operator defines that a prefix represents a node
            are outside the scope of this document (typically it will be
            through configuration).</t>
            <t pn="section-2.4.4.1-2">The other flags defined in <xref target="PREFIXSIDSUBTLV" format="default" sectionFormat="of" derivedContent="Section 2.1"/> are
            not used by the Mapping Server and <bcp14>MUST</bcp14> be ignored at
            reception.</t>
          </section>
          <section anchor="MSPHP" numbered="true" toc="exclude" removeInRFC="false" pn="section-2.4.4.2">
            <name slugifiedName="name-php-behavior-when-using-map">PHP Behavior when Using Mapping Server Advertisements</name>
            <t pn="section-2.4.4.2-1">As the Mapping Server does not specify the originator of a
            prefix advertisement, it is not possible to determine PHP behavior
            solely based on the Mapping Server Advertisement. However, if
            additional information is available, PHP behavior may safely be
            done. The required information consists of:</t>
            <ul spacing="normal" bare="false" empty="false" pn="section-2.4.4.2-2">
              <li pn="section-2.4.4.2-2.1">A prefix reachability advertisement for the prefix has been
                received, which includes the Prefix Attribute Flags sub-TLV
                <xref target="RFC7794" format="default" sectionFormat="of" derivedContent="RFC7794"/>.</li>
              <li pn="section-2.4.4.2-2.2">X-Flag and R-Flag are both set to 0 in the Prefix Attribute
                Flags sub-TLV.</li>
            </ul>
            <t pn="section-2.4.4.2-3">In the absence of a Prefix Attribute Flags sub-TLV <xref target="RFC7794" format="default" sectionFormat="of" derivedContent="RFC7794"/>, the A-Flag in the Binding TLV indicates that
            the originator of a prefix reachability advertisement is directly
            connected to the prefix; thus, PHP <bcp14>MUST</bcp14> be done by the neighbors
            of the router originating the prefix reachability advertisement.
            Note that the A-Flag is only valid in the original area in which the
            Binding TLV is advertised.</t>
          </section>
          <section numbered="true" toc="exclude" removeInRFC="false" pn="section-2.4.4.3">
            <name slugifiedName="name-prefix-sid-algorithm">Prefix-SID Algorithm</name>
            <t pn="section-2.4.4.3-1">The Algorithm field contains the identifier of the algorithm
            associated with the SIDs for the prefix(es) in the range. Use of
            the Algorithm field is described in <xref target="PREFIXSIDSUBTLV" format="default" sectionFormat="of" derivedContent="Section 2.1"/>.</t>
          </section>
        </section>
        <section anchor="BSIDSUBTLV" numbered="true" toc="include" removeInRFC="false" pn="section-2.4.5">
          <name slugifiedName="name-sid-label-sub-tlv-2">SID/Label Sub-TLV</name>
          <t pn="section-2.4.5-1">The SID/Label sub-TLV (Type: 1) contains the SID/Label value as
          defined in <xref target="SIDLABELSUBTLV" format="default" sectionFormat="of" derivedContent="Section 2.3"/>. It <bcp14>MUST</bcp14> be present in
          the SID/Label Binding TLV when the M-Flag is set in the Flags field
          of the parent TLV.</t>
        </section>
        <section anchor="BSIDEXAMPLE" numbered="true" toc="include" removeInRFC="false" pn="section-2.4.6">
          <name slugifiedName="name-example-encodings">Example Encodings</name>
          <t pn="section-2.4.6-1">Example 1: If the following IPv4 router addresses (loopback
          addresses) need to be mapped into the corresponding Prefix-SID
          indexes, then: </t>
          <ul empty="true" bare="false" spacing="normal" pn="section-2.4.6-2">
            <li pn="section-2.4.6-2.1">Router-A: 192.0.2.1/32, Prefix-SID: Index 1</li>
            <li pn="section-2.4.6-2.2">Router-B: 192.0.2.2/32, Prefix-SID: Index 2</li>
            <li pn="section-2.4.6-2.3">Router-C: 192.0.2.3/32, Prefix-SID: Index 3</li>
            <li pn="section-2.4.6-2.4">Router-D: 192.0.2.4/32, Prefix-SID: Index 4</li>
          </ul>
          <artwork name="" type="" align="left" alt="" pn="section-2.4.6-3">
   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |      Type     |     Length    |0|0|0|0|0|     |     RESERVED  |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |            Range = 4          |        32     |      192      |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |        0      |         2     |        1      |Prefix-SID Type|
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  | Sub-TLV Length|     Flags     |   Algorithm   |               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                                             1 |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ </artwork>
          <t pn="section-2.4.6-4">Example 2: If the following IPv4 prefixes need to be mapped into
          the corresponding Prefix-SID indexes, then: </t>
          <ul empty="true" bare="false" spacing="normal" pn="section-2.4.6-5">
            <li pn="section-2.4.6-5.1">10.1.1/24, Prefix-SID: Index 51</li>
            <li pn="section-2.4.6-5.2">10.1.2/24, Prefix-SID: Index 52</li>
            <li pn="section-2.4.6-5.3">10.1.3/24, Prefix-SID: Index 53</li>
            <li pn="section-2.4.6-5.4">10.1.4/24, Prefix-SID: Index 54</li>
            <li pn="section-2.4.6-5.5">10.1.5/24, Prefix-SID: Index 55</li>
            <li pn="section-2.4.6-5.6">10.1.6/24, Prefix-SID: Index 56</li>
            <li pn="section-2.4.6-5.7">10.1.7/24, Prefix-SID: Index 57</li>
          </ul>
          <artwork name="" type="" align="left" alt="" pn="section-2.4.6-6">
   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |      Type     |     Length    |0|0|0|0|0|     |     RESERVED  |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |            Range = 7          |        24     |      10       |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |        1      |         1     |Prefix-SID Type| Sub-TLV Length|
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |    Flags      | Algorithm     |                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                           51  |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</artwork>
          <t pn="section-2.4.6-7">Example 3: If the following IPv6 prefixes need to be mapped into
          the corresponding Prefix-SID indexes, then: </t>
          <ul empty="true" bare="false" spacing="normal" pn="section-2.4.6-8">
            <li pn="section-2.4.6-8.1">2001:db8:1/48, Prefix-SID: Index 151</li>
            <li pn="section-2.4.6-8.2">2001:db8:2/48, Prefix-SID: Index 152</li>
            <li pn="section-2.4.6-8.3">2001:db8:3/48, Prefix-SID: Index 153</li>
            <li pn="section-2.4.6-8.4">2001:db8:4/48, Prefix-SID: Index 154</li>
          </ul>
          <artwork name="" type="" align="left" alt="" pn="section-2.4.6-9">
   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |      Type     |     Length    |1|0|0|0|0|     |     RESERVED  |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |            Range = 4          |        48     |     0x20      |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |       0x01    |       0x0d    |       0xb8    |     0x00      |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |    0x01       |Prefix-SID Type| Sub-TLV Length|  Flags        |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  | Algorithm     |                 0                             |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |       151     |
  +-+-+-+-+-+-+-+-+</artwork>
          <t pn="section-2.4.6-10">It is not expected that a network operator will be able to keep
          fully continuous Prefix/SID/Index mappings. In order to support
          noncontinuous mapping ranges, an implementation <bcp14>MAY</bcp14> generate several
          instances of Binding TLVs.</t>
          <t pn="section-2.4.6-11">For example, if a router wants to advertise the following ranges:
          </t>
          <ul empty="true" bare="false" spacing="normal" pn="section-2.4.6-12">
            <li pn="section-2.4.6-12.1">
              <dl newline="false" spacing="normal" indent="12" pn="section-2.4.6-12.1.1">
                <dt pn="section-2.4.6-12.1.1.1">Range 16:</dt>
                <dd pn="section-2.4.6-12.1.1.2">{ 192.0.2.1-15, Index 1-15 }</dd>
                <dt pn="section-2.4.6-12.1.1.3">Range 6:</dt>
                <dd pn="section-2.4.6-12.1.1.4">{ 192.0.2.22-27, Index 22-27 }</dd>
                <dt pn="section-2.4.6-12.1.1.5">Range 41:</dt>
                <dd pn="section-2.4.6-12.1.1.6">{ 192.0.2.44-84, Index 80-120 }</dd>
              </dl>
            </li>
          </ul>
          <t pn="section-2.4.6-13"> a router would need to advertise three instances of the
          Binding TLV.</t>
        </section>
      </section>
      <section anchor="MTBINDINGTLV" numbered="true" toc="include" removeInRFC="false" pn="section-2.5">
        <name slugifiedName="name-multi-topology-sid-label-bi">Multi-Topology SID/Label Binding TLV</name>
        <t pn="section-2.5-1">The Multi-Topology SID/Label Binding TLV allows the support of
        Multi-Topology IS-IS (M-ISIS) as defined in <xref target="RFC5120" format="default" sectionFormat="of" derivedContent="RFC5120"/>. The Multi-Topology
        SID/Label Binding TLV has the same format as the SID/Label Binding TLV
        defined in <xref target="BINDINGTLV" format="default" sectionFormat="of" derivedContent="Section 2.4"/> with the difference consisting
        of a Multi-topology Identifier (MT ID) as defined here below:</t>
        <artwork name="" type="" align="left" alt="" pn="section-2.5-2">
   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |      Type     |     Length    |             MT ID             |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |     Flags     |     RESERVED  |            Range              |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  | Prefix Length |            Prefix (variable)                 //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                    Sub-TLVs (variable)                        |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</artwork>
        <t pn="section-2.5-3">where: </t>
        <ul empty="true" bare="false" spacing="normal" pn="section-2.5-4">
          <li pn="section-2.5-4.1">
            <dl newline="false" spacing="normal" indent="9" pn="section-2.5-4.1.1">
              <dt pn="section-2.5-4.1.1.1">Type:</dt>
              <dd pn="section-2.5-4.1.1.2">150</dd>
              <dt pn="section-2.5-4.1.1.3">Length:</dt>
              <dd pn="section-2.5-4.1.1.4">Variable</dd>
            </dl>
            <t pn="section-2.5-4.1.2">MT ID is the Multi-topology Identifier defined as:</t>
            <artwork name="" type="" align="left" alt="" pn="section-2.5-4.1.3">
   0                   1               
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  | RESVD |         MT ID         |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</artwork>
            <ul empty="true" bare="false" spacing="normal" pn="section-2.5-4.1.4">
              <li pn="section-2.5-4.1.4.1">
                <dl newline="false" spacing="normal" indent="9" pn="section-2.5-4.1.4.1.1">
                  <dt pn="section-2.5-4.1.4.1.1.1">RESVD:</dt>
                  <dd pn="section-2.5-4.1.4.1.1.2">Reserved bits. <bcp14>MUST</bcp14> be reset on transmission and
                ignored on receive.</dd>
                  <dt pn="section-2.5-4.1.4.1.1.3">MT ID:</dt>
                  <dd pn="section-2.5-4.1.4.1.1.4">A 12-bit field containing the non-zero ID of the
                topology being announced. The TLV <bcp14>MUST</bcp14> be ignored if the ID is
                zero. This is to ensure the consistent view of the standard
                unicast topology.</dd>
                </dl>
              </li>
            </ul>
          </li>
        </ul>
        <ul empty="true" bare="false" spacing="normal" pn="section-2.5-5">
          <li pn="section-2.5-5.1">
            <t pn="section-2.5-5.1.1">The other fields and sub-TLVs are defined in <xref target="BINDINGTLV" format="default" sectionFormat="of" derivedContent="Section 2.4"/>.</t>
          </li>
        </ul>
      </section>
    </section>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-3">
      <name slugifiedName="name-router-capabilities">Router Capabilities</name>
      <t pn="section-3-1">This section defines sub-TLVs that are inserted into the IS-IS
      Router Capability that is defined in <xref target="RFC7981" format="default" sectionFormat="of" derivedContent="RFC7981"/>.</t>
      <section anchor="SRCAPSUBTLV" numbered="true" toc="include" removeInRFC="false" pn="section-3.1">
        <name slugifiedName="name-sr-capabilities-sub-tlv">SR-Capabilities Sub-TLV</name>
        <t pn="section-3.1-1">Segment Routing requires each router to advertise its SR data plane
        capability and the range of MPLS label values it uses for Segment
        Routing in the case where global SIDs are allocated (i.e., global
        indexes). Data plane capabilities and label ranges are advertised
        using the newly defined SR-Capabilities sub-TLV.</t>
        <t pn="section-3.1-2">The Router Capability TLV specifies flags that control its
        advertisement. The SR-Capabilities sub-TLV <bcp14>MUST</bcp14> be propagated
        throughout the level and <bcp14>MUST NOT</bcp14> be advertised across level
        boundaries. Therefore, Router Capability TLV distribution flags are set
        accordingly, i.e., the S-Flag in the Router Capability TLV <xref target="RFC7981" format="default" sectionFormat="of" derivedContent="RFC7981"/> <bcp14>MUST</bcp14> be unset.</t>
        <t pn="section-3.1-3">The SR-Capabilities sub-TLV has the following format:</t>
        <artwork name="" type="" align="left" alt="" pn="section-3.1-4">
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Type        |     Length    |    Flags      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                     Range                     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
//                SID/Label Sub-TLV (variable)                 //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</artwork>
        <ul empty="true" bare="false" spacing="normal" pn="section-3.1-5">
          <li pn="section-3.1-5.1">
            <dl newline="false" spacing="normal" indent="9" pn="section-3.1-5.1.1">
              <dt pn="section-3.1-5.1.1.1">Type:</dt>
              <dd pn="section-3.1-5.1.1.2">2</dd>
              <dt pn="section-3.1-5.1.1.3">Length:</dt>
              <dd pn="section-3.1-5.1.1.4">Variable</dd>
              <dt pn="section-3.1-5.1.1.5">Flags:</dt>
              <dd pn="section-3.1-5.1.1.6">
                <t pn="section-3.1-5.1.1.6.1">1 octet of flags. The following are defined: </t>
                <artwork name="" type="" align="left" alt="" pn="section-3.1-5.1.1.6.2">    0 1 2 3 4 5 6 7 
   +-+-+-+-+-+-+-+-+
   |I|V|           | 
   +-+-+-+-+-+-+-+-+</artwork>
              </dd>
            </dl>
          </li>
        </ul>
        <ul empty="true" bare="false" spacing="normal" pn="section-3.1-6">
          <li pn="section-3.1-6.1">
            <t pn="section-3.1-6.1.1">where: </t>
            <ul empty="true" bare="false" spacing="normal" pn="section-3.1-6.1.2">
              <li pn="section-3.1-6.1.2.1">
                <dl newline="false" spacing="normal" indent="9" pn="section-3.1-6.1.2.1.1">
                  <dt pn="section-3.1-6.1.2.1.1.1">I-Flag:</dt>
                  <dd pn="section-3.1-6.1.2.1.1.2">MPLS IPv4 Flag. If set, then the router is capable
                of processing SR-MPLS-encapsulated IPv4 packets on all
                interfaces.</dd>
                  <dt pn="section-3.1-6.1.2.1.1.3">V-Flag:</dt>
                  <dd pn="section-3.1-6.1.2.1.1.4">MPLS IPv6 Flag. If set, then the router is capable
                of processing SR-MPLS-encapsulated IPv6 packets on all
                interfaces.</dd>
                </dl>
              </li>
            </ul>
          </li>
        </ul>
        <ul empty="true" bare="false" spacing="normal" pn="section-3.1-7">
          <li pn="section-3.1-7.1">
            <t pn="section-3.1-7.1.1">One or more Segment Routing Global Block (SRGB) Descriptor entries, each of which have the
            following format:</t>
            <ul empty="true" bare="false" spacing="normal" pn="section-3.1-7.1.2">
              <li pn="section-3.1-7.1.2.1">
                <dl newline="false" spacing="normal" indent="9" pn="section-3.1-7.1.2.1.1">
                  <dt pn="section-3.1-7.1.2.1.1.1">Range:</dt>
                  <dd pn="section-3.1-7.1.2.1.1.2">3 octets</dd>
                  <dt pn="section-3.1-7.1.2.1.1.3">SID/Label sub-TLV:</dt>
                  <dd pn="section-3.1-7.1.2.1.1.4">MPLS label as defined in <xref target="SIDLABELSUBTLV" format="default" sectionFormat="of" derivedContent="Section 2.3"/></dd>
                </dl>
              </li>
            </ul>
          </li>
        </ul>
        <t pn="section-3.1-8">The SID/Label sub-TLV contains the first value of the SRGB while the
        range contains the number of SRGB elements. The range value <bcp14>MUST</bcp14> be
        higher than 0.</t>
        <t pn="section-3.1-9">The SR-Capabilities sub-TLV <bcp14>MAY</bcp14> be advertised in an LSP of any
        number, but a router <bcp14>MUST NOT</bcp14> advertise more than one SR-Capabilities
        sub-TLV. A router receiving multiple SR-Capabilities sub-TLVs from the
        same originator <bcp14>SHOULD</bcp14> select the first advertisement in the lowest-numbered
        LSP.</t>
        <t pn="section-3.1-10">When multiple SRGB Descriptors are advertised, the entries define an
        ordered set of ranges on which a SID index is to be applied. For this
        reason, changing the order in which the descriptors are advertised will
        have a disruptive effect on forwarding.</t>
        <t pn="section-3.1-11">When a router adds a new SRGB Descriptor to an existing
        SR-Capabilities sub-TLV, the new descriptor <bcp14>SHOULD</bcp14> add the newly
        configured block at the end of the sub-TLV and <bcp14>SHOULD NOT</bcp14> change the
        order of previously advertised blocks. Changing the order of the
        advertised descriptors will create label churn in the FIB and
        black hole / misdirect some traffic during the IGP convergence. In
        particular, if a range that is not the last is extended, it's
        preferable to add a new range rather than extending the previously
        advertised range.</t>
        <t pn="section-3.1-12">The originating router <bcp14>MUST</bcp14> ensure the order is unchanged after a
        graceful restart (using checkpointing, non-volatile storage, or any
        other mechanism).</t>
        <t pn="section-3.1-13">The originating router <bcp14>MUST NOT</bcp14> advertise overlapping ranges.</t>
        <t pn="section-3.1-14">When a router receives multiple overlapping ranges, it <bcp14>MUST</bcp14> conform
        to the procedures defined in <xref target="RFC8660" format="default" sectionFormat="of" derivedContent="RFC8660"/>.</t>
        <t pn="section-3.1-15">Here follows an example of the advertisement of multiple ranges:</t>
        <ul empty="true" spacing="normal" bare="false" pn="section-3.1-16">
          <li pn="section-3.1-16.1">
            <ul empty="true" spacing="normal" bare="false" pn="section-3.1-16.1.1">
              <li pn="section-3.1-16.1.1.1">The originating router advertises the following ranges:</li>
              <li pn="section-3.1-16.1.1.2">SR-Cap: range: 100, SID value: 100 </li>
              <li pn="section-3.1-16.1.1.3">SR-Cap: range: 100, SID value: 1000</li>
              <li pn="section-3.1-16.1.1.4">SR-Cap: range: 100, SID value: 500</li>
            </ul>
          </li>
        </ul>
        <ul empty="true" spacing="normal" bare="false" pn="section-3.1-17">
          <li pn="section-3.1-17.1">
   The receiving routers concatenate the ranges in the received 
   order and build the SRGB as follows:</li>
        </ul>
        <artwork name="" type="" align="left" alt="" pn="section-3.1-18">
   SRGB = [100, 199]
          [1000, 1099]
          [500, 599]</artwork>
        <ul empty="true" spacing="normal" bare="false" pn="section-3.1-19">
          <li pn="section-3.1-19.1">The indexes span multiple ranges:</li>
        </ul>
        <artwork name="" type="" align="left" alt="" pn="section-3.1-20">
      index 0   means label 100
      ...
      index 99  means label 199
      index 100 means label 1000 
      index 199 means label 1099
      ...
      index 200 means label 500
      ...</artwork>
      </section>
      <section anchor="SRALGOSUBTLV" numbered="true" toc="include" removeInRFC="false" pn="section-3.2">
        <name slugifiedName="name-sr-algorithm-sub-tlv">SR-Algorithm Sub-TLV</name>
        <t pn="section-3.2-1">The router may use various algorithms when calculating reachability
        to other nodes or to prefixes attached to these nodes. Examples of
        these algorithms are metric-based SPF, various
        sorts of Constrained SPF, etc. The SR-Algorithm sub-TLV allows the
        router to advertise the algorithms that the router is currently using.
        Algorithm values are defined in the "IGP Algorithm Type" registry
        defined in <xref target="RFC8665" format="default" sectionFormat="of" derivedContent="RFC8665"/>.
        The following values have been defined:</t>
        <ul empty="true" spacing="normal" bare="false" pn="section-3.2-2">
          <li pn="section-3.2-2.1">
            <dl newline="false" spacing="normal" pn="section-3.2-2.1.1">
              <dt pn="section-3.2-2.1.1.1">0:</dt>
              <dd pn="section-3.2-2.1.1.2">SPF algorithm based on link metric.
            This is the well-known shortest path algorithm as computed by the
            IS-IS Decision Process. Consistent with the deployed practice for
            link-state protocols, algorithm 0 permits any node to overwrite
            the SPF path with a different path based on local policy.</dd>
              <dt pn="section-3.2-2.1.1.3">1:</dt>
              <dd pn="section-3.2-2.1.1.4">Strict SPF algorithm based on link
            metric. The algorithm is identical to algorithm 0, but algorithm 1
            requires that all nodes along the path will honor the SPF routing
            decision. Local policy <bcp14>MUST NOT</bcp14> alter the forwarding decision
            computed by algorithm 1 at the node claiming to support algorithm
            1.</dd>
            </dl>
          </li>
        </ul>
        <t pn="section-3.2-3">The Router Capability TLV specifies flags that control its
        advertisement. The SR-Algorithm <bcp14>MUST</bcp14> be propagated throughout the
        level and <bcp14>MUST NOT</bcp14> be advertised across level boundaries. Therefore,
        Router Capability TLV distribution flags are set accordingly, i.e.,
        the S-Flag <bcp14>MUST</bcp14> be unset.</t>
        <t pn="section-3.2-4">The SR-Algorithm sub-TLV is optional. It <bcp14>MUST NOT</bcp14> be advertised
        more than once at a given level. A router receiving multiple
        SR-Algorithm sub-TLVs from the same originator <bcp14>SHOULD</bcp14> select the first
        advertisement in the lowest-numbered LSP.</t>
        <t pn="section-3.2-5">When the originating router does not advertise the SR-Algorithm
        sub-TLV, it implies that algorithm 0 is the only algorithm supported by the routers
        that support the extensions defined in this document.</t>
        <t pn="section-3.2-6">When the originating router does advertise the SR-Algorithm
        sub-TLV, then algorithm 0 <bcp14>MUST</bcp14> be present while non-zero algorithms
        <bcp14>MAY</bcp14> be present.</t>
        <t pn="section-3.2-7">The SR-Algorithm sub-TLV has the following format: </t>
        <artwork name="" type="" align="left" alt="" pn="section-3.2-8">
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |   Type        |     Length    |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 | Algorithm 1   |  Algorithm 2  | Algorithm ... |  Algorithm n  |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</artwork>
        <t pn="section-3.2-9"> where: </t>
        <ul empty="true" bare="false" spacing="normal" pn="section-3.2-10">
          <li pn="section-3.2-10.1">
            <dl newline="false" spacing="normal" indent="12" pn="section-3.2-10.1.1">
              <dt pn="section-3.2-10.1.1.1">Type:</dt>
              <dd pn="section-3.2-10.1.1.2">19</dd>
              <dt pn="section-3.2-10.1.1.3">Length:</dt>
              <dd pn="section-3.2-10.1.1.4">Variable</dd>
              <dt pn="section-3.2-10.1.1.5">Algorithm:</dt>
              <dd pn="section-3.2-10.1.1.6">1 octet of algorithm</dd>
            </dl>
          </li>
        </ul>
      </section>
      <section anchor="SRLBSUBTLV" numbered="true" toc="include" removeInRFC="false" pn="section-3.3">
        <name slugifiedName="name-sr-local-block-sub-tlv">SR Local Block Sub-TLV</name>
        <t pn="section-3.3-1">The SR Local Block (SRLB) sub-TLV contains the range of labels the
        node has reserved for Local SIDs. Local SIDs are used, e.g., for
        Adj-SIDs, and may also be allocated by components other than the
        IS-IS protocol. As an example, an application or a controller may
        instruct the router to allocate a specific Local SID. Therefore, in
        order for such applications or controllers to know what Local
        SIDs are available in the router, it is required that the router
        advertises its SRLB.</t>
        <t pn="section-3.3-2">The SRLB sub-TLV is used for this purpose and has following
        format:</t>
        <artwork name="" type="" align="left" alt="" pn="section-3.3-3"> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Type        |     Length    |    Flags      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                     Range                     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
//                SID/Label Sub-TLV (variable)                 //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</artwork>
        <ul empty="true" bare="false" spacing="normal" pn="section-3.3-4">
          <li pn="section-3.3-4.1">
            <dl newline="false" spacing="normal" indent="9" pn="section-3.3-4.1.1">
              <dt pn="section-3.3-4.1.1.1">Type:</dt>
              <dd pn="section-3.3-4.1.1.2">22</dd>
              <dt pn="section-3.3-4.1.1.3">Length:</dt>
              <dd pn="section-3.3-4.1.1.4">Variable</dd>
              <dt pn="section-3.3-4.1.1.5">Flags:</dt>
              <dd pn="section-3.3-4.1.1.6">1 octet of flags. None are defined at this stage.</dd>
            </dl>
          </li>
        </ul>
        <ul empty="true" bare="false" spacing="normal" pn="section-3.3-5">
          <li pn="section-3.3-5.1">
            <t pn="section-3.3-5.1.1">One or more SRLB Descriptor entries, each of which have the
            following format:</t>
            <ul empty="true" bare="false" spacing="normal" pn="section-3.3-5.1.2">
              <li pn="section-3.3-5.1.2.1">
                <dl newline="false" spacing="normal" indent="9" pn="section-3.3-5.1.2.1.1">
                  <dt pn="section-3.3-5.1.2.1.1.1">Range:</dt>
                  <dd pn="section-3.3-5.1.2.1.1.2">3 octets</dd>
                  <dt pn="section-3.3-5.1.2.1.1.3">SID/Label sub-TLV:</dt>
                  <dd pn="section-3.3-5.1.2.1.1.4">MPLS label as defined in <xref target="SIDLABELSUBTLV" format="default" sectionFormat="of" derivedContent="Section 2.3"/></dd>
                </dl>
              </li>
            </ul>
          </li>
        </ul>
        <t pn="section-3.3-6">The SID/Label sub-TLV contains the first value of the SRLB while the
        range contains the number of SRLB elements. The range value <bcp14>MUST</bcp14> be
        higher than 0.</t>
        <t pn="section-3.3-7">The SRLB sub-TLV <bcp14>MAY</bcp14> be advertised in an LSP of any number, but a
        router <bcp14>MUST NOT</bcp14> advertise more than one SRLB sub-TLV. A router
        receiving multiple SRLB sub-TLVs, from the same originator, <bcp14>SHOULD</bcp14>
        select the first advertisement in the lowest-numbered LSP.</t>
        <t pn="section-3.3-8">The originating router <bcp14>MUST NOT</bcp14> advertise overlapping ranges.</t>
        <t pn="section-3.3-9">When a router receives multiple overlapping ranges, it <bcp14>MUST</bcp14> conform
        to the procedures defined in <xref target="RFC8660" format="default" sectionFormat="of" derivedContent="RFC8660"/>.</t>
        <t pn="section-3.3-10">It is important to note that each time a SID from the SRLB is
        allocated, it should also be reported to all components (e.g.,
        controller or applications) in order for these components to have an
        up-to-date view of the current SRLB allocation and to avoid
        collision between allocation instructions.</t>
        <t pn="section-3.3-11">Within the context of IS-IS, the reporting of Local SIDs is done
        through IS-IS sub-TLVs such as the Adj-SID. However, the
        reporting of allocated Local SIDs may also be done through other means
        and protocols that are outside the scope of this document.</t>
        <t pn="section-3.3-12">A router advertising the SRLB sub-TLV may also have other label
        ranges, outside the SRLB, for its local allocation purposes that are
        NOT advertised in the SRLB. For example, it is possible that an
        Adj-SID is allocated using a local label not part of the
        SRLB.</t>
      </section>
      <section anchor="SRMSPREFSUBTLV" numbered="true" toc="include" removeInRFC="false" pn="section-3.4">
        <name slugifiedName="name-srms-preference-sub-tlv">SRMS Preference Sub-TLV</name>
        <t pn="section-3.4-1">The SRMS Preference sub-TLV is
        used in order to associate a preference with SRMS advertisements from
        a particular source.</t>
        <t pn="section-3.4-2">The SRMS Preference sub-TLV has the following format:</t>
        <artwork name="" type="" align="left" alt="" pn="section-3.4-3"> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Type        |    Length     | Preference    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</artwork>
        <ul empty="true" bare="false" spacing="normal" pn="section-3.4-4">
          <li pn="section-3.4-4.1">
            <dl newline="false" spacing="normal" indent="13" pn="section-3.4-4.1.1">
              <dt pn="section-3.4-4.1.1.1">Type:</dt>
              <dd pn="section-3.4-4.1.1.2">24</dd>
              <dt pn="section-3.4-4.1.1.3">Length:</dt>
              <dd pn="section-3.4-4.1.1.4">1</dd>
              <dt pn="section-3.4-4.1.1.5">Preference:</dt>
              <dd pn="section-3.4-4.1.1.6">1 octet and unsigned 8-bit SRMS preference.</dd>
            </dl>
          </li>
        </ul>
        <t pn="section-3.4-5">The SRMS Preference sub-TLV <bcp14>MAY</bcp14> be advertised in an LSP of any
        number, but a router <bcp14>MUST NOT</bcp14> advertise more than one SRMS Preference
        sub-TLV. A router receiving multiple SRMS Preference sub-TLVs, from
        the same originator, <bcp14>SHOULD</bcp14> select the first advertisement in the
        lowest-numbered LSP.</t>
        <t pn="section-3.4-6">The use of the SRMS preference during the SID selection process is
        described in <xref target="RFC8661" format="default" sectionFormat="of" derivedContent="RFC8661"/>.</t>
      </section>
    </section>
    <section anchor="IANA" numbered="true" toc="include" removeInRFC="false" pn="section-4">
      <name slugifiedName="name-iana-considerations">IANA Considerations</name>
      <t pn="section-4-1">Per this document, IANA has allocated the following TLVs and
      sub-TLVs.</t>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-4.1">
        <name slugifiedName="name-sub-tlvs-for-types-22-23-25">Sub-TLVs for Types 22, 23, 25, 141, 222, and 223</name>
        <t pn="section-4.1-1">This document makes the following registrations in the "Sub-TLVs
        for TLV 22, 23, 25, 141, 222, and 223" registry.</t>
        <table anchor="IANA_table_1" align="left" pn="table-1">
          <thead>
            <tr>
              <th align="center" colspan="1" rowspan="1">Type</th>
              <th align="left" colspan="1" rowspan="1">Description</th>
              <th align="center" colspan="1" rowspan="1">22</th>
              <th align="center" colspan="1" rowspan="1">23</th>
              <th align="center" colspan="1" rowspan="1">25</th>
              <th align="center" colspan="1" rowspan="1">141</th>
              <th align="center" colspan="1" rowspan="1">222</th>
              <th align="center" colspan="1" rowspan="1">223</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="center" colspan="1" rowspan="1">31</td>
              <td align="left" colspan="1" rowspan="1">Adjacency Segment Identifier</td>
              <td align="center" colspan="1" rowspan="1">y</td>
              <td align="center" colspan="1" rowspan="1">y</td>
              <td align="center" colspan="1" rowspan="1">n</td>
              <td align="center" colspan="1" rowspan="1">y</td>
              <td align="center" colspan="1" rowspan="1">y</td>
              <td align="center" colspan="1" rowspan="1">y</td>
            </tr>
            <tr>
              <td align="center" colspan="1" rowspan="1">32</td>
              <td align="left" colspan="1" rowspan="1">LAN Adjacency Segment Identifier</td>
              <td align="center" colspan="1" rowspan="1">y</td>
              <td align="center" colspan="1" rowspan="1">y</td>
              <td align="center" colspan="1" rowspan="1">n</td>
              <td align="center" colspan="1" rowspan="1">y</td>
              <td align="center" colspan="1" rowspan="1">y</td>
              <td align="center" colspan="1" rowspan="1">y</td>
            </tr>
          </tbody>
        </table>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-4.2">
        <name slugifiedName="name-sub-tlvs-for-types-135-235-">Sub-TLVs for Types 135, 235, 236, and 237</name>
        <t pn="section-4.2-1">This document makes the following registrations in the "Sub-TLVs
        for TLV 135, 235, 236, and 237" registry.</t>
        <table anchor="IANA_table_2" align="left" pn="table-2">
          <thead>
            <tr>
              <th align="center" colspan="1" rowspan="1">Type</th>
              <th align="left" colspan="1" rowspan="1">Description</th>
              <th align="center" colspan="1" rowspan="1">135</th>
              <th align="center" colspan="1" rowspan="1">235</th>
              <th align="center" colspan="1" rowspan="1">236</th>
              <th align="center" colspan="1" rowspan="1">237</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="center" colspan="1" rowspan="1">3</td>
              <td align="left" colspan="1" rowspan="1">Prefix Segment Identifier</td>
              <td align="center" colspan="1" rowspan="1">y</td>
              <td align="center" colspan="1" rowspan="1">y</td>
              <td align="center" colspan="1" rowspan="1">y</td>
              <td align="center" colspan="1" rowspan="1">y</td>
            </tr>
          </tbody>
        </table>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-4.3">
        <name slugifiedName="name-sub-tlvs-for-type-242">Sub-TLVs for Type 242</name>
        <t pn="section-4.3-1">This document makes the following registrations in the "Sub-TLVs
        for TLV 242" registry.</t>
        <table anchor="IANA_table_3" align="left" pn="table-3">
          <thead>
            <tr>
              <th align="center" colspan="1" rowspan="1">Type</th>
              <th align="left" colspan="1" rowspan="1">Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="center" colspan="1" rowspan="1">2</td>
              <td align="left" colspan="1" rowspan="1">Segment Routing Capability</td>
            </tr>
            <tr>
              <td align="center" colspan="1" rowspan="1">19</td>
              <td align="left" colspan="1" rowspan="1">Segment Routing Algorithm</td>
            </tr>
            <tr>
              <td align="center" colspan="1" rowspan="1">22</td>
              <td align="left" colspan="1" rowspan="1">Segment Routing Local Block (SRLB)</td>
            </tr>
            <tr>
              <td align="center" colspan="1" rowspan="1">24</td>
              <td align="left" colspan="1" rowspan="1">Segment Routing Mapping Server Preference (SRMS Preference)</td>
            </tr>
          </tbody>
        </table>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-4.4">
        <name slugifiedName="name-new-tlv-codepoint-and-sub-t">New TLV Codepoint and Sub-TLV Registry</name>
        <t pn="section-4.4-1">This document registers the following TLV:</t>
        <table anchor="IANA_table_4" align="left" pn="table-4">
          <thead>
            <tr>
              <th align="center" colspan="1" rowspan="1">Value</th>
              <th align="left" colspan="1" rowspan="1">Name</th>
              <th align="center" colspan="1" rowspan="1">IIH</th>
              <th align="center" colspan="1" rowspan="1">LSP</th>
              <th align="center" colspan="1" rowspan="1">SNP</th>
              <th align="center" colspan="1" rowspan="1">Purge</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="center" colspan="1" rowspan="1">149</td>
              <td align="left" colspan="1" rowspan="1">Segment Identifier / Label Binding</td>
              <td align="center" colspan="1" rowspan="1">n</td>
              <td align="center" colspan="1" rowspan="1">y</td>
              <td align="center" colspan="1" rowspan="1">n</td>
              <td align="center" colspan="1" rowspan="1">n</td>
            </tr>
            <tr>
              <td align="center" colspan="1" rowspan="1">150</td>
              <td align="left" colspan="1" rowspan="1">Multi-Topology Segment Identifier / Label Binding</td>
              <td align="center" colspan="1" rowspan="1">n</td>
              <td align="center" colspan="1" rowspan="1">y</td>
              <td align="center" colspan="1" rowspan="1">n</td>
              <td align="center" colspan="1" rowspan="1">n</td>
            </tr>
          </tbody>
        </table>
        <t pn="section-4.4-3">This document creates the following sub-TLV Registry:</t>
        <dl newline="false" spacing="normal" pn="section-4.4-4">
          <dt pn="section-4.4-4.1">Name:</dt>
          <dd pn="section-4.4-4.2">Sub-TLVs for TLVs 149 and 150</dd>
          <dt pn="section-4.4-4.3">Registration Procedure:</dt>
          <dd pn="section-4.4-4.4">Expert Review <xref target="RFC8126" format="default" sectionFormat="of" derivedContent="RFC8126"/></dd>
        </dl>
        <table anchor="IANA_table_5" align="left" pn="table-5">
          <thead>
            <tr>
              <th align="center" colspan="1" rowspan="1">Type</th>
              <th align="center" colspan="1" rowspan="1">Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="center" colspan="1" rowspan="1">0</td>
              <td align="left" colspan="1" rowspan="1">Reserved</td>
            </tr>
            <tr>
              <td align="center" colspan="1" rowspan="1">1</td>
              <td align="left" colspan="1" rowspan="1">SID/Label</td>
            </tr>
            <tr>
              <td align="center" colspan="1" rowspan="1">2</td>
              <td align="left" colspan="1" rowspan="1">Unassigned</td>
            </tr>
            <tr>
              <td align="center" colspan="1" rowspan="1">3</td>
              <td align="left" colspan="1" rowspan="1">Prefix Segment Identifier</td>
            </tr>
            <tr>
              <td align="center" colspan="1" rowspan="1">4-255</td>
              <td align="left" colspan="1" rowspan="1">Unassigned</td>
            </tr>
          </tbody>
        </table>
      </section>
    </section>
    <section anchor="Security" numbered="true" toc="include" removeInRFC="false" pn="section-5">
      <name slugifiedName="name-security-considerations">Security Considerations</name>
      <t pn="section-5-1">With the use of the extensions defined in this document, IS-IS
      carries information that will be used to program the MPLS data plane
      <xref target="RFC3031" format="default" sectionFormat="of" derivedContent="RFC3031"/>. In general, the same type of attacks that can be carried out
      on the IP/IPv6 control plane can be carried out on the MPLS control
      plane, resulting in traffic being misrouted in the respective data
      planes. However, the latter may be more difficult to detect and
      isolate.</t>
      <t pn="section-5-2">Existing security extensions as described in <xref target="RFC5304" format="default" sectionFormat="of" derivedContent="RFC5304"/>
         and <xref target="RFC5310" format="default" sectionFormat="of" derivedContent="RFC5310"/> apply to these Segment Routing extensions.</t>
    </section>
  </middle>
  <back>
    <references pn="section-6">
      <name slugifiedName="name-references">References</name>
      <references pn="section-6.1">
        <name slugifiedName="name-normative-references">Normative References</name>
        <reference anchor="ISO10589" quoteTitle="true" derivedAnchor="ISO10589">
          <front>
            <title>Information technology -- Telecommunications and information exchange between systems -- Intermediate system to Intermediate system intra-domain routeing information exchange protocol for use in conjunction with the protocol for providing the connectionless-mode network service (ISO 8473)</title>
            <seriesInfo name="ISO/IEC 10589:2002," value="Second Edition"/>
            <author>
              <organization abbrev="ISO" showOnFrontPage="true">International Organization for Standardization</organization>
            </author>
            <date month="November" year="2002"/>
          </front>
        </reference>
        <reference anchor="RFC2119" target="https://www.rfc-editor.org/info/rfc2119" quoteTitle="true" derivedAnchor="RFC2119">
          <front>
            <title>Key words for use in RFCs to Indicate Requirement Levels</title>
            <author initials="S." surname="Bradner" fullname="S. Bradner">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="1997" month="March"/>
            <abstract>
              <t>In many standards track documents several words are used to signify the requirements in the specification.  These words are often capitalized. This document defines these words as they should be interpreted in IETF documents.  This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="2119"/>
          <seriesInfo name="DOI" value="10.17487/RFC2119"/>
        </reference>
        <reference anchor="RFC3031" target="https://www.rfc-editor.org/info/rfc3031" quoteTitle="true" derivedAnchor="RFC3031">
          <front>
            <title>Multiprotocol Label Switching Architecture</title>
            <author initials="E." surname="Rosen" fullname="E. Rosen">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="A." surname="Viswanathan" fullname="A. Viswanathan">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Callon" fullname="R. Callon">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2001" month="January"/>
            <abstract>
              <t>This document specifies the architecture for Multiprotocol Label Switching (MPLS).  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="3031"/>
          <seriesInfo name="DOI" value="10.17487/RFC3031"/>
        </reference>
        <reference anchor="RFC5120" target="https://www.rfc-editor.org/info/rfc5120" quoteTitle="true" derivedAnchor="RFC5120">
          <front>
            <title>M-ISIS: Multi Topology (MT) Routing in Intermediate System to Intermediate Systems (IS-ISs)</title>
            <author initials="T." surname="Przygienda" fullname="T. Przygienda">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="N." surname="Shen" fullname="N. Shen">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="N." surname="Sheth" fullname="N. Sheth">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2008" month="February"/>
            <abstract>
              <t>This document describes an optional mechanism within Intermediate System to Intermediate Systems (IS-ISs) used today by many ISPs for IGP routing within their clouds.  This document describes how to run, within a single IS-IS domain, a set of independent IP topologies that we call Multi-Topologies (MTs). This MT extension can be used for a variety of purposes, such as an in-band management network "on top" of the original IGP topology, maintaining separate IGP routing domains for isolated multicast or IPv6 islands within the backbone, or forcing a subset of an address space to follow a different topology.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5120"/>
          <seriesInfo name="DOI" value="10.17487/RFC5120"/>
        </reference>
        <reference anchor="RFC5304" target="https://www.rfc-editor.org/info/rfc5304" quoteTitle="true" derivedAnchor="RFC5304">
          <front>
            <title>IS-IS Cryptographic Authentication</title>
            <author initials="T." surname="Li" fullname="T. Li">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Atkinson" fullname="R. Atkinson">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2008" month="October"/>
            <abstract>
              <t>This document describes the authentication of Intermediate System to Intermediate System (IS-IS) Protocol Data Units (PDUs) using the Hashed Message Authentication Codes - Message Digest 5 (HMAC-MD5) algorithm as found in RFC 2104.  IS-IS is specified in International Standards Organization (ISO) 10589, with extensions to support Internet Protocol version 4 (IPv4) described in RFC 1195.  The base specification includes an authentication mechanism that allows for multiple authentication algorithms.  The base specification only specifies the algorithm for cleartext passwords.  This document replaces RFC 3567.</t>
              <t>This document proposes an extension to that specification that allows the use of the HMAC-MD5 authentication algorithm to be used in conjunction with the existing authentication mechanisms.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5304"/>
          <seriesInfo name="DOI" value="10.17487/RFC5304"/>
        </reference>
        <reference anchor="RFC5310" target="https://www.rfc-editor.org/info/rfc5310" quoteTitle="true" derivedAnchor="RFC5310">
          <front>
            <title>IS-IS Generic Cryptographic Authentication</title>
            <author initials="M." surname="Bhatia" fullname="M. Bhatia">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="V." surname="Manral" fullname="V. Manral">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="T." surname="Li" fullname="T. Li">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Atkinson" fullname="R. Atkinson">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="White" fullname="R. White">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Fanto" fullname="M. Fanto">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2009" month="February"/>
            <abstract>
              <t>This document proposes an extension to Intermediate System to Intermediate System (IS-IS) to allow the use of any cryptographic authentication algorithm in addition to the already-documented authentication schemes, described in the base specification and RFC 5304.  IS-IS is specified in International Standards Organization (ISO) 10589, with extensions to support Internet Protocol version 4 (IPv4) described in RFC 1195.</t>
              <t>Although this document has been written specifically for using the Hashed Message Authentication Code (HMAC) construct along with the Secure Hash Algorithm (SHA) family of cryptographic hash functions, the method described in this document is generic and can be used to extend IS-IS to support any cryptographic hash function in the future.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5310"/>
          <seriesInfo name="DOI" value="10.17487/RFC5310"/>
        </reference>
        <reference anchor="RFC7794" target="https://www.rfc-editor.org/info/rfc7794" quoteTitle="true" derivedAnchor="RFC7794">
          <front>
            <title>IS-IS Prefix Attributes for Extended IPv4 and IPv6 Reachability</title>
            <author initials="L." surname="Ginsberg" fullname="L. Ginsberg" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B." surname="Decraene" fullname="B. Decraene">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Previdi" fullname="S. Previdi">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="X." surname="Xu" fullname="X. Xu">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="U." surname="Chunduri" fullname="U. Chunduri">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2016" month="March"/>
            <abstract>
              <t>This document introduces new sub-TLVs to support advertisement of IPv4 and IPv6 prefix attribute flags and the source router ID of the router that originated a prefix advertisement.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7794"/>
          <seriesInfo name="DOI" value="10.17487/RFC7794"/>
        </reference>
        <reference anchor="RFC7981" target="https://www.rfc-editor.org/info/rfc7981" quoteTitle="true" derivedAnchor="RFC7981">
          <front>
            <title>IS-IS Extensions for Advertising Router Information</title>
            <author initials="L." surname="Ginsberg" fullname="L. Ginsberg">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Previdi" fullname="S. Previdi">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Chen" fullname="M. Chen">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2016" month="October"/>
            <abstract>
              <t>This document defines a new optional Intermediate System to Intermediate System (IS-IS) TLV named CAPABILITY, formed of multiple sub-TLVs, which allows a router to announce its capabilities within an IS-IS level or the entire routing domain.  This document obsoletes RFC 4971.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7981"/>
          <seriesInfo name="DOI" value="10.17487/RFC7981"/>
        </reference>
        <reference anchor="RFC8174" target="https://www.rfc-editor.org/info/rfc8174" quoteTitle="true" derivedAnchor="RFC8174">
          <front>
            <title>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</title>
            <author initials="B." surname="Leiba" fullname="B. Leiba">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2017" month="May"/>
            <abstract>
              <t>RFC 2119 specifies common key words that may be used in protocol  specifications.  This document aims to reduce the ambiguity by clarifying that only UPPERCASE usage of the key words have the  defined special meanings.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="8174"/>
          <seriesInfo name="DOI" value="10.17487/RFC8174"/>
        </reference>
        <reference anchor="RFC8402" target="https://www.rfc-editor.org/info/rfc8402" quoteTitle="true" derivedAnchor="RFC8402">
          <front>
            <title>Segment Routing Architecture</title>
            <author initials="C." surname="Filsfils" fullname="C. Filsfils" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Previdi" fullname="S. Previdi" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="L." surname="Ginsberg" fullname="L. Ginsberg">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B." surname="Decraene" fullname="B. Decraene">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Litkowski" fullname="S. Litkowski">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Shakir" fullname="R. Shakir">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2018" month="July"/>
            <abstract>
              <t>Segment Routing (SR) leverages the source routing paradigm.  A node steers a packet through an ordered list of instructions, called "segments".  A segment can represent any instruction, topological or service based.  A segment can have a semantic local to an SR node or global within an SR domain.  SR provides a mechanism that allows a flow to be restricted to a specific topological path, while maintaining per-flow state only at the ingress node(s) to the SR domain.</t>
              <t>SR can be directly applied to the MPLS architecture with no change to the forwarding plane.  A segment is encoded as an MPLS label.  An ordered list of segments is encoded as a stack of labels.  The segment to process is on the top of the stack.  Upon completion of a segment, the related label is popped from the stack.</t>
              <t>SR can be applied to the IPv6 architecture, with a new type of routing header.  A segment is encoded as an IPv6 address.  An ordered list of segments is encoded as an ordered list of IPv6 addresses in the routing header.  The active segment is indicated by the Destination Address (DA) of the packet.  The next active segment is indicated by a pointer in the new routing header.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8402"/>
          <seriesInfo name="DOI" value="10.17487/RFC8402"/>
        </reference>
        <reference anchor="RFC8660" target="https://www.rfc-editor.org/info/rfc8660" quoteTitle="true" derivedAnchor="RFC8660">
          <front>
            <title>Segment Routing with the MPLS Data Plane</title>
            <seriesInfo name="RFC" value="8660"/>
            <seriesInfo name="DOI" value="10.17487/RFC8660"/>
            <author initials="A" surname="Bashandy" fullname="Ahmed Bashandy" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="C" surname="Filsfils" fullname="Clarence Filsfils" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S" surname="Previdi" fullname="Stefano Previdi">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B" surname="Decraene" fullname="Bruno Decraene">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S" surname="Litkowski" fullname="Stephane Litkowski">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R" surname="Shakir" fullname="Rob Shakir">
              <organization showOnFrontPage="true"/>
            </author>
            <date month="December" year="2019"/>
          </front>
        </reference>
        <reference anchor="RFC8661" target="https://www.rfc-editor.org/info/rfc8661" quoteTitle="true" derivedAnchor="RFC8661">
          <front>
            <title>Segment Routing MPLS Interworking with LDP</title>
            <seriesInfo name="RFC" value="8661"/>
            <seriesInfo name="DOI" value="10.17487/RFC8661"/>
            <author initials="A" surname="Bashandy" fullname="Ahmed Bashandy" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="C" surname="Filsfils" fullname="Clarence Filsfils" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S" surname="Previdi" fullname="Stefano Previdi">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B" surname="Decraene" fullname="Bruno Decraene">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S" surname="Litkowski" fullname="Stephane Litkowski">
              <organization showOnFrontPage="true"/>
            </author>
            <date month="December" year="2019"/>
          </front>
        </reference>
        <reference anchor="RFC8665" target="https://www.rfc-editor.org/info/rfc8665" quoteTitle="true" derivedAnchor="RFC8665">
          <front>
            <title>OSPF Extensions for Segment Routing</title>
            <seriesInfo name="RFC" value="8665"/>
            <seriesInfo name="DOI" value="10.17487/RFC8665"/>
            <author initials="P" surname="Psenak" fullname="Peter Psenak" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S" surname="Previdi" fullname="Stefano Previdi" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="C" surname="Filsfils" fullname="Clarence Filsfils">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="H" surname="Gredler" fullname="Hannes Gredler">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R" surname="Shakir" fullname="Rob Shakir">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="W" surname="Henderickx" fullname="Wim Henderickx">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="J" surname="Tantsura" fullname="Jeff Tantsura">
              <organization showOnFrontPage="true"/>
            </author>
            <date month="December" year="2019"/>
          </front>
        </reference>
      </references>
      <references pn="section-6.2">
        <name slugifiedName="name-informative-references">Informative References</name>
        <reference anchor="RFC5305" target="https://www.rfc-editor.org/info/rfc5305" quoteTitle="true" derivedAnchor="RFC5305">
          <front>
            <title>IS-IS Extensions for Traffic Engineering</title>
            <author initials="T." surname="Li" fullname="T. Li">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="H." surname="Smit" fullname="H. Smit">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2008" month="October"/>
            <abstract>
              <t>This document describes extensions to the Intermediate System to Intermediate System (IS-IS) protocol to support Traffic Engineering (TE).  This document extends the IS-IS protocol by specifying new information that an Intermediate System (router) can place in Link State Protocol Data Units (LSP).  This information describes additional details regarding the state of the network that are useful for traffic engineering computations.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5305"/>
          <seriesInfo name="DOI" value="10.17487/RFC5305"/>
        </reference>
        <reference anchor="RFC5308" target="https://www.rfc-editor.org/info/rfc5308" quoteTitle="true" derivedAnchor="RFC5308">
          <front>
            <title>Routing IPv6 with IS-IS</title>
            <author initials="C." surname="Hopps" fullname="C. Hopps">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2008" month="October"/>
            <abstract>
              <t>This document specifies a method for exchanging IPv6 routing information using the IS-IS routing protocol.  The described method utilizes two new TLVs: a reachability TLV and an interface address TLV to distribute the necessary IPv6 information throughout a routing domain.  Using this method, one can route IPv6 along with IPv4 and OSI using a single intra-domain routing protocol.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5308"/>
          <seriesInfo name="DOI" value="10.17487/RFC5308"/>
        </reference>
        <reference anchor="RFC5311" target="https://www.rfc-editor.org/info/rfc5311" quoteTitle="true" derivedAnchor="RFC5311">
          <front>
            <title>Simplified Extension of Link State PDU (LSP) Space for IS-IS</title>
            <author initials="D." surname="McPherson" fullname="D. McPherson" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="L." surname="Ginsberg" fullname="L. Ginsberg">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Previdi" fullname="S. Previdi">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Shand" fullname="M. Shand">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2009" month="February"/>
            <abstract>
              <t>This document describes a simplified method for extending the Link State PDU (LSP) space beyond the 256 LSP limit.  This method is intended as a preferred replacement for the method defined in RFC 3786.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5311"/>
          <seriesInfo name="DOI" value="10.17487/RFC5311"/>
        </reference>
        <reference anchor="RFC5316" target="https://www.rfc-editor.org/info/rfc5316" quoteTitle="true" derivedAnchor="RFC5316">
          <front>
            <title>ISIS Extensions in Support of Inter-Autonomous System (AS) MPLS and GMPLS Traffic Engineering</title>
            <author initials="M." surname="Chen" fullname="M. Chen">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Zhang" fullname="R. Zhang">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="X." surname="Duan" fullname="X. Duan">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2008" month="December"/>
            <abstract>
              <t>This document describes extensions to the ISIS (ISIS) protocol to support Multiprotocol Label Switching (MPLS) and Generalized MPLS (GMPLS) Traffic Engineering (TE) for multiple Autonomous Systems (ASes).  It defines ISIS-TE extensions for the flooding of TE information about inter-AS links, which can be used to perform inter- AS TE path computation.</t>
              <t>No support for flooding information from within one AS to another AS is proposed or defined in this document.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5316"/>
          <seriesInfo name="DOI" value="10.17487/RFC5316"/>
        </reference>
        <reference anchor="RFC7855" target="https://www.rfc-editor.org/info/rfc7855" quoteTitle="true" derivedAnchor="RFC7855">
          <front>
            <title>Source Packet Routing in Networking (SPRING) Problem Statement and Requirements</title>
            <author initials="S." surname="Previdi" fullname="S. Previdi" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="C." surname="Filsfils" fullname="C. Filsfils" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B." surname="Decraene" fullname="B. Decraene">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Litkowski" fullname="S. Litkowski">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Horneffer" fullname="M. Horneffer">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Shakir" fullname="R. Shakir">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2016" month="May"/>
            <abstract>
              <t>The ability for a node to specify a forwarding path, other than the normal shortest path, that a particular packet will traverse, benefits a number of network functions.  Source-based routing mechanisms have previously been specified for network protocols but have not seen widespread adoption.  In this context, the term "source" means "the point at which the explicit route is imposed"; therefore, it is not limited to the originator of the packet (i.e., the node imposing the explicit route may be the ingress node of an operator's network).</t>
              <t>This document outlines various use cases, with their requirements, that need to be taken into account by the Source Packet Routing in Networking (SPRING) architecture for unicast traffic.  Multicast use cases and requirements are out of scope for this document.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7855"/>
          <seriesInfo name="DOI" value="10.17487/RFC7855"/>
        </reference>
        <reference anchor="RFC8126" target="https://www.rfc-editor.org/info/rfc8126" quoteTitle="true" derivedAnchor="RFC8126">
          <front>
            <title>Guidelines for Writing an IANA Considerations Section in RFCs</title>
            <author initials="M." surname="Cotton" fullname="M. Cotton">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B." surname="Leiba" fullname="B. Leiba">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="T." surname="Narten" fullname="T. Narten">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2017" month="June"/>
            <abstract>
              <t>Many protocols make use of points of extensibility that use constants to identify various protocol parameters.  To ensure that the values in these fields do not have conflicting uses and to promote interoperability, their allocations are often coordinated by a central record keeper.  For IETF protocols, that role is filled by the Internet Assigned Numbers Authority (IANA).</t>
              <t>To make assignments in a given registry prudently, guidance describing the conditions under which new values should be assigned, as well as when and how modifications to existing values can be made, is needed.  This document defines a framework for the documentation of these guidelines by specification authors, in order to assure that the provided guidance for the IANA Considerations is clear and addresses the various issues that are likely in the operation of a registry.</t>
              <t>This is the third edition of this document; it obsoletes RFC 5226.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="26"/>
          <seriesInfo name="RFC" value="8126"/>
          <seriesInfo name="DOI" value="10.17487/RFC8126"/>
        </reference>
      </references>
    </references>
    <section anchor="Acknowledgements" numbered="false" toc="include" removeInRFC="false" pn="section-appendix.a">
      <name slugifiedName="name-acknowledgements">Acknowledgements</name>
      <t pn="section-appendix.a-1">We would like to thank Dave Ward, Dan Frost, Stewart Bryant, Pierre
      Francois, and Jesper Skrivers for their contribution to the content of
      this document.</t>
    </section>
    <section anchor="Contributors" numbered="false" toc="include" removeInRFC="false" pn="section-appendix.b">
      <name slugifiedName="name-contributors">Contributors</name>
      <t pn="section-appendix.b-1">The following people gave a substantial contribution to the content
      of this document and should be considered as coauthors:</t>
      <artwork name="" type="" align="left" alt="" pn="section-appendix.b-2">Stephane Litkowski
Orange
France
Email: stephane.litkowski@orange.com</artwork>
      <artwork name="" type="" align="left" alt="" pn="section-appendix.b-3">
Jeff Tantsura
Apstra, Inc.
Email: jefftant@gmail.com</artwork>
      <artwork name="" type="" align="left" alt="" pn="section-appendix.b-4">
Peter Psenak
Cisco Systems Inc.
United States of America
Email: ppsenak@cisco.com</artwork>
      <artwork name="" type="" align="left" alt="" pn="section-appendix.b-5">
Martin Horneffer
Deutsche Telekom
Germany
Email: Martin.Horneffer@telekom.de</artwork>
      <artwork name="" type="" align="left" alt="" pn="section-appendix.b-6">
Wim Henderickx
Nokia
Belgium
Email: wim.henderickx@nokia.com</artwork>
      <artwork name="" type="" align="left" alt="" pn="section-appendix.b-7">
Edward Crabbe
Oracle
United States of America
Email: edward.crabbe@oracle.com</artwork>
      <artwork name="" type="" align="left" alt="" pn="section-appendix.b-8">
Rob Shakir
Google
United Kingdom
Email: robjs@google.com</artwork>
      <artwork name="" type="" align="left" alt="" pn="section-appendix.b-9">
Igor Milojevic
Individual
Serbia
Email: milojevicigor@gmail.com</artwork>
      <artwork name="" type="" align="left" alt="" pn="section-appendix.b-10">
Saku Ytti
TDC
Finland
Email: saku@ytti.fi</artwork>
    </section>
    <section anchor="authors-addresses" numbered="false" removeInRFC="false" toc="include" pn="section-appendix.c">
      <name slugifiedName="name-authors-addresses">Authors' Addresses</name>
      <author fullname="Stefano Previdi" initials="S." role="editor" surname="Previdi">
        <organization showOnFrontPage="true">Huawei Technologies</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <code/>
            <country>Italy</country>
          </postal>
          <email>stefano@previdi.net</email>
        </address>
      </author>
      <author fullname="Les Ginsberg" initials="L." role="editor" surname="Ginsberg">
        <organization showOnFrontPage="true">Cisco Systems, Inc.</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <code/>
            <country>United States of America</country>
          </postal>
          <email>ginsberg@cisco.com</email>
        </address>
      </author>
      <author fullname="Clarence Filsfils" initials="C." surname="Filsfils">
        <organization showOnFrontPage="true">Cisco Systems, Inc.</organization>
        <address>
          <postal>
            <street/>
            <city>Brussels</city>
            <region/>
            <code/>
            <country>Belgium</country>
          </postal>
          <email>cfilsfil@cisco.com</email>
        </address>
      </author>
      <author fullname="Ahmed Bashandy" initials="A." surname="Bashandy">
        <organization showOnFrontPage="true">Arrcus</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <region/>
            <country/>
          </postal>
          <email>abashandy.ietf@gmail.com</email>
        </address>
      </author>
      <author fullname="Hannes Gredler" initials="H." surname="Gredler">
        <organization showOnFrontPage="true">RtBrick Inc.</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <region/>
            <code/>
            <country/>
          </postal>
          <email>hannes@rtbrick.com</email>
        </address>
      </author>
      <author fullname="Bruno Decraene" initials="B." surname="Decraene">
        <organization showOnFrontPage="true">Orange</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <code/>
            <country>France</country>
          </postal>
          <email>bruno.decraene@orange.com</email>
        </address>
      </author>
    </section>
  </back>
</rfc>
