<?xml version='1.0' encoding='utf-8'?>
<rfc xmlns:xi="http://www.w3.org/2001/XInclude" version="3" category="std" consensus="true" docName="draft-ietf-cdni-request-routing-extensions-08" indexInclude="true" ipr="trust200902" number="8804" prepTime="2020-09-23T10:49:34" scripts="Common,Latin" sortRefs="true" submissionType="IETF" symRefs="true" tocDepth="4" tocInclude="true" xml:lang="en">
  <link href="https://datatracker.ietf.org/doc/draft-ietf-cdni-request-routing-extensions-08" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc8804" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <front>
    <title abbrev="CDNI Request Routing Extensions">Content Delivery Network Interconnection (CDNI) Request Routing Extensions</title>
    <seriesInfo name="RFC" value="8804" stream="IETF"/>
    <author fullname="Ori Finkelman" initials="O." surname="Finkelman">
      <organization showOnFrontPage="true">Qwilt</organization>
      <address>
        <postal>
          <street>6, Ha'harash</street>
          <city>Hod HaSharon</city>
          <region/>
          <code>4524079</code>
          <country>Israel</country>
        </postal>
        <phone/>
        <email>ori.finkelman.ietf@gmail.com</email>
      </address>
    </author>
    <author fullname="Sanjay Mishra" initials="S." surname="Mishra">
      <organization showOnFrontPage="true">Verizon</organization>
      <address>
        <postal>
          <street>13100 Columbia Pike</street>
          <city>Silver Spring</city>
          <region>MD</region>
          <code>20904</code>
          <country>United States of America</country>
        </postal>
        <phone/>
        <email>sanjay.mishra@verizon.com</email>
      </address>
    </author>
    <date month="09" year="2020"/>
    <abstract pn="section-abstract">
      <t indent="0" pn="section-abstract-1">Open Caching architecture is a use case of Content Delivery Network
      Interconnection (CDNI) in which the commercial Content Delivery Network
      (CDN) is the upstream CDN (uCDN) and the ISP caching layer serves as the
      downstream CDN (dCDN).  This document defines extensions to the CDNI
      Metadata Interface (MI) and the Footprint &amp; Capabilities
      Advertisement interface (FCI). These extensions are derived from
      requirements raised by Open Caching but are also applicable to CDNI use
      cases in general.
</t>
    </abstract>
    <boilerplate>
      <section anchor="status-of-memo" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.1">
        <name slugifiedName="name-status-of-this-memo">Status of This Memo</name>
        <t indent="0" pn="section-boilerplate.1-1">
            This is an Internet Standards Track document.
        </t>
        <t indent="0" pn="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.
        </t>
        <t indent="0" pn="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <eref target="https://www.rfc-editor.org/info/rfc8804" brackets="none"/>.
        </t>
      </section>
      <section anchor="copyright" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.2">
        <name slugifiedName="name-copyright-notice">Copyright Notice</name>
        <t indent="0" pn="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.
        </t>
        <t indent="0" pn="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<eref target="https://trustee.ietf.org/license-info" brackets="none"/>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.
        </t>
      </section>
    </boilerplate>
    <toc>
      <section anchor="toc" numbered="false" removeInRFC="false" toc="exclude" pn="section-toc.1">
        <name slugifiedName="name-table-of-contents">Table of Contents</name>
        <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1">
          <li pn="section-toc.1-1.1">
            <t indent="0" keepWithNext="true" pn="section-toc.1-1.1.1"><xref derivedContent="1" format="counter" sectionFormat="of" target="section-1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-introduction">Introduction</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.1.2">
              <li pn="section-toc.1-1.1.2.1">
                <t indent="0" keepWithNext="true" pn="section-toc.1-1.1.2.1.1"><xref derivedContent="1.1" format="counter" sectionFormat="of" target="section-1.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-terminology">Terminology</xref></t>
              </li>
              <li pn="section-toc.1-1.1.2.2">
                <t indent="0" keepWithNext="true" pn="section-toc.1-1.1.2.2.1"><xref derivedContent="1.2" format="counter" sectionFormat="of" target="section-1.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-requirements-language">Requirements Language</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.2">
            <t indent="0" pn="section-toc.1-1.2.1"><xref derivedContent="2" format="counter" sectionFormat="of" target="section-2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-redirect-target-capability">Redirect Target Capability</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.2.2">
              <li pn="section-toc.1-1.2.2.1">
                <t indent="0" pn="section-toc.1-1.2.2.1.1"><xref derivedContent="2.1" format="counter" sectionFormat="of" target="section-2.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-dns-redirect-target">DNS Redirect Target</xref></t>
              </li>
              <li pn="section-toc.1-1.2.2.2">
                <t indent="0" pn="section-toc.1-1.2.2.2.1"><xref derivedContent="2.2" format="counter" sectionFormat="of" target="section-2.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-http-redirect-target">HTTP Redirect Target</xref></t>
              </li>
              <li pn="section-toc.1-1.2.2.3">
                <t indent="0" pn="section-toc.1-1.2.2.3.1"><xref derivedContent="2.3" format="counter" sectionFormat="of" target="section-2.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-properties-of-redirect-targ">Properties of Redirect Target Capability Object</xref></t>
              </li>
              <li pn="section-toc.1-1.2.2.4">
                <t indent="0" pn="section-toc.1-1.2.2.4.1"><xref derivedContent="2.4" format="counter" sectionFormat="of" target="section-2.4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-dnstarget-object">DnsTarget Object</xref></t>
                <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.2.2.4.2">
                  <li pn="section-toc.1-1.2.2.4.2.1">
                    <t indent="0" pn="section-toc.1-1.2.2.4.2.1.1"><xref derivedContent="2.4.1" format="counter" sectionFormat="of" target="section-2.4.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-dnstarget-example">DnsTarget Example</xref></t>
                  </li>
                </ul>
              </li>
              <li pn="section-toc.1-1.2.2.5">
                <t indent="0" pn="section-toc.1-1.2.2.5.1"><xref derivedContent="2.5" format="counter" sectionFormat="of" target="section-2.5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-httptarget-object">HttpTarget Object</xref></t>
                <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.2.2.5.2">
                  <li pn="section-toc.1-1.2.2.5.2.1">
                    <t indent="0" pn="section-toc.1-1.2.2.5.2.1.1"><xref derivedContent="2.5.1" format="counter" sectionFormat="of" target="section-2.5.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-httptarget-example">HttpTarget Example</xref></t>
                  </li>
                </ul>
              </li>
              <li pn="section-toc.1-1.2.2.6">
                <t indent="0" pn="section-toc.1-1.2.2.6.1"><xref derivedContent="2.6" format="counter" sectionFormat="of" target="section-2.6"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-usage-example">Usage Example</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.3">
            <t indent="0" pn="section-toc.1-1.3.1"><xref derivedContent="3" format="counter" sectionFormat="of" target="section-3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-fallback-target-server-addr">Fallback Target Server Address</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.3.2">
              <li pn="section-toc.1-1.3.2.1">
                <t indent="0" pn="section-toc.1-1.3.2.1.1"><xref derivedContent="3.1" format="counter" sectionFormat="of" target="section-3.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-properties-of-fallback-targ">Properties of Fallback Target Generic Metadata Object</xref></t>
              </li>
              <li pn="section-toc.1-1.3.2.2">
                <t indent="0" pn="section-toc.1-1.3.2.2.1"><xref derivedContent="3.2" format="counter" sectionFormat="of" target="section-3.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-usage-example-2">Usage Example</xref></t>
              </li>
              <li pn="section-toc.1-1.3.2.3">
                <t indent="0" pn="section-toc.1-1.3.2.3.1"><xref derivedContent="3.3" format="counter" sectionFormat="of" target="section-3.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-ucdn-addressing-considerati">uCDN Addressing Considerations</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.4">
            <t indent="0" pn="section-toc.1-1.4.1"><xref derivedContent="4" format="counter" sectionFormat="of" target="section-4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-iana-considerations">IANA Considerations</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.4.2">
              <li pn="section-toc.1-1.4.2.1">
                <t indent="0" pn="section-toc.1-1.4.2.1.1"><xref derivedContent="4.1" format="counter" sectionFormat="of" target="section-4.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-cdni-payload-types">CDNI Payload Types</xref></t>
                <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.4.2.1.2">
                  <li pn="section-toc.1-1.4.2.1.2.1">
                    <t indent="0" pn="section-toc.1-1.4.2.1.2.1.1"><xref derivedContent="4.1.1" format="counter" sectionFormat="of" target="section-4.1.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-cdni-fci-redirecttarget-pay">CDNI FCI RedirectTarget Payload Type</xref></t>
                  </li>
                  <li pn="section-toc.1-1.4.2.1.2.2">
                    <t indent="0" pn="section-toc.1-1.4.2.1.2.2.1"><xref derivedContent="4.1.2" format="counter" sectionFormat="of" target="section-4.1.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-cdni-mi-fallbacktarget-payl">CDNI MI FallbackTarget Payload Type</xref></t>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.5">
            <t indent="0" pn="section-toc.1-1.5.1"><xref derivedContent="5" format="counter" sectionFormat="of" target="section-5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-security-considerations">Security Considerations</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.5.2">
              <li pn="section-toc.1-1.5.2.1">
                <t indent="0" pn="section-toc.1-1.5.2.1.1"><xref derivedContent="5.1" format="counter" sectionFormat="of" target="section-5.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-confidentiality-and-privacy">Confidentiality and Privacy</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.6">
            <t indent="0" pn="section-toc.1-1.6.1"><xref derivedContent="6" format="counter" sectionFormat="of" target="section-6"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-references">References</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.6.2">
              <li pn="section-toc.1-1.6.2.1">
                <t indent="0" pn="section-toc.1-1.6.2.1.1"><xref derivedContent="6.1" format="counter" sectionFormat="of" target="section-6.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-normative-references">Normative References</xref></t>
              </li>
              <li pn="section-toc.1-1.6.2.2">
                <t indent="0" pn="section-toc.1-1.6.2.2.1"><xref derivedContent="6.2" format="counter" sectionFormat="of" target="section-6.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-informative-references">Informative References</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.7">
            <t indent="0" pn="section-toc.1-1.7.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.a"/><xref derivedContent="" format="title" sectionFormat="of" target="name-acknowledgements">Acknowledgements</xref></t>
          </li>
          <li pn="section-toc.1-1.8">
            <t indent="0" pn="section-toc.1-1.8.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.b"/><xref derivedContent="" format="title" sectionFormat="of" target="name-authors-addresses">Authors' Addresses</xref></t>
          </li>
        </ul>
      </section>
    </toc>
  </front>
  <middle>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-1">
      <name slugifiedName="name-introduction">Introduction</name>
      <t indent="0" pn="section-1-1">The Streaming Video Alliance <xref target="SVA" format="default" sectionFormat="of" derivedContent="SVA"/> is
      a global association that works to solve  
      streaming video challenges in an effort to improve end-user experience
      and adoption. The Open Caching Working Group <xref target="OCWG" format="default" sectionFormat="of" derivedContent="OCWG"/> of the Streaming Video Alliance <xref target="SVA" format="default" sectionFormat="of" derivedContent="SVA"/> is focused on the
      delegation of video delivery requests from commercial CDNs to a caching
      layer at the ISP's network. Open Caching
      architecture is a specific use case of CDNI where the commercial CDN is
      the upstream CDN (uCDN) and the ISP caching layer is the downstream CDN
      (dCDN). The Open Caching Request Routing Functional Specification <xref target="OC-RR" format="default" sectionFormat="of" derivedContent="OC-RR"/> defines the Request Routing process
      and the 
      interfaces that are required for its provisioning. 

This document defines the CDNI metadata object <xref target="RFC8006" format="default" sectionFormat="of" derivedContent="RFC8006"/> and the CDNI Footprint and Capabilities
object <xref target="RFC8008" format="default" sectionFormat="of" derivedContent="RFC8008"/> that are required for Open
Caching Request Routing:</t>
      <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-1-2">
        <li pn="section-1-2.1">Redirect Target Capability (for dCDN advertising redirect target
	address)</li>
        <li pn="section-1-2.2">Fallback Target Metadata (for uCDN configuring fallback target
	address)</li>
      </ul>
      <t indent="0" pn="section-1-3">This document also registers CDNI Payload Types <xref target="RFC7736" format="default" sectionFormat="of" derivedContent="RFC7736"/> for these defined objects. 
      </t>
      <t indent="0" pn="section-1-4">For consistency with other CDNI documents, this
document follows the CDNI convention of uCDN (upstream CDN) and dCDN
(downstream CDN) to represent the commercial CDN and ISP caching layer,
respectively.</t>
      <section anchor="terminology" numbered="true" toc="include" removeInRFC="false" pn="section-1.1">
        <name slugifiedName="name-terminology">Terminology</name>
        <t indent="0" pn="section-1.1-1">The following terms are used throughout this document:</t>
        <dl newline="false" spacing="normal" indent="8" pn="section-1.1-2">
          <dt pn="section-1.1-2.1">FQDN</dt>
          <dd pn="section-1.1-2.2">Fully Qualified Domain Name</dd>
          <dt pn="section-1.1-2.3">CDN</dt>
          <dd pn="section-1.1-2.4">Content Delivery Network</dd>
        </dl>
        <t indent="0" pn="section-1.1-3">Additionally, this document reuses the terminology defined in <xref target="RFC6707" format="default" sectionFormat="of" derivedContent="RFC6707"/>, <xref target="RFC7336" format="default" sectionFormat="of" derivedContent="RFC7336"/>, <xref target="RFC8006" format="default" sectionFormat="of" derivedContent="RFC8006"/>, <xref target="RFC8007" format="default" sectionFormat="of" derivedContent="RFC8007"/>, and <xref target="RFC8008" format="default" sectionFormat="of" derivedContent="RFC8008"/>. Specifically, we use the following CDNI
	acronyms:</t>
        <dl newline="false" spacing="normal" indent="8" pn="section-1.1-4">
          <dt pn="section-1.1-4.1">FCI</dt>
          <dd pn="section-1.1-4.2">Footprint &amp; Capabilities Advertisement interface (see <xref target="RFC8008" format="default" sectionFormat="of" derivedContent="RFC8008"/>)</dd>
          <dt pn="section-1.1-4.3">MI</dt>
          <dd pn="section-1.1-4.4">Metadata Interface (see <xref target="RFC8006" format="default" sectionFormat="of" derivedContent="RFC8006"/>)</dd>
          <dt pn="section-1.1-4.5">uCDN</dt>
          <dd pn="section-1.1-4.6">Upstream CDN (see
	  <xref target="RFC7336" format="default" sectionFormat="of" derivedContent="RFC7336"/>)</dd>
          <dt pn="section-1.1-4.7">dCDN</dt>
          <dd pn="section-1.1-4.8">Downstream CDN (see
	  <xref target="RFC7336" format="default" sectionFormat="of" derivedContent="RFC7336"/>)</dd>
          <dt pn="section-1.1-4.9">RT</dt>
          <dd pn="section-1.1-4.10">Redirection Target. Endpoint for redirection from uCDN to
	  dCDN.</dd>
          <dt pn="section-1.1-4.11">RR</dt>
          <dd pn="section-1.1-4.12">Request Router. An element responsible for routing user
	  requests, typically using HTTP redirect or DNS CNAME, depending on
	  the use case.</dd>
        </dl>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-1.2">
        <name slugifiedName="name-requirements-language">Requirements Language</name>
        <t indent="0" pn="section-1.2-1">The key words "<bcp14>MUST</bcp14>", "<bcp14>MUST NOT</bcp14>",
	"<bcp14>REQUIRED</bcp14>", "<bcp14>SHALL</bcp14>", "<bcp14>SHALL NOT</bcp14>", "<bcp14>SHOULD</bcp14>", "<bcp14>SHOULD NOT</bcp14>",
	"<bcp14>RECOMMENDED</bcp14>", "<bcp14>NOT RECOMMENDED</bcp14>",
	"<bcp14>MAY</bcp14>", and "<bcp14>OPTIONAL</bcp14>" in this document
	are to be interpreted as described in BCP 14 <xref target="RFC2119" format="default" sectionFormat="of" derivedContent="RFC2119"/> <xref target="RFC8174" format="default" sectionFormat="of" derivedContent="RFC8174"/> when, and only when, they
	appear in all capitals, as shown here.</t>
      </section>
    </section>
    <section anchor="redirect-target-capability" numbered="true" toc="include" removeInRFC="false" pn="section-2">
      <name slugifiedName="name-redirect-target-capability">Redirect Target Capability</name>
      <t indent="0" pn="section-2-1">Iterative CDNI Request Redirection is defined in <xref target="RFC7336" sectionFormat="of" section="1.1" format="default" derivedLink="https://rfc-editor.org/rfc/rfc7336#section-1.1" derivedContent="RFC7336"/> and elaborated by examples in
      Sections <xref target="RFC7336" section="3.2" sectionFormat="bare" format="default" derivedLink="https://rfc-editor.org/rfc/rfc7336#section-3.2" derivedContent="RFC7336"/> and <xref target="RFC7336" section="3.4" sectionFormat="bare" format="default" derivedLink="https://rfc-editor.org/rfc/rfc7336#section-3.4" derivedContent="RFC7336"/> of <xref target="RFC7336" format="default" sectionFormat="of" derivedContent="RFC7336"/>.  A
      Redirection Target (RT) is defined in <xref target="RFC7975" sectionFormat="of" section="2" format="default" derivedLink="https://rfc-editor.org/rfc/rfc7975#section-2" derivedContent="RFC7975"/> for Recursive Request Redirection
      as:</t>
      <blockquote pn="section-2-2">The endpoint to which the User Agent is redirected.  In
      CDNI, an RT may point to a number of different components, some examples
      include a surrogate in the same CDN as the request router, a request
      router in a dCDN, or a surrogate in a dCDN.</blockquote>
      <t indent="0" pn="section-2-3">In this document, we adopt the same definition of the RT for the
      Iterative Request Redirect use case. This use case requires the
      provisioning of the RT address to be used by the uCDN in order to
      redirect to the dCDN. RT addresses can vary between different
      footprints (for example, between different regions), and they may also
      change over time (for example, as a result of network problems). Given
      this variable and dynamic nature of the redirect target address, it may
      not be suitable to advertise it during bootstrap. A more dynamic and
      footprint-oriented interface is required. <xref target="RFC7336" sectionFormat="of" section="4.3" format="default" derivedLink="https://rfc-editor.org/rfc/rfc7336#section-4.3" derivedContent="RFC7336"/> suggests that it
      could be one of the 
      roles of the FCI <xref target="RFC8008" format="default" sectionFormat="of" derivedContent="RFC8008"/>. Following
      this suggestion, we have therefore chosen to use the CDNI Footprint &amp;
      Capabilities Advertisement interface for redirect target address advertisement.</t>
      <t indent="0" pn="section-2-4">Use cases:</t>
      <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-2-5">
        <li pn="section-2-5.1">Footprint: The dCDN may want to have a different target per
	footprint. Note that a dCDN may spread across multiple
	geographies. This makes it easier to route client requests to a nearby
	request router. Though this can be achieved using a single canonical
	name and "Geo DNS", such that in different geographies the same
	hostname is resolved to different IP address, that approach has
	limitations; for example, a client may be using a third-party DNS
	resolver, making it impossible for the redirector to detect where the
	client is located, or Geo DNS granularity may be too rough for the
	requirement of the application.</li>
        <li pn="section-2-5.2">Scaling: The dCDN may choose to scale its Request Routing service
	by deploying more request routers in new locations and advertise them
	via an updatable interface like the FCI.</li>
      </ul>
      <t indent="0" pn="section-2-6">The Redirect Target capability object is used to indicate the target
      address the uCDN should use in order to redirect a client to the dCDN. A
      target may be attached to a specific uCDN host, attached to a list of
      uCDN hosts, or used globally for all the hosts of the uCDN.</t>
      <t indent="0" pn="section-2-7">When a dCDN is attaching the redirect target to a specific uCDN host
      or a list of uCDN hosts, the dCDN <bcp14>MUST</bcp14> advertise the
      hosts within the Redirect Target capability object as
      "redirecting-hosts". In this case, the uCDN can redirect to that dCDN
      address, only if the User Agent request was to one of these uCDN
      hosts.</t>
      <t indent="0" pn="section-2-8">If the Redirect Target capability object does not contain a target or
      the target is empty, the uCDN <bcp14>MUST</bcp14> interpret it as "no
      target available for these uCDN hosts for the specified footprint". In
      case such a target was already advertised in a previous FCI object, the
      uCDN <bcp14>MUST</bcp14> interpret it as an update that deletes the
      previous redirect target.</t>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-2.1">
        <name slugifiedName="name-dns-redirect-target">DNS Redirect Target</name>
        <t indent="0" pn="section-2.1-1">A redirect target for DNS redirection is an FQDN used as an alias in
	a CNAME record response (see <xref target="RFC1034" format="default" sectionFormat="of" derivedContent="RFC1034"/>) of the uCDN DNS router. 
	Note that DNS routers make
	routing decisions based on either the DNS resolver's IP address or the
	client IP subnet when EDNS0 client-subnet (ECS) is used (see <xref target="RFC7871" format="default" sectionFormat="of" derivedContent="RFC7871"/>). The dCDN may choose to advertise
	redirect targets and footprints to cover both cases, such that the
	uCDN resolution would route the DNS query to different dCDN CNAMEs
	according to client subnet or dCDN resolver IP address. This method
	further allows the dCDN DNS to optimize the resolution by localizing
	the target CNAMEs. A uCDN implementation <bcp14>SHOULD</bcp14> prefer
	routing based on client IP subnet when the ECS option is present. A dCDN
	implementation using the ECS option <bcp14>MUST</bcp14> be aware of
	the privacy drawbacks listed in <xref target="RFC7871" sectionFormat="of" section="2" format="default" derivedLink="https://rfc-editor.org/rfc/rfc7871#section-2" derivedContent="RFC7871"/> and <bcp14>SHOULD</bcp14> follow the
	guidelines provided in <xref target="RFC7871" sectionFormat="of" section="11.1" format="default" derivedLink="https://rfc-editor.org/rfc/rfc7871#section-11.1" derivedContent="RFC7871"/>.</t>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-2.2">
        <name slugifiedName="name-http-redirect-target">HTTP Redirect Target</name>
        <t indent="0" pn="section-2.2-1">A redirect target for HTTP redirection is the URI to be used as the
	value for the Location header of an HTTP redirect 3xx response,
	typically a 302 (Found) (see <xref target="RFC7231" sectionFormat="of" section="7.1.2" format="default" derivedLink="https://rfc-editor.org/rfc/rfc7231#section-7.1.2" derivedContent="RFC7231"/> and <xref target="RFC7231" sectionFormat="of" section="6.4" format="default" derivedLink="https://rfc-editor.org/rfc/rfc7231#section-6.4" derivedContent="RFC7231"/>).  
        </t>
      </section>
      <section anchor="redirect-target-capability-properties" numbered="true" toc="include" removeInRFC="false" pn="section-2.3">
        <name slugifiedName="name-properties-of-redirect-targ">Properties of Redirect Target Capability Object</name>
        <t indent="0" pn="section-2.3-1">The Redirect Target capability object consists of the following
	properties:</t>
        <dl newline="false" spacing="normal" indent="3" pn="section-2.3-2">
          <dt pn="section-2.3-2.1">Property:</dt>
          <dd pn="section-2.3-2.2">
            <t indent="0" pn="section-2.3-2.2.1">redirecting-hosts</t>
            <dl newline="false" spacing="normal" indent="3" pn="section-2.3-2.2.2">
              <dt pn="section-2.3-2.2.2.1">Description:</dt>
              <dd pn="section-2.3-2.2.2.2">One or more uCDN hosts to which this
              redirect target is attached. A redirecting host
              <bcp14>SHOULD</bcp14> be a host that was published in a
              HostMatch object by the uCDN as defined in <xref target="RFC8006" sectionFormat="of" section="4.1.2" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8006#section-4.1.2" derivedContent="RFC8006"/>.</dd>
              <dt pn="section-2.3-2.2.2.3">Type:</dt>
              <dd pn="section-2.3-2.2.2.4">A list of Endpoint objects (see <xref target="RFC8006" sectionFormat="of" section="4.3.3" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8006#section-4.3.3" derivedContent="RFC8006"/>)</dd>
              <dt pn="section-2.3-2.2.2.5">Mandatory-to-Specify:</dt>
              <dd pn="section-2.3-2.2.2.6">No. If absent or empty, the
	      redirect target applies to all hosts of the redirecting
	      uCDN.</dd>
            </dl>
          </dd>
          <dt pn="section-2.3-2.3">Property:</dt>
          <dd pn="section-2.3-2.4">
            <t indent="0" pn="section-2.3-2.4.1">dns-target</t>
            <dl newline="true" spacing="normal" indent="3" pn="section-2.3-2.4.2">
              <dt pn="section-2.3-2.4.2.1">Description:</dt>
              <dd pn="section-2.3-2.4.2.2">Target CNAME record for DNS
              redirection.</dd>
              <dt pn="section-2.3-2.4.2.3">Type:</dt>
              <dd pn="section-2.3-2.4.2.4">DnsTarget object (see <xref target="dns-target" format="default" sectionFormat="of" derivedContent="Section 2.4"/>)</dd>
              <dt pn="section-2.3-2.4.2.5">Mandatory-to-Specify:</dt>
              <dd pn="section-2.3-2.4.2.6">No. If the dns-target is
	      absent or empty, the uCDN <bcp14>MUST</bcp14> interpret it as
              "no dns-target available".</dd>
            </dl>
          </dd>
          <dt pn="section-2.3-2.5">Property:</dt>
          <dd pn="section-2.3-2.6">
            <t indent="0" pn="section-2.3-2.6.1">http-target</t>
            <dl newline="true" spacing="normal" indent="3" pn="section-2.3-2.6.2">
              <dt pn="section-2.3-2.6.2.1">Description:</dt>
              <dd pn="section-2.3-2.6.2.2">Target URI for an HTTP redirect.</dd>
              <dt pn="section-2.3-2.6.2.3">Type:</dt>
              <dd pn="section-2.3-2.6.2.4">HttpTarget object (see <xref target="http-target" format="default" sectionFormat="of" derivedContent="Section 2.5"/>)</dd>
              <dt pn="section-2.3-2.6.2.5">Mandatory-to-Specify:</dt>
              <dd pn="section-2.3-2.6.2.6">No. If the http-target is
              absent or empty, the uCDN <bcp14>MUST</bcp14> interpret it as
              "no http-target available".</dd>
            </dl>
          </dd>
        </dl>
        <t indent="0" pn="section-2.3-3">The following is an example of a Redirect Target capability object
	serialization that advertises a dCDN target address that is attached
	to a specific list of uCDN "redirecting-hosts". A uCDN host that is
	included in that list can redirect to the advertised dCDN redirect
	target. The capabilities object is serialized as a JSON object as
	defined in <xref target="RFC8008" sectionFormat="of" section="5.1" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8008#section-5.1" derivedContent="RFC8008"/>.</t>
        <sourcecode name="" type="json" markers="false" pn="section-2.3-4">
{
  "capabilities": [
    {
      "capability-type": "FCI.RedirectTarget",
      "capability-value": {
          "redirecting-hosts": [
             "a.service123.ucdn.example.com",
             "b.service123.ucdn.example.com"
          ],
          "dns-target": {
             "host": "service123.ucdn.dcdn.example.com"
          },
          "http-target": {
              "host": "us-east1.dcdn.example.com",
              "path-prefix": "/cache/1/",
              "include-redirecting-host": true
          }
      },
      "footprints": [
          &lt;Footprint objects&gt;
      ]
    }
  ]
}
</sourcecode>
      </section>
      <section anchor="dns-target" numbered="true" toc="include" removeInRFC="false" pn="section-2.4">
        <name slugifiedName="name-dnstarget-object">DnsTarget Object</name>
        <t indent="0" pn="section-2.4-1">The DnsTarget object gives the target address for the DNS response
	to delegate from the uCDN to the dCDN.</t>
        <dl newline="false" spacing="normal" indent="3" pn="section-2.4-2">
          <dt pn="section-2.4-2.1">Property:</dt>
          <dd pn="section-2.4-2.2">
            <t indent="0" pn="section-2.4-2.2.1">host</t>
            <dl newline="false" spacing="normal" indent="3" pn="section-2.4-2.2.2">
              <dt pn="section-2.4-2.2.2.1">Description:</dt>
              <dd pn="section-2.4-2.2.2.2">The host property is a hostname or an IP
	      address, without a port number.</dd>
              <dt pn="section-2.4-2.2.2.3">Type:</dt>
              <dd pn="section-2.4-2.2.2.4">Endpoint object as defined in <xref target="RFC8006" sectionFormat="of" section="4.3.3" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8006#section-4.3.3" derivedContent="RFC8006"/>, with the
              limitation that it <bcp14>SHOULD NOT</bcp14> include a port
              number and, in case a port number is present, the uCDN
              <bcp14>MUST</bcp14> ignore it.</dd>
              <dt pn="section-2.4-2.2.2.5">Mandatory-to-Specify:</dt>
              <dd pn="section-2.4-2.2.2.6">Yes.</dd>
            </dl>
          </dd>
        </dl>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-2.4.1">
          <name slugifiedName="name-dnstarget-example">DnsTarget Example</name>
          <t indent="0" pn="section-2.4.1-1">The following is an example of the DnsTarget object:</t>
          <sourcecode name="" type="json" markers="false" pn="section-2.4.1-2">
{
   "host": "service123.ucdn.dcdn.example.com"
}
</sourcecode>
          <t indent="0" pn="section-2.4.1-3">The following is an example of a DNS query for uCDN address
	  "a.service123.ucdn.example.com" and the corresponding CNAME
	  redirection response:</t>
          <artwork name="" type="" align="left" alt="" pn="section-2.4.1-4">
Query:
a.service123.ucdn.example.com: 
type A, class IN 

Response:
NAME: a.service123.ucdn.example.com, TYPE: CNAME, CLASS: IN, 
TTL: 120, RDATA: service123.ucdn.dcdn.example.com
</artwork>
        </section>
      </section>
      <section anchor="http-target" numbered="true" toc="include" removeInRFC="false" pn="section-2.5">
        <name slugifiedName="name-httptarget-object">HttpTarget Object</name>
        <t indent="0" pn="section-2.5-1">The HttpTarget object gives the necessary information to construct
	the target Location URI for HTTP redirection.</t>
        <dl newline="false" spacing="normal" indent="3" pn="section-2.5-2">
          <dt pn="section-2.5-2.1">Property:</dt>
          <dd pn="section-2.5-2.2">
            <t indent="0" pn="section-2.5-2.2.1">host</t>
            <dl newline="false" spacing="normal" indent="3" pn="section-2.5-2.2.2">
              <dt pn="section-2.5-2.2.2.1">Description:</dt>
              <dd pn="section-2.5-2.2.2.2">Hostname or IP address and an optional
              port, i.e., the host and port of the authority component of the
              URI as described in <xref target="RFC3986" sectionFormat="of" section="3.2" format="default" derivedLink="https://rfc-editor.org/rfc/rfc3986#section-3.2" derivedContent="RFC3986"/>.</dd>
              <dt pn="section-2.5-2.2.2.3">Type:</dt>
              <dd pn="section-2.5-2.2.2.4">Endpoint object as defined in <xref target="RFC8006" sectionFormat="of" section="4.3.3" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8006#section-4.3.3" derivedContent="RFC8006"/>.</dd>
              <dt pn="section-2.5-2.2.2.5">Mandatory-to-Specify:</dt>
              <dd pn="section-2.5-2.2.2.6">Yes.</dd>
            </dl>
          </dd>
          <dt pn="section-2.5-2.3">Property:</dt>
          <dd pn="section-2.5-2.4">
            <t indent="0" pn="section-2.5-2.4.1">scheme</t>
            <dl newline="false" spacing="normal" indent="3" pn="section-2.5-2.4.2">
              <dt pn="section-2.5-2.4.2.1">Description:</dt>
              <dd pn="section-2.5-2.4.2.2">A URI scheme to be used in the redirect
	      response location construction. When present, the uCDN
	      <bcp14>MUST</bcp14> use the provided scheme in for HTTP
	      redirection to the dCDN.</dd>
              <dt pn="section-2.5-2.4.2.3">Type:</dt>
              <dd pn="section-2.5-2.4.2.4">A URI scheme as defined in <xref target="RFC3986" sectionFormat="of" section="3.1" format="default" derivedLink="https://rfc-editor.org/rfc/rfc3986#section-3.1" derivedContent="RFC3986"/>, represented as a JSON  
	      string. The scheme <bcp14>MUST</bcp14> be either "http" or
	      "https".</dd>
              <dt pn="section-2.5-2.4.2.5">Mandatory-to-Specify:</dt>
              <dd pn="section-2.5-2.4.2.6">No. If this property is absent or
	      empty, the uCDN request router <bcp14>MUST</bcp14> use the same
	      scheme as was used in the original request before
	      redirection.</dd>
            </dl>
          </dd>
          <dt pn="section-2.5-2.5">Property:</dt>
          <dd pn="section-2.5-2.6">
            <t indent="0" pn="section-2.5-2.6.1">path-prefix</t>
            <dl newline="false" spacing="normal" indent="3" pn="section-2.5-2.6.2">
              <dt pn="section-2.5-2.6.2.1">Description:</dt>
              <dd pn="section-2.5-2.6.2.2">A path prefix for the HTTP redirect
              Location header. The original path is appended after this
              prefix.</dd>
              <dt pn="section-2.5-2.6.2.3">Type:</dt>
              <dd pn="section-2.5-2.6.2.4">A prefix of a path-absolute as defined in
              <xref target="RFC3986" sectionFormat="of" section="3.3" format="default" derivedLink="https://rfc-editor.org/rfc/rfc3986#section-3.3" derivedContent="RFC3986"/>. The
              prefix <bcp14>MUST</bcp14> end with a trailing slash to indicate
              the end of the last path segment in the prefix.</dd>
              <dt pn="section-2.5-2.6.2.5">Mandatory-to-Specify:</dt>
              <dd pn="section-2.5-2.6.2.6">No. If this property is absent
              or empty, the uCDN <bcp14>MUST NOT</bcp14> prepend a path-prefix
              to the original content path, i.e., the original path
              <bcp14>MUST</bcp14> appear in the Location URI right after the
              authority component.</dd>
            </dl>
          </dd>
          <dt pn="section-2.5-2.7">Property:</dt>
          <dd pn="section-2.5-2.8">
            <t indent="0" pn="section-2.5-2.8.1">include-redirecting-host</t>
            <dl newline="false" spacing="normal" indent="3" pn="section-2.5-2.8.2">
              <dt pn="section-2.5-2.8.2.1">Description:</dt>
              <dd pn="section-2.5-2.8.2.2">A flag indicating whether or not to
              include the redirecting host as the first path segment after the
              path-prefix. If set to true and a "path-prefix" is used, the
              uCDN redirecting host <bcp14>MUST</bcp14> be added as a separate
              path segment after the path-prefix and before the original URL
              path. If set to true and there is no path-prefix, the uCDN
              redirecting host <bcp14>MUST</bcp14> be prepended as the first
              path segment in the redirect URL.</dd>
              <dt pn="section-2.5-2.8.2.3">Type:</dt>
              <dd pn="section-2.5-2.8.2.4">Boolean.</dd>
              <dt pn="section-2.5-2.8.2.5">Mandatory-to-Specify:</dt>
              <dd pn="section-2.5-2.8.2.6">No. Default value is False.</dd>
            </dl>
          </dd>
        </dl>
        <section numbered="true" toc="include" removeInRFC="false" pn="section-2.5.1">
          <name slugifiedName="name-httptarget-example">HttpTarget Example</name>
          <t indent="0" pn="section-2.5.1-1">The following is an example of the HttpTarget object with a "scheme", a "path-prefix",
	  and "include-redirecting-host" properties:</t>
          <sourcecode name="" type="json" markers="false" pn="section-2.5.1-2">
{
   "host": "us-east1.dcdn.example.com",
   "scheme": "https",
   "path-prefix": "/cache/1/",
   "include-redirecting-host": true
}
</sourcecode>
          <t indent="0" pn="section-2.5.1-3">The following is an example of an HTTP request for content at uCDN host
	  "a.service123.ucdn.example.com" and the corresponding HTTP response
	  with a Location header, used for redirecting the client to the dCDN,
	  constructed according to the HttpTarget object from the above
	  example:</t>
          <artwork name="" type="" align="left" alt="" pn="section-2.5.1-4">
Request:
GET /vod/1/movie.mp4 HTTP/1.1
Host: a.service123.ucdn.example.com

Response:
HTTP/1.1 302 Found
Location: https://us-east1.dcdn.example.com/cache/1/
a.service123.ucdn.example.com/vod/1/movie.mp4
</artwork>
        </section>
      </section>
      <section anchor="redirect-target-usage-example" numbered="true" toc="include" removeInRFC="false" pn="section-2.6">
        <name slugifiedName="name-usage-example">Usage Example</name>
        <t indent="0" pn="section-2.6-1">Before requests can be routed from the uCDN to the dCDN, the CDNs
        must exchange service configurations between them. Using the MI, the
        uCDN advertises out-of-band its hosts to the dCDN; each host is
        designated by a hostname and has its own specific metadata (see <xref target="RFC8006" sectionFormat="of" section="4.1.2" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8006#section-4.1.2" derivedContent="RFC8006"/>). Using the FCI,
        the dCDN advertises (also out-of-band) the redirect target address
        defined in <xref target="redirect-target-capability-properties" format="default" sectionFormat="of" derivedContent="Section 2.3"/> for the relevant uCDN hosts. The following is a
        generalized example of the message flow between a uCDN and a dCDN. For
        simplicity, we focus on the sequence of messages between the uCDN and
        dCDN and not on how they are passed.</t>
        <figure anchor="redirect" align="left" suppress-title="false" pn="figure-1">
          <name slugifiedName="name-redirect-target-address-adv">Redirect Target Address Advertisement</name>
          <artwork name="" type="" align="left" alt="" pn="section-2.6-2.1">
  dCDN                                                    uCDN
    +                                                       +
    |                                                       |
(1) | MI:  host: s123.ucdn.example.com                      |
    |      host-metadata: &lt; metadata &gt;                      |
    &lt;-------------------------------------------------------+
    |                                                       |
(2) | FCI:  capability-type: FCI.RedirectTarget             |
    |       redirecting-hosts: s123.ucdn.example.com        |
    |       target host: us-east1.dcdn.example.com          |
    +-------------------------------------------------------&gt;
    |                                                       |
    |                                                       |
    +                                                       +
</artwork>
        </figure>
        <t indent="0" pn="section-2.6-3">Explanation:
</t>
        <ol spacing="normal" type="(%d)" indent="adaptive" start="1" pn="section-2.6-4">
          <li pn="section-2.6-4.1" derivedCounter="(1)">The uCDN advertises a host (s123.ucdn.example.com) with the host
	  metadata.</li>
          <li pn="section-2.6-4.2" derivedCounter="(2)">The dCDN advertises its FCI objects to the uCDN, including a
          Redirect Target capability object that contains the redirect target
          address (us-east1.dcdn.example.com) specified for that uCDN
          host.</li>
        </ol>
        <t indent="0" pn="section-2.6-5">Once the redirect target has been set, the uCDN can start
	redirecting user requests to the dCDN. The following is a generic
	sequence of redirection using the host and redirect target that were
	advertised in <xref target="redirect" format="default" sectionFormat="of" derivedContent="Figure 1"/>.</t>
        <figure anchor="generic" align="left" suppress-title="false" pn="figure-2">
          <name slugifiedName="name-generic-request-redirection">Generic Request Redirection Sequence</name>
          <artwork name="" type="" align="left" alt="" pn="section-2.6-6.1">
End User                  dCDN                   uCDN RR
    +                       +                       +
    |                       |                       |
(1) | Request sent s123.ucdn.example.com            |
    +-----------------------+-----------------------&gt;
    |                       |                       |
(2) | Redirect to us-east1.dcdn.example.com         |
    &lt;-----------------------+-----------------------+
    |                       |                       |
(3) | Request us-east1.dcdn.example.com             |
    +-----------------------&gt;                       |
    |                       |                       |
(4) | Response              |                       |
    &lt;-----------------------+                       |
    |                       |                       |
    +                       +                       +
</artwork>
        </figure>
        <t indent="0" pn="section-2.6-7">Explanation:</t>
        <ol spacing="normal" type="(%d)" indent="adaptive" start="1" pn="section-2.6-8">
          <li pn="section-2.6-8.1" derivedCounter="(1)">The End User sends a request (DNS or HTTP) to the uCDN Request
	  Router (RR).</li>
          <li pn="section-2.6-8.2" derivedCounter="(2)">Using the previously advertised Redirect Target, the uCDN
	  redirects the request to the dCDN.</li>
          <li pn="section-2.6-8.3" derivedCounter="(3)">The End User sends a request to the dCDN.</li>
          <li pn="section-2.6-8.4" derivedCounter="(4)">The dCDN either sends a response or reroutes it, for example, to
	  a dCDN surrogate.</li>
        </ol>
      </section>
    </section>
    <section anchor="fallback-target-metadata" numbered="true" toc="include" removeInRFC="false" pn="section-3">
      <name slugifiedName="name-fallback-target-server-addr">Fallback Target Server Address</name>
      <t indent="0" pn="section-3-1">Open Caching requires that the uCDN provides a fallback target server
      to the dCDN to be used in cases where the dCDN cannot properly handle
      the request. To avoid redirect loops, the fallback target server's
      address at the uCDN <bcp14>MUST</bcp14> be different from the original
      uCDN address from which the client was redirected to the dCDN. The uCDN
      <bcp14>MUST</bcp14> avoid further redirection when receiving the client
      request at the fallback target. The Fallback Target is defined as a
      generic metadata object (see <xref target="RFC8006" sectionFormat="of" section="3.2" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8006#section-3.2" derivedContent="RFC8006"/>).</t>
      <t indent="0" pn="section-3-2">Use cases:</t>
      <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-3-3">
        <li pn="section-3-3.1">Failover: A dCDN request router receives a request but has no
	caches to which it can route the request. This can happen in the case
	of failures or temporary network overload.</li>
        <li pn="section-3-3.2">No coverage: A dCDN request router receives a request from a
	client located in an area inside the footprint but not covered by the
	dCDN caches or outside the dCDN  footprint coverage. In such cases,
	the router may choose to redirect the request back to the uCDN
	fallback address.</li>
        <li pn="section-3-3.3">Error: A cache may receive a request that it cannot properly
	serve, for example, some of the metadata objects for that service were
	not properly acquired. In this case, the cache's "default action" may
	be to "redirect back to uCDN".</li>
      </ul>
      <t indent="0" pn="section-3-4">The Fallback Target metadata object is used to indicate the target
      address the dCDN should redirect a client to when falling back to the
      uCDN. The fallback target address is represented as an Endpoint object as
      defined in <xref target="RFC8006" sectionFormat="of" section="4.3.3" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8006#section-4.3.3" derivedContent="RFC8006"/>.</t>
      <t indent="0" pn="section-3-5">In DNS redirection, a CNAME record is used as the fallback target
      address.</t>
      <t indent="0" pn="section-3-6">In HTTP redirection, a hostname is used as the fallback target
      address.</t>
      <t indent="0" pn="section-3-7">When using HTTP redirect to route a client request back to the uCDN,
      it is the dCDN's responsibility to use the original URL path as the
      client would have used for the original uCDN request, stripping, if
      needed, the dCDN path-prefix and/or the uCDN hostname from the redirect
      URL that may have been used to request the content from the dCDN.</t>
      <section anchor="fallback-target-metadata-properties" numbered="true" toc="include" removeInRFC="false" pn="section-3.1">
        <name slugifiedName="name-properties-of-fallback-targ">Properties of Fallback Target Generic Metadata Object</name>
        <t indent="0" pn="section-3.1-1">The MI.FallbackTarget generic metadata object consists of the following
	two properties:</t>
        <dl newline="false" spacing="normal" indent="3" pn="section-3.1-2">
          <dt pn="section-3.1-2.1">Property:</dt>
          <dd pn="section-3.1-2.2">
            <t indent="0" pn="section-3.1-2.2.1">host</t>
            <dl newline="false" spacing="normal" indent="3" pn="section-3.1-2.2.2">
              <dt pn="section-3.1-2.2.2.1">Description:</dt>
              <dd pn="section-3.1-2.2.2.2">Target address to which the dCDN can
              redirect the client.</dd>
              <dt pn="section-3.1-2.2.2.3">Type:</dt>
              <dd pn="section-3.1-2.2.2.4">Endpoint object as defined in <xref target="RFC8006" sectionFormat="of" section="4.3.3" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8006#section-4.3.3" derivedContent="RFC8006"/>, with the
              limitation that in case of DNS delegation, it <bcp14>SHOULD NOT</bcp14> include a port number, and in case a port number is
              present, the dCDN <bcp14>MUST</bcp14> ignore it.</dd>
              <dt pn="section-3.1-2.2.2.5">Mandatory-to-Specify:</dt>
              <dd pn="section-3.1-2.2.2.6">Yes.</dd>
            </dl>
          </dd>
          <dt pn="section-3.1-2.3">Property:</dt>
          <dd pn="section-3.1-2.4">
            <t indent="0" pn="section-3.1-2.4.1">scheme</t>
            <dl newline="false" spacing="normal" indent="3" pn="section-3.1-2.4.2">
              <dt pn="section-3.1-2.4.2.1">Description:</dt>
              <dd pn="section-3.1-2.4.2.2">A URI scheme to be used in the redirect
	      response location construction. When present, the dCDN
	      <bcp14>MUST</bcp14> use this scheme in case of HTTP redirection
	      to the uCDN fallback address.</dd>
              <dt pn="section-3.1-2.4.2.3">Type:</dt>
              <dd pn="section-3.1-2.4.2.4">A URI scheme as defined in <xref target="RFC3986" sectionFormat="of" section="3.1" format="default" derivedLink="https://rfc-editor.org/rfc/rfc3986#section-3.1" derivedContent="RFC3986"/>, represented as a JSON 
	      string. The scheme <bcp14>MUST</bcp14> be either "http" or
	      "https".</dd>
              <dt pn="section-3.1-2.4.2.5">Mandatory-to-Specify:</dt>
              <dd pn="section-3.1-2.4.2.6">No. In case of HTTP redirection to
	      fallback, if this property is absent or empty, the dCDN
	      redirecting entity <bcp14>MUST</bcp14> use the same scheme as in
	      the request received by the dCDN.</dd>
            </dl>
          </dd>
        </dl>
        <t indent="0" pn="section-3.1-3">The following is an example of an MI.FallbackTarget generic
        metadata object that designates the host address the dCDN should use
        as fallback address to redirect back to the uCDN:</t>
        <sourcecode name="" type="json" markers="false" pn="section-3.1-4">
{
    "generic-metadata-type": "MI.FallbackTarget",
    "generic-metadata-value":
    {
        "host": "fallback-a.service123.ucdn.example",
        "scheme": "https"
    }
}
</sourcecode>
      </section>
      <section anchor="fallback-address-usage-example" numbered="true" toc="include" removeInRFC="false" pn="section-3.2">
        <name slugifiedName="name-usage-example-2">Usage Example</name>
        <t indent="0" pn="section-3.2-1">The uCDN advertises out-of-band the fallback target address to the
	dCDN, so that the dCDN may redirect a request back to the uCDN in case
	the dCDN cannot serve it. Using the MI, the uCDN advertises its hosts
	to the dCDN, along with their specific host metadata (see <xref target="RFC8006" sectionFormat="of" section="4.1.2" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8006#section-4.1.2" derivedContent="RFC8006"/>). The Fallback 
	Target generic metadata object is encapsulated within the
	"host-metadata" property of each host. The following is an example of
	a message flow between a uCDN and a dCDN.  For
	simplicity, we focus on the sequence of messages between the uCDN and
	dCDN, not on how they are passed.</t>
        <figure anchor="fallback" align="left" suppress-title="false" pn="figure-3">
          <name slugifiedName="name-advertisement-of-host-metad">Advertisement of Host Metadata with Fallback Target</name>
          <artwork name="" type="" align="left" alt="" pn="section-3.2-2.1">
  dCDN                                                    uCDN
    +                                                       +
    |                                                       |
(1) | MI:  host: s123.ucdn.example.com                      |
    |      host-metadata:                                   |
    |          &lt; metadata objects &gt;                         |
    |          &lt; MI.FallbackTarget                          |
    |            host: fallback-a.service123.ucdn.example &gt; |
    |          &lt; metadata objects &gt;                         |
    &lt;-------------------------------------------------------+
    |                                                       |
(2) | FCI:  capability-type: FCI.RedirectTarget             |
    |       redirecting-hosts: s123.ucdn.example.com        |
    |       target host: us-east1.dcdn.example.com          |
    +-------------------------------------------------------&gt;
    |                                                       |
    |                                                       |
    +                                                       +
</artwork>
        </figure>
        <t indent="0" pn="section-3.2-3">Explanation:
</t>
        <ol spacing="normal" type="(%d)" indent="adaptive" start="1" pn="section-3.2-4">
          <li pn="section-3.2-4.1" derivedCounter="(1)">The uCDN advertises a host (s123.ucdn.example.com) with the host
          metadata. The host-metadata property contains an MI.FallbackTarget
          generic metadata object.</li>
          <li pn="section-3.2-4.2" derivedCounter="(2)">The dCDN advertises its FCI objects to the uCDN, including a
          Redirect Target capability object that contains the redirect target
          address (us-east1.dcdn.example.com) specified for that uCDN
          host.</li>
        </ol>
        <t indent="0" pn="section-3.2-5">The following is a generic sequence of redirection using the
	configurations that were advertised in <xref target="fallback" format="default" sectionFormat="of" derivedContent="Figure 3"/>. In this case, 
	the dCDN redirects back to the uCDN fallback target address.</t>
        <figure anchor="redirection" align="left" suppress-title="false" pn="figure-4">
          <name slugifiedName="name-redirection-to-fallback-tar">Redirection to Fallback Target</name>
          <artwork name="" type="" align="left" alt="" pn="section-3.2-6.1">
End User              dCDN            uCDN fallback          uCDN RR
    +                   +                   +                   +
    |                   |                   |                   |
(1) | Request sent s123.ucdn.example.com    |                   |
    +-------------------+-------------------+-------------------&gt;
    |                   |                   |                   |
(2) | Redirect to us-east1.dcdn.example.com |                   |
    &lt;-------------------+-------------------+-------------------+
    |                   |                   |                   |
(3) | Request us-east1.dcdn.example.com     |                   |
    +-------------------&gt;                   |                   |
    |                   |                   |                   |
(4) | Redirect back to fallback-a.service123.ucdn.example       |
    &lt;-------------------+                   |                   |
    |                   |                   |                   |
(5) | Request fallback-a.service123.ucdn.example                |
    +---------------------------------------&gt;                   |
    |                   |                   |                   |
(6) | Response          |                   |                   | 
    &lt;-------------------+-------------------+                   |
    |                   |                   |                   |
    +                   +                   +                   +
</artwork>
        </figure>
        <t indent="0" pn="section-3.2-7">Explanation:
</t>
        <ol spacing="normal" type="(%d)" indent="adaptive" start="1" pn="section-3.2-8">
          <li pn="section-3.2-8.1" derivedCounter="(1)">The End User sends a request (DNS or HTTP) to the uCDN Request
	  Router (RR).</li>
          <li pn="section-3.2-8.2" derivedCounter="(2)">Using the previously advertised Redirect Target, the uCDN
	  redirects the request to the dCDN.</li>
          <li pn="section-3.2-8.3" derivedCounter="(3)">The End User sends a request to the dCDN.</li>
          <li pn="section-3.2-8.4" derivedCounter="(4)">The dCDN cannot handle the request and therefore redirects it
	  back to the uCDN fallback target address.</li>
          <li pn="section-3.2-8.5" derivedCounter="(5)">The End User sends the request to the uCDN fallback target
	  address.</li>
          <li pn="section-3.2-8.6" derivedCounter="(6)">The uCDN either sends a response or reroutes it, for example, to
	  a uCDN surrogate.</li>
        </ol>
      </section>
      <section numbered="true" toc="include" removeInRFC="false" pn="section-3.3">
        <name slugifiedName="name-ucdn-addressing-considerati">uCDN Addressing Considerations</name>
        <t indent="0" pn="section-3.3-1">When advertising fallback addresses to the dCDN, the uCDN
	<bcp14>SHOULD</bcp14> consider the failure use cases that may lead the
	dCDN to route requests to uCDN fallback. In extreme dCDN network
	failures or under denial-of-service (DoS) attacks, requests coming
	from  a large segment or multiple segments of the dCDN may be routed
	back to the uCDN. The uCDN <bcp14>SHOULD</bcp14> therefore design its
	fallback addressing scheme and its available resources accordingly. A
	favorable approach would be for the uCDN to use a different fallback
	target address for each uCDN host, enabling it to load balance the
	requests using the same methods as it would for its original
	hosts. See Sections <xref target="RFC8006" section="4.1.2" sectionFormat="bare" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8006#section-4.1.2" derivedContent="RFC8006"/> and <xref target="RFC8006" section="4.1.3" sectionFormat="bare" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8006#section-4.1.3" derivedContent="RFC8006"/> of <xref target="RFC8006" format="default" sectionFormat="of" derivedContent="RFC8006"/> for
	a detailed description of how to use GenericMetadata objects within
	the HostMatch object advertised in the HostIndex of the uCDN.</t>
      </section>
    </section>
    <section anchor="IANA" numbered="true" toc="include" removeInRFC="false" pn="section-4">
      <name slugifiedName="name-iana-considerations">IANA Considerations</name>
      <section anchor="IANA.payload" numbered="true" toc="include" removeInRFC="false" pn="section-4.1">
        <name slugifiedName="name-cdni-payload-types">CDNI Payload Types</name>
        <t indent="0" pn="section-4.1-1">IANA has registered the following CDNI
	Payload Types in the "CDNI Payload Types" registry defined in
	<xref target="RFC7736" format="default" sectionFormat="of" derivedContent="RFC7736"/>:</t>
        <table align="center" pn="table-1">
          <thead>
            <tr>
              <th align="left" colspan="1" rowspan="1">Payload Type</th>
              <th align="left" colspan="1" rowspan="1">Specification</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="left" colspan="1" rowspan="1">FCI.RedirectTarget</td>
              <td align="left" colspan="1" rowspan="1">RFC 8804</td>
            </tr>
            <tr>
              <td align="left" colspan="1" rowspan="1">MI.FallbackTarget</td>
              <td align="left" colspan="1" rowspan="1">RFC 8804</td>
            </tr>
          </tbody>
        </table>
        <section anchor="IANA.payload.RedirectTarget" numbered="true" toc="include" removeInRFC="false" pn="section-4.1.1">
          <name slugifiedName="name-cdni-fci-redirecttarget-pay">CDNI FCI RedirectTarget Payload Type</name>
          <dl newline="false" spacing="normal" indent="3" pn="section-4.1.1-1">
            <dt pn="section-4.1.1-1.1">Purpose:</dt>
            <dd pn="section-4.1.1-1.2">The purpose of this payload type is to
             distinguish FCI advertisement objects for redirect target.</dd>
            <dt pn="section-4.1.1-1.3">Interface:</dt>
            <dd pn="section-4.1.1-1.4">FCI</dd>
            <dt pn="section-4.1.1-1.5">Encoding:</dt>
            <dd pn="section-4.1.1-1.6">See <xref target="redirect-target-capability-properties" format="default" sectionFormat="of" derivedContent="Section 2.3"/>.</dd>
          </dl>
        </section>
        <section anchor="IANA.payload.FallbackTarget" numbered="true" toc="include" removeInRFC="false" pn="section-4.1.2">
          <name slugifiedName="name-cdni-mi-fallbacktarget-payl">CDNI MI FallbackTarget Payload Type</name>
          <dl newline="false" spacing="normal" indent="3" pn="section-4.1.2-1">
            <dt pn="section-4.1.2-1.1">Purpose:</dt>
            <dd pn="section-4.1.2-1.2">The purpose of this payload type is to distinguish
	  FallbackTarget MI objects (and any associated capability
	  advertisement).</dd>
            <dt pn="section-4.1.2-1.3">Interface:</dt>
            <dd pn="section-4.1.2-1.4">MI/FCI</dd>
            <dt pn="section-4.1.2-1.5">Encoding:</dt>
            <dd pn="section-4.1.2-1.6">See <xref target="fallback-target-metadata-properties" format="default" sectionFormat="of" derivedContent="Section 3.1"/>.</dd>
          </dl>
        </section>
      </section>
    </section>
    <section anchor="Security" numbered="true" toc="include" removeInRFC="false" pn="section-5">
      <name slugifiedName="name-security-considerations">Security Considerations</name>
      <t indent="0" pn="section-5-1">This specification defines extensions to the CDNI Metadata Interface
      (MI) and the Footprint &amp; Capabilities Advertisement interface (FCI). As such,
      it is subject to the security and privacy considerations defined in
      <xref target="RFC8006" sectionFormat="of" section="8" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8006#section-8" derivedContent="RFC8006"/> and in
      <xref target="RFC8008" sectionFormat="of" section="7" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8008#section-7" derivedContent="RFC8008"/>,
      respectively.</t>
      <section anchor="Privacy" numbered="true" toc="include" removeInRFC="false" pn="section-5.1">
        <name slugifiedName="name-confidentiality-and-privacy">Confidentiality and Privacy</name>
        <t indent="0" pn="section-5.1-1">The Redirect Target capability object potentially reveals information
	about the internal structure of the dCDN network. A third party could
	intercept the FCI transactions and use the information to attack the
	dCDN. The same is also true for the Fallback Target generic metadata object, as
	it may reveal information about the internal structure of the uCDN,
	exposing it to external exploits. Implementations of the FCI and MI
	<bcp14>MUST</bcp14> therefore use strong authentication and encryption
	and strictly follow the directions for securing the interface as
	defined for the Metadata Interface in <xref target="RFC8006" sectionFormat="of" section="8.3" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8006#section-8.3" derivedContent="RFC8006"/>.</t>
      </section>
    </section>
  </middle>
  <back>
    <references pn="section-6">
      <name slugifiedName="name-references">References</name>
      <references pn="section-6.1">
        <name slugifiedName="name-normative-references">Normative References</name>
        <reference anchor="RFC1034" target="https://www.rfc-editor.org/info/rfc1034" quoteTitle="true" derivedAnchor="RFC1034">
          <front>
            <title>Domain names - concepts and facilities</title>
            <author initials="P.V." surname="Mockapetris" fullname="P.V. Mockapetris">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="1987" month="November"/>
            <abstract>
              <t indent="0">This RFC is the revised basic definition of The Domain Name System.  It obsoletes RFC-882.  This memo describes the domain style names and their used for host address look up and electronic mail forwarding.  It discusses the clients and servers in the domain name system and the protocol used between them.</t>
            </abstract>
          </front>
          <seriesInfo name="STD" value="13"/>
          <seriesInfo name="RFC" value="1034"/>
          <seriesInfo name="DOI" value="10.17487/RFC1034"/>
        </reference>
        <reference anchor="RFC2119" target="https://www.rfc-editor.org/info/rfc2119" quoteTitle="true" derivedAnchor="RFC2119">
          <front>
            <title>Key words for use in RFCs to Indicate Requirement Levels</title>
            <author initials="S." surname="Bradner" fullname="S. Bradner">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="1997" month="March"/>
            <abstract>
              <t indent="0">In many standards track documents several words are used to signify the requirements in the specification.  These words are often capitalized. This document defines these words as they should be interpreted in IETF documents.  This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="2119"/>
          <seriesInfo name="DOI" value="10.17487/RFC2119"/>
        </reference>
        <reference anchor="RFC3986" target="https://www.rfc-editor.org/info/rfc3986" quoteTitle="true" derivedAnchor="RFC3986">
          <front>
            <title>Uniform Resource Identifier (URI): Generic Syntax</title>
            <author initials="T." surname="Berners-Lee" fullname="T. Berners-Lee">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Fielding" fullname="R. Fielding">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="L." surname="Masinter" fullname="L. Masinter">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2005" month="January"/>
            <abstract>
              <t indent="0">A Uniform Resource Identifier (URI) is a compact sequence of characters that identifies an abstract or physical resource.  This specification defines the generic URI syntax and a process for resolving URI references that might be in relative form, along with guidelines and security considerations for the use of URIs on the Internet.  The URI syntax defines a grammar that is a superset of all valid URIs, allowing an implementation to parse the common components of a URI reference without knowing the scheme-specific requirements of every possible identifier.  This specification does not define a generative grammar for URIs; that task is performed by the individual specifications of each URI scheme.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="STD" value="66"/>
          <seriesInfo name="RFC" value="3986"/>
          <seriesInfo name="DOI" value="10.17487/RFC3986"/>
        </reference>
        <reference anchor="RFC6707" target="https://www.rfc-editor.org/info/rfc6707" quoteTitle="true" derivedAnchor="RFC6707">
          <front>
            <title>Content Distribution Network Interconnection (CDNI) Problem Statement</title>
            <author initials="B." surname="Niven-Jenkins" fullname="B. Niven-Jenkins">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="F." surname="Le Faucheur" fullname="F. Le Faucheur">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="N." surname="Bitar" fullname="N. Bitar">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2012" month="September"/>
            <abstract>
              <t indent="0">Content Delivery Networks (CDNs) provide numerous benefits for cacheable content: reduced delivery cost, improved quality of experience for End Users, and increased robustness of delivery.  For these reasons, they are frequently used for large-scale content delivery.  As a result, existing CDN Providers are scaling up their infrastructure, and many Network Service Providers (NSPs) are deploying their own CDNs.  It is generally desirable that a given content item can be delivered to an End User regardless of that End User's location or attachment network.  This is the motivation for interconnecting standalone CDNs so they can interoperate as an open content delivery infrastructure for the end-to-end delivery of content from Content Service Providers (CSPs) to End Users.  However, no standards or open specifications currently exist to facilitate such CDN Interconnection.</t>
              <t indent="0">The goal of this document is to outline the problem area of CDN Interconnection for the IETF CDNI (CDN Interconnection) working group.  This document is not an Internet Standards Track specification;  it is published for informational purposes.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="6707"/>
          <seriesInfo name="DOI" value="10.17487/RFC6707"/>
        </reference>
        <reference anchor="RFC7231" target="https://www.rfc-editor.org/info/rfc7231" quoteTitle="true" derivedAnchor="RFC7231">
          <front>
            <title>Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content</title>
            <author initials="R." surname="Fielding" fullname="R. Fielding" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="J." surname="Reschke" fullname="J. Reschke" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2014" month="June"/>
            <abstract>
              <t indent="0">The Hypertext Transfer Protocol (HTTP) is a stateless \%application- level protocol for distributed, collaborative, hypertext information systems.  This document defines the semantics of HTTP/1.1 messages, as expressed by request methods, request header fields, response status codes, and response header fields, along with the payload of messages (metadata and body content) and mechanisms for content negotiation.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7231"/>
          <seriesInfo name="DOI" value="10.17487/RFC7231"/>
        </reference>
        <reference anchor="RFC7336" target="https://www.rfc-editor.org/info/rfc7336" quoteTitle="true" derivedAnchor="RFC7336">
          <front>
            <title>Framework for Content Distribution Network Interconnection (CDNI)</title>
            <author initials="L." surname="Peterson" fullname="L. Peterson">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B." surname="Davie" fullname="B. Davie">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="van Brandenburg" fullname="R. van Brandenburg" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2014" month="August"/>
            <abstract>
              <t indent="0">This document presents a framework for Content Distribution Network Interconnection (CDNI).  The purpose of the framework is to provide an overall picture of the problem space of CDNI and to describe the relationships among the various components necessary to interconnect CDNs.  CDNI requires the specification of interfaces and mechanisms to address issues such as request routing, distribution metadata exchange, and logging information exchange across CDNs.  The intent of this document is to outline what each interface needs to accomplish and to describe how these interfaces and mechanisms fit together, while leaving their detailed specification to other documents.  This document, in combination with RFC 6707, obsoletes RFC 3466.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7336"/>
          <seriesInfo name="DOI" value="10.17487/RFC7336"/>
        </reference>
        <reference anchor="RFC7975" target="https://www.rfc-editor.org/info/rfc7975" quoteTitle="true" derivedAnchor="RFC7975">
          <front>
            <title>Request Routing Redirection Interface for Content Delivery Network (CDN) Interconnection</title>
            <author initials="B." surname="Niven-Jenkins" fullname="B. Niven-Jenkins" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="van Brandenburg" fullname="R. van Brandenburg" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2016" month="October"/>
            <abstract>
              <t indent="0">The Request Routing interface comprises (1) the asynchronous advertisement of footprint and capabilities by a downstream Content Delivery Network (CDN) that allows an upstream CDN to decide whether to redirect particular user requests to that downstream CDN; and (2) the synchronous operation of an upstream CDN requesting whether a downstream CDN is prepared to accept a user request and of a downstream CDN responding with how to actually redirect the user request.  This document describes an interface for the latter part, i.e., the CDNI Request Routing Redirection interface.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7975"/>
          <seriesInfo name="DOI" value="10.17487/RFC7975"/>
        </reference>
        <reference anchor="RFC8006" target="https://www.rfc-editor.org/info/rfc8006" quoteTitle="true" derivedAnchor="RFC8006">
          <front>
            <title>Content Delivery Network Interconnection (CDNI) Metadata</title>
            <author initials="B." surname="Niven-Jenkins" fullname="B. Niven-Jenkins">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Murray" fullname="R. Murray">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Caulfield" fullname="M. Caulfield">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="K." surname="Ma" fullname="K. Ma">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2016" month="December"/>
            <abstract>
              <t indent="0">The Content Delivery Network Interconnection (CDNI) Metadata interface enables interconnected Content Delivery Networks (CDNs) to exchange content distribution metadata in order to enable content acquisition and delivery.  The CDNI Metadata associated with a piece of content provides a downstream CDN with sufficient information for the downstream CDN to service content requests on behalf of an upstream CDN.  This document describes both a base set of CDNI Metadata and the protocol for exchanging that metadata.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8006"/>
          <seriesInfo name="DOI" value="10.17487/RFC8006"/>
        </reference>
        <reference anchor="RFC8007" target="https://www.rfc-editor.org/info/rfc8007" quoteTitle="true" derivedAnchor="RFC8007">
          <front>
            <title>Content Delivery Network Interconnection (CDNI) Control Interface / Triggers</title>
            <author initials="R." surname="Murray" fullname="R. Murray">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B." surname="Niven-Jenkins" fullname="B. Niven-Jenkins">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2016" month="December"/>
            <abstract>
              <t indent="0">This document describes the part of the Content Delivery Network Interconnection (CDNI) Control interface that allows a CDN to trigger activity in an interconnected CDN that is configured to deliver content on its behalf.  The upstream CDN can use this mechanism to request that the downstream CDN pre-position metadata or content or to request that it invalidate or purge metadata or content.  The upstream CDN can monitor the status of activity that it has triggered in the downstream CDN.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8007"/>
          <seriesInfo name="DOI" value="10.17487/RFC8007"/>
        </reference>
        <reference anchor="RFC8008" target="https://www.rfc-editor.org/info/rfc8008" quoteTitle="true" derivedAnchor="RFC8008">
          <front>
            <title>Content Delivery Network Interconnection (CDNI) Request Routing: Footprint and Capabilities Semantics</title>
            <author initials="J." surname="Seedorf" fullname="J. Seedorf">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="J." surname="Peterson" fullname="J. Peterson">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Previdi" fullname="S. Previdi">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="van Brandenburg" fullname="R. van Brandenburg">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="K." surname="Ma" fullname="K. Ma">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2016" month="December"/>
            <abstract>
              <t indent="0">This document captures the semantics of the "Footprint and                          Capabilities Advertisement" part of the Content Delivery Network Interconnection (CDNI) Request Routing interface, i.e., the desired meaning of "Footprint" and "Capabilities" in the CDNI context and what the "Footprint &amp; Capabilities Advertisement interface (FCI)" offers within CDNI.  The document also provides guidelines for the CDNI FCI protocol.  It further defines a Base Advertisement Object, the necessary registries for capabilities and footprints, and guidelines on how these registries can be extended in the future.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8008"/>
          <seriesInfo name="DOI" value="10.17487/RFC8008"/>
        </reference>
        <reference anchor="RFC8174" target="https://www.rfc-editor.org/info/rfc8174" quoteTitle="true" derivedAnchor="RFC8174">
          <front>
            <title>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</title>
            <author initials="B." surname="Leiba" fullname="B. Leiba">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2017" month="May"/>
            <abstract>
              <t indent="0">RFC 2119 specifies common key words that may be used in protocol  specifications.  This document aims to reduce the ambiguity by clarifying that only UPPERCASE usage of the key words have the  defined special meanings.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="8174"/>
          <seriesInfo name="DOI" value="10.17487/RFC8174"/>
        </reference>
      </references>
      <references pn="section-6.2">
        <name slugifiedName="name-informative-references">Informative References</name>
        <reference anchor="OC-RR" target="https://www.streamingvideoalliance.org/books/open-cache-request-routing-functional-specification/" quoteTitle="true" derivedAnchor="OC-RR">
          <front>
            <title>Open Cache Request Routing Functional Specification</title>
            <seriesInfo name="Version" value="1.1"/>
            <author initials="O." surname="Finkelman" fullname="Ori Finkelman" role="editor">
              <organization showOnFrontPage="true">Qwilt</organization>
            </author>
            <author initials="J." surname="Hofmann" fullname="Jason Hofmann">
              <organization showOnFrontPage="true">Limelight Networks</organization>
            </author>
            <author initials="E." surname="Klein" fullname="Eric Klein">
              <organization showOnFrontPage="true">Disney Streaming Services</organization>
            </author>
            <author initials="S." surname="Mishra" fullname="Sanjay Mishra">
              <organization showOnFrontPage="true">Verizon</organization>
            </author>
            <author initials="K." surname="Ma" fullname="Kevin J. Ma">
              <organization showOnFrontPage="true">Disney Streaming Services</organization>
            </author>
            <author initials="D." surname="Sahar" fullname="Dan Sahar">
              <organization showOnFrontPage="true">Qwilt</organization>
            </author>
            <author initials="B." surname="Zurat" fullname="Bill Zurat">
              <organization showOnFrontPage="true">Disney Streaming Services</organization>
            </author>
            <date month="November" year="2016"/>
          </front>
        </reference>
        <reference anchor="OCWG" target="https://www.streamingvideoalliance.org/technical-groups/open-caching/" quoteTitle="true" derivedAnchor="OCWG">
          <front>
            <title>Open Caching</title>
            <author>
              <organization showOnFrontPage="true">Streaming Video Alliance</organization>
            </author>
          </front>
        </reference>
        <reference anchor="RFC7736" target="https://www.rfc-editor.org/info/rfc7736" quoteTitle="true" derivedAnchor="RFC7736">
          <front>
            <title>Content Delivery Network Interconnection (CDNI) Media Type Registration</title>
            <author initials="K." surname="Ma" fullname="K. Ma">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2015" month="December"/>
            <abstract>
              <t indent="0">This document defines the standard media type used by the Content Delivery Network Interconnection (CDNI) protocol suite, including the registration procedure and recommended usage of the required payload- type parameter.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7736"/>
          <seriesInfo name="DOI" value="10.17487/RFC7736"/>
        </reference>
        <reference anchor="RFC7871" target="https://www.rfc-editor.org/info/rfc7871" quoteTitle="true" derivedAnchor="RFC7871">
          <front>
            <title>Client Subnet in DNS Queries</title>
            <author initials="C." surname="Contavalli" fullname="C. Contavalli">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="W." surname="van der Gaast" fullname="W. van der Gaast">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="D." surname="Lawrence" fullname="D. Lawrence">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="W." surname="Kumari" fullname="W. Kumari">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2016" month="May"/>
            <abstract>
              <t indent="0">This document describes an Extension Mechanisms for DNS (EDNS0) option that is in active use to carry information about the network that originated a DNS query and the network for which the subsequent response can be cached.  Since it has some known operational and privacy shortcomings, a revision will be worked through the IETF for improvement.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7871"/>
          <seriesInfo name="DOI" value="10.17487/RFC7871"/>
        </reference>
        <reference anchor="SVA" target="https://www.streamingvideoalliance.org" quoteTitle="true" derivedAnchor="SVA">
          <front>
            <title>Streaming Video Alliance</title>
            <author/>
          </front>
        </reference>
      </references>
    </references>
    <section anchor="Acknowledgements" numbered="false" toc="include" removeInRFC="false" pn="section-appendix.a">
      <name slugifiedName="name-acknowledgements">Acknowledgements</name>
      <t indent="0" pn="section-appendix.a-1">The authors thank <contact fullname="Nir B. Sopher"/> for reality checks against
      production use cases; his contribution is significant to this
      document. The authors also thank <contact fullname="Ben Niven-Jenkins"/> for his review and
      feedback and <contact fullname="Kevin J. Ma"/> for his guidance throughout the
      development of this document, including his regular reviews.</t>
    </section>
    <section anchor="authors-addresses" numbered="false" removeInRFC="false" toc="include" pn="section-appendix.b">
      <name slugifiedName="name-authors-addresses">Authors' Addresses</name>
      <author fullname="Ori Finkelman" initials="O." surname="Finkelman">
        <organization showOnFrontPage="true">Qwilt</organization>
        <address>
          <postal>
            <street>6, Ha'harash</street>
            <city>Hod HaSharon</city>
            <region/>
            <code>4524079</code>
            <country>Israel</country>
          </postal>
          <phone/>
          <email>ori.finkelman.ietf@gmail.com</email>
        </address>
      </author>
      <author fullname="Sanjay Mishra" initials="S." surname="Mishra">
        <organization showOnFrontPage="true">Verizon</organization>
        <address>
          <postal>
            <street>13100 Columbia Pike</street>
            <city>Silver Spring</city>
            <region>MD</region>
            <code>20904</code>
            <country>United States of America</country>
          </postal>
          <phone/>
          <email>sanjay.mishra@verizon.com</email>
        </address>
      </author>
    </section>
  </back>
</rfc>
