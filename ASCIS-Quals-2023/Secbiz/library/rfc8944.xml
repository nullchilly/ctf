<?xml version='1.0' encoding='utf-8'?>
<rfc xmlns:xi="http://www.w3.org/2001/XInclude" version="3" category="std" consensus="true" docName="draft-ietf-i2rs-yang-l2-network-topology-18" indexInclude="true" ipr="trust200902" number="8944" prepTime="2020-11-16T00:25:28" scripts="Common,Latin" sortRefs="true" submissionType="IETF" symRefs="true" tocDepth="3" tocInclude="true" xml:lang="en">
  <link href="https://datatracker.ietf.org/doc/draft-ietf-i2rs-yang-l2-network-topology-18" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc8944" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <front>
    <title abbrev="YANG Data Model for L2 Topologies">A YANG Data Model for Layer 2 Network Topologies</title>
    <seriesInfo name="RFC" value="8944" stream="IETF"/>
    <author fullname="Jie Dong" initials="J." surname="Dong">
      <organization showOnFrontPage="true">Huawei</organization>
      <address>
        <postal>
          <street>No. 156 Beiqing Rd.</street>
          <extaddr>Huawei Campus</extaddr>
          <city>Beijing</city>
          <code>100095</code>
          <country>China</country>
        </postal>
        <email>jie.dong@huawei.com</email>
      </address>
    </author>
    <author fullname="Xiugang Wei" initials="X." surname="Wei">
      <organization showOnFrontPage="true">Huawei</organization>
      <address>
        <postal>
          <street>No. 156 Beiqing Rd.</street>
          <extaddr>Huawei Campus</extaddr>
          <city>Beijing</city>
          <code>100095</code>
          <country>China</country>
        </postal>
        <email>weixiugang@huawei.com</email>
      </address>
    </author>
    <author fullname="Qin Wu" initials="Q." surname="Wu">
      <organization showOnFrontPage="true">Huawei</organization>
      <address>
        <postal>
          <street>101 Software Avenue</street>
          <street>Yuhua District</street>
          <city>Nanjing</city>
          <code>210012</code>
          <country>China</country>
        </postal>
        <email>bill.wu@huawei.com</email>
      </address>
    </author>
    <author fullname="Mohamed Boucadair" initials="M." surname="Boucadair">
      <organization showOnFrontPage="true">Orange</organization>
      <address>
        <postal>
          <street>Rennes 35000</street>
          <country>France</country>
        </postal>
        <email>mohamed.boucadair@orange.com</email>
      </address>
    </author>
    <author fullname="Anders Liu" initials="A." surname="Liu">
      <organization showOnFrontPage="true">Tecent</organization>
      <address>
        <postal>
          <street>38 Haidian St</street>
          <extaddr>Yinke Building</extaddr>
          <street>Haidian District</street>
          <city>Beijing</city>
          <code>100080</code>
          <country>China</country>
        </postal>
        <email>andersliu@tencent.com</email>
      </address>
    </author>
    <date month="11" year="2020"/>
    <keyword>VxLAN</keyword>
    <keyword>VLAN</keyword>
    <keyword>QinQ</keyword>
    <keyword>Provider Backbone Bridging</keyword>
    <keyword>Ethernet</keyword>
    <keyword>VPLS</keyword>
    <abstract pn="section-abstract">
      <t indent="0" pn="section-abstract-1">This document defines a YANG data model for Layer 2 network
      topologies. In particular, this data model augments the generic network
      and network topology data models with topology
      attributes that are specific to Layer 2.</t>
    </abstract>
    <boilerplate>
      <section anchor="status-of-memo" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.1">
        <name slugifiedName="name-status-of-this-memo">Status of This Memo</name>
        <t indent="0" pn="section-boilerplate.1-1">
            This is an Internet Standards Track document.
        </t>
        <t indent="0" pn="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.
        </t>
        <t indent="0" pn="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <eref target="https://www.rfc-editor.org/info/rfc8944" brackets="none"/>.
        </t>
      </section>
      <section anchor="copyright" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.2">
        <name slugifiedName="name-copyright-notice">Copyright Notice</name>
        <t indent="0" pn="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.
        </t>
        <t indent="0" pn="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<eref target="https://trustee.ietf.org/license-info" brackets="none"/>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.
        </t>
      </section>
    </boilerplate>
    <toc>
      <section anchor="toc" numbered="false" removeInRFC="false" toc="exclude" pn="section-toc.1">
        <name slugifiedName="name-table-of-contents">Table of Contents</name>
        <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1">
          <li pn="section-toc.1-1.1">
            <t indent="0" keepWithNext="true" pn="section-toc.1-1.1.1"><xref derivedContent="1" format="counter" sectionFormat="of" target="section-1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-introduction">Introduction</xref></t>
          </li>
          <li pn="section-toc.1-1.2">
            <t indent="0" keepWithNext="true" pn="section-toc.1-1.2.1"><xref derivedContent="2" format="counter" sectionFormat="of" target="section-2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-terminology">Terminology</xref></t>
          </li>
          <li pn="section-toc.1-1.3">
            <t indent="0" keepWithNext="true" pn="section-toc.1-1.3.1"><xref derivedContent="3" format="counter" sectionFormat="of" target="section-3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-layer-2-topology-model">Layer 2 Topology Model</xref></t>
          </li>
          <li pn="section-toc.1-1.4">
            <t indent="0" pn="section-toc.1-1.4.1"><xref derivedContent="4" format="counter" sectionFormat="of" target="section-4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-layer-2-topology-yang-module">Layer 2 Topology YANG Module</xref></t>
          </li>
          <li pn="section-toc.1-1.5">
            <t indent="0" pn="section-toc.1-1.5.1"><xref derivedContent="5" format="counter" sectionFormat="of" target="section-5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-iana-considerations">IANA Considerations</xref></t>
          </li>
          <li pn="section-toc.1-1.6">
            <t indent="0" pn="section-toc.1-1.6.1"><xref derivedContent="6" format="counter" sectionFormat="of" target="section-6"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-security-considerations">Security Considerations</xref></t>
          </li>
          <li pn="section-toc.1-1.7">
            <t indent="0" pn="section-toc.1-1.7.1"><xref derivedContent="7" format="counter" sectionFormat="of" target="section-7"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-references">References</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.7.2">
              <li pn="section-toc.1-1.7.2.1">
                <t indent="0" pn="section-toc.1-1.7.2.1.1"><xref derivedContent="7.1" format="counter" sectionFormat="of" target="section-7.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-normative-references">Normative References</xref></t>
              </li>
              <li pn="section-toc.1-1.7.2.2">
                <t indent="0" pn="section-toc.1-1.7.2.2.1"><xref derivedContent="7.2" format="counter" sectionFormat="of" target="section-7.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-informative-references">Informative References</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.8">
            <t indent="0" pn="section-toc.1-1.8.1"><xref derivedContent="Appendix A" format="default" sectionFormat="of" target="section-appendix.a"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-companion-yang-module-for-n">Companion YANG Module for Non-NMDA-Compliant Implementations</xref></t>
          </li>
          <li pn="section-toc.1-1.9">
            <t indent="0" pn="section-toc.1-1.9.1"><xref derivedContent="Appendix B" format="default" sectionFormat="of" target="section-appendix.b"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-an-example">An Example</xref></t>
          </li>
          <li pn="section-toc.1-1.10">
            <t indent="0" pn="section-toc.1-1.10.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.c"/><xref derivedContent="" format="title" sectionFormat="of" target="name-acknowledgements">Acknowledgements</xref></t>
          </li>
          <li pn="section-toc.1-1.11">
            <t indent="0" pn="section-toc.1-1.11.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.d"/><xref derivedContent="" format="title" sectionFormat="of" target="name-authors-addresses">Authors' Addresses</xref></t>
          </li>
        </ul>
      </section>
    </toc>
  </front>
  <middle>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-1">
      <name slugifiedName="name-introduction">Introduction</name>
      <t indent="0" pn="section-1-1"><xref target="RFC8345" format="default" sectionFormat="of" derivedContent="RFC8345"/> defines the YANG <xref target="RFC6020" format="default" sectionFormat="of" derivedContent="RFC6020"/>
        <xref target="RFC7950" format="default" sectionFormat="of" derivedContent="RFC7950"/> data models of the abstract (generic) network
      and network topology. Such models can be augmented with
      technology-specific details to build more specific topology models.</t>
      <t indent="0" pn="section-1-2">This document defines the YANG data model for Layer 2 (L2) network
      topologies by augmenting the generic network (<xref target="RFC8345" sectionFormat="of" section="6.1" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8345#section-6.1" derivedContent="RFC8345"/>) and network topology (<xref target="RFC8345" sectionFormat="of" section="6.2" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8345#section-6.2" derivedContent="RFC8345"/>) data models with
      L2-specific topology attributes. An 
      example is provided in <xref target="ex" format="default" sectionFormat="of" derivedContent="Appendix B"/>.</t>
      <t indent="0" pn="section-1-3">There are multiple applications for such a data model. For example,
      within the context of Interface to the Routing System (I2RS), nodes
      within the network can use the data model to capture their understanding
      of the overall network topology and expose it to a network controller. A
      network controller can then use the instantiated topology data to
      compare and reconcile its own view of the network topology with that of
      the network elements that it controls. Alternatively, nodes within the
      network may compare and reconcile this understanding either among
      themselves or with the help of a controller. Beyond the network element
      and the immediate context of I2RS itself, a network controller might
      even use the data model to represent its view of the topology that it
      controls and expose it to external applications. Further use cases where
      the data model can be applied are described in <xref target="I-D.ietf-i2rs-usecase-reqs-summary" format="default" sectionFormat="of" derivedContent="I2RS-UR"/>.</t>
      <t indent="0" pn="section-1-4">This document uses the common YANG types defined in <xref target="RFC6991" format="default" sectionFormat="of" derivedContent="RFC6991"/> and adopts the Network Management Datastore
      Architecture (NMDA) <xref target="RFC8342" format="default" sectionFormat="of" derivedContent="RFC8342"/>.</t>
    </section>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-2">
      <name slugifiedName="name-terminology">Terminology</name>
      <t indent="0" pn="section-2-1">
    The key words "<bcp14>MUST</bcp14>", "<bcp14>MUST NOT</bcp14>",
    "<bcp14>REQUIRED</bcp14>", "<bcp14>SHALL</bcp14>", "<bcp14>SHALL NOT</bcp14>", "<bcp14>SHOULD</bcp14>", "<bcp14>SHOULD NOT</bcp14>",
    "<bcp14>RECOMMENDED</bcp14>", "<bcp14>NOT RECOMMENDED</bcp14>",
    "<bcp14>MAY</bcp14>", and "<bcp14>OPTIONAL</bcp14>" in this document are
    to be interpreted as described in BCP 14 <xref target="RFC2119" format="default" sectionFormat="of" derivedContent="RFC2119"/>
        <xref target="RFC8174" format="default" sectionFormat="of" derivedContent="RFC8174"/> when, and only when, they appear in all capitals,
    as shown here.
      </t>
      <t indent="0" pn="section-2-2">The terminology for describing YANG modules is defined in <xref target="RFC7950" format="default" sectionFormat="of" derivedContent="RFC7950"/>. The meanings of the symbols used in the tree diagram
      are defined in <xref target="RFC8340" format="default" sectionFormat="of" derivedContent="RFC8340"/>.</t>
    </section>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-3">
      <name slugifiedName="name-layer-2-topology-model">Layer 2 Topology Model</name>
      <t indent="0" pn="section-3-1">The Layer 2 network topology YANG module is designed to be generic
      and applicable to Layer 2 networks built with different Layer 2
      technologies. It can be used to describe both the physical and the
      logical (virtual) Layer 2 network topologies.</t>
      <t indent="0" pn="section-3-2">The relationship between the Layer 2 topology module and the generic
      network and network topology module is shown in <xref target="dia" format="default" sectionFormat="of" derivedContent="Figure 1"/>. In
      order to represent a Layer 2 network topology, the generic network and
      topology models are augmented with L2-specific information, such as
      the identifiers, identities (e.g., Provider Backbone Bridging <xref target="IEEE802.1ah" format="default" sectionFormat="of" derivedContent="IEEE802.1ah"/>, QinQ <xref target="IEEE802.1ad" format="default" sectionFormat="of" derivedContent="IEEE802.1ad"/>, or Virtual eXtensible Local Area Network (VXLAN)
      <xref target="RFC7348" format="default" sectionFormat="of" derivedContent="RFC7348"/>), attributes, and states of the Layer 2
      networks, nodes, links, and termination points. Some of the information
      may be collected via Link Layer Discovery Protocol (LLDP) <xref target="IEEE802.1AB" format="default" sectionFormat="of" derivedContent="IEEE802.1AB"/> or other Layer 2 protocols, and some of them may
      be locally configured.</t>
      <figure anchor="dia" align="left" suppress-title="false" pn="figure-1">
        <name slugifiedName="name-layer-2-topology-yang-modul">Layer 2 Topology YANG Module Structure</name>
        <artwork align="center" name="" type="" alt="" pn="section-3-3.1">              
+---------------------+
|    ietf-network     |
+----------^----------+
           |
           |
+---------------------+
|ietf-network-topology|
+----------^----------+
           |
           |
+----------^----------+
|   ietf-l2-topology  |
+---------------------+
</artwork>
      </figure>
      <t indent="0" pn="section-3-4">The structure of the "ietf-l2-topology" YANG module is depicted in
      the following tree diagram:</t>
      <sourcecode name="" type="yangtree" markers="false" pn="section-3-5">
module: ietf-l2-topology
  augment /nw:networks/nw:network/nw:network-types:
    +--rw l2-topology!
  augment /nw:networks/nw:network:
    +--rw l2-topology-attributes
       +--rw name?    string
       +--rw flags*   l2-flag-type
  augment /nw:networks/nw:network/nw:node:
    +--rw l2-node-attributes
       +--rw name?                 string
       +--rw flags*                node-flag-type
       +--rw bridge-id*            string
       +--rw management-address*   inet:ip-address
       +--rw management-mac?       yang:mac-address
       +--rw management-vlan?      string
  augment /nw:networks/nw:network/nt:link:
    +--rw l2-link-attributes
       +--rw name?        string
       +--rw flags*       link-flag-type
       +--rw rate?        uint64
       +--rw delay?       uint32
       +--rw auto-nego?   boolean
       +--rw duplex?      duplex-mode
  augment /nw:networks/nw:network/nw:node/nt:termination-point:
    +--rw l2-termination-point-attributes
       +--rw interface-name?       string
       +--rw mac-address?          yang:mac-address
       +--rw port-number*          uint32
       +--rw unnumbered-id*        uint32
       +--rw encapsulation-type?   identityref
       +--rw outer-tag?            dot1q-types:vid-range-type {VLAN}?
       +--rw outer-tpid?           dot1q-types:dot1q-tag-type {QinQ}?
       +--rw inner-tag?            dot1q-types:vid-range-type {VLAN}?
       +--rw inner-tpid?           dot1q-types:dot1q-tag-type {QinQ}?
       +--rw lag?                  boolean
       +--rw member-link-tp*
              -&gt; /nw:networks/network/node/nt:termination-point/tp-id
       +--rw vxlan {VXLAN}?
          +--rw vni-id?   vni

  notifications:
    +---n l2-node-event
    |  +--ro event-type?           l2-network-event-type
    |  +--ro node-ref?
                      -&gt; /nw:networks/network[nw:network-id=current()
                         /../network-ref]/node/node-id
    |  +--ro network-ref?          -&gt; /nw:networks/network/network-id
    |  +--ro l2-topology!
    |  +--ro l2-node-attributes
    |     +--ro name?                 string
    |     +--ro flags*                node-flag-type
    |     +--ro bridge-id*            uint64
    |     +--ro management-address*   inet:ip-address
    |     +--ro management-mac?       yang:mac-address
    |     +--ro management-vlan?      string
    +---n l2-link-event
    |  +--ro event-type?           l2-network-event-type
    |  +--ro link-ref?
                      -&gt; /nw:networks/network[nw:network-id=current()
                         /../network-ref]/nt:link/link-id
    |  +--ro network-ref?          -&gt; /nw:networks/network/network-id
    |  +--ro l2-topology!
    |  +--ro l2-link-attributes
    |     +--ro name?        string
    |     +--ro flags*       link-flag-type
    |     +--ro rate?        uint64
    |     +--ro delay?       uint32
    |     +--ro auto-nego?   boolean
    |     +--ro duplex?      duplex-mode
    +---n l2-termination-point-event
       +--ro event-type?                        l2-network-event-type
       +--ro tp-ref?
                      -&gt; /nw:networks/network[nw:network-id=current()
                         /../network-ref]/node[nw:node-id=current()
                         /../node-ref]/nt:termination-point/tp-id
       +--ro node-ref?
                      -&gt; /nw:networks/network[nw:network-id=current()
                         /../network-ref]/node/node-id
       +--ro network-ref?          -&gt; /nw:networks/network/network-id
       +--ro l2-topology!
       +--ro l2-termination-point-attributes
          +--ro interface-name?       string
          +--ro mac-address?          yang:mac-address
          +--ro port-number*          uint32
          +--ro unnumbered-id*        uint32
          +--ro encapsulation-type?   identityref
          +--ro outer-tag?         dot1q-types:vid-range-type {VLAN}?
          +--ro outer-tpid?        dot1q-types:dot1q-tag-type {QinQ}?
          +--ro inner-tag?         dot1q-types:vid-range-type {VLAN}?
          +--ro inner-tpid?        dot1q-types:dot1q-tag-type {QinQ}?
          +--ro lag?               boolean
          +--ro member-link-tp*
              -&gt; /nw:networks/network/node/nt:termination-point/tp-id
          +--ro vxlan {VXLAN}?
             +--ro vni-id?   vni
</sourcecode>
      <t indent="0" pn="section-3-6">The Layer 2 Topology YANG module augments the "ietf-network" and
      "ietf-network-topology" YANG modules as follows:</t>
      <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-3-7">
        <li pn="section-3-7.1">A new network type "l2-network-type" is introduced. This is
          represented by a container object and is inserted under the
          "network-types" container of the generic "ietf-network" module
          defined in <xref target="RFC8345" sectionFormat="of" section="6.1" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8345#section-6.1" derivedContent="RFC8345"/>.</li>
        <li pn="section-3-7.2">Additional network attributes are introduced in a grouping
          "l2-network-attributes", which augments the "network" list of the
          "ietf-network" module. The attributes include the Layer 2 network name
          and a set of flags. Each type of flag is represented by a separate
          identity.</li>
        <li pn="section-3-7.3">Additional data objects for Layer 2 nodes are introduced by
          augmenting the "node" list of the generic "ietf-network" module.
      New objects include the Layer 2 node identifier, management address,
      management MAC address, management VLAN, and a set of flags.</li>
        <li pn="section-3-7.4">Additional data objects for Layer 2 termination points are
          introduced by augmenting the "termination-point" list of the
          "ietf-network-topology" module defined in <xref target="RFC8345" sectionFormat="of" section="6.2" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8345#section-6.2" derivedContent="RFC8345"/>. 
      New objects include the interface name, encapsulation type,
      lag support indication, and attributes that are specific to 
      the Layer 2 termination point type.</li>
        <li pn="section-3-7.5">Links in the "ietf-network-topology" module are augmented as well
          with a set of Layer 2 parameters, allowing to associate a link with
          a name, a set of Layer 2 link attributes, and flags.</li>
        <li pn="section-3-7.6">Some optional Layer 2 technology-specific attributes are
          introduced in this module as Layer 2 features because these
          attributes may be useful to expose to above services/applications.
          Note that learning or configuring advanced
	  Layer 2 technology-specific attributes is not within the scope of
	  the Layer 
          2 Topology YANG module; dedicated YANG modules should be used
          instead (e.g., <xref target="I-D.ietf-trill-yang" format="default" sectionFormat="of" derivedContent="TRILL-YANG"/>).</li>
      </ul>
    </section>
    <section anchor="L2YANG" numbered="true" toc="include" removeInRFC="false" pn="section-4">
      <name slugifiedName="name-layer-2-topology-yang-module">Layer 2 Topology YANG Module</name>
      <t indent="0" pn="section-4-1">This module uses types defined in <xref target="RFC6991" format="default" sectionFormat="of" derivedContent="RFC6991"/>, <xref target="RFC7224" format="default" sectionFormat="of" derivedContent="RFC7224"/>, <xref target="IEEE802.1Qcp" format="default" sectionFormat="of" derivedContent="IEEE802.1Qcp"/>, and <xref target="RFC8345" format="default" sectionFormat="of" derivedContent="RFC8345"/>. It also references <xref target="IEEE802.1Q-2014" format="default" sectionFormat="of" derivedContent="IEEE802.1Q-2014"/>, <xref target="IEEE802.1ad" format="default" sectionFormat="of" derivedContent="IEEE802.1ad"/>, <xref target="RFC7348" format="default" sectionFormat="of" derivedContent="RFC7348"/>, and
      <xref target="RFC7727" format="default" sectionFormat="of" derivedContent="RFC7727"/>.</t>
      <sourcecode name="ietf-l2-topology@2020-11-15.yang" type="yang" markers="true" pn="section-4-2">
module ietf-l2-topology {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:ietf-l2-topology";
  prefix l2t;

  import ietf-network {
    prefix nw;
    reference
      "RFC 8345: A YANG Data Model for Network Topologies";
  }
  import ietf-network-topology {
    prefix nt;
    reference
      "RFC 8345: A YANG Data Model for Network Topologies";
  }
  import ietf-inet-types {
    prefix inet;
    reference
      "RFC 6991:Common YANG Data Types";
  }
  import ietf-yang-types {
    prefix yang;
    reference
      "RFC 6991:Common YANG Data Types";
  }
  import iana-if-type {
    prefix ianaift;
    reference
      "RFC 7224: IANA Interface Type YANG Module";
  }
  import ieee802-dot1q-types {
    prefix dot1q-types;
    reference
      "IEEE Std 802.1Qcp-2018: Bridges and Bridged
       Networks - Amendment: YANG Data Model";
  }

  organization
    "IETF I2RS (Interface to the Routing System) Working Group";
  contact
    "WG Web:   &lt;https://datatracker.ietf.org/wg/i2rs&gt;
     WG List:  &lt;mailto:i2rs@ietf.org&gt;

     Editor:    Jie Dong
               &lt;mailto:jie.dong@huawei.com&gt;

     Editor:    Xiugang Wei
               &lt;mailto:weixiugang@huawei.com&gt;

     Editor:    Qin Wu
               &lt;mailto:bill.wu@huawei.com&gt;

     Editor:    Mohamed Boucadair
               &lt;mailto:mohamed.boucadair@orange.com&gt;

     Editor:    Anders Liu
               &lt;mailto:andersliu@tencent.com&gt;";
  description
    "This module defines a basic model for the Layer 2 topology
     of a network.

     Copyright (c) 2020 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC 8944; see
     the RFC itself for full legal notices.";

  revision 2020-11-15 {
    description
      "Initial revision.";
    reference
      "RFC 8944: A YANG Data Model for Layer 2 Network Topologies";
  }

  feature VLAN {
    description
      "Enables VLAN tag support as defined in IEEE 802.1Q.";
    reference
      "IEEE Std 802.1Q-2014: Bridges and Bridged Networks";
  }

  feature QinQ {
    description
      "Enables QinQ double tag support as defined in IEEE 802.1ad.";
    reference
      "IEEE Std 802.1ad: Provider Bridges";
  }

  feature VXLAN {
    description
      "Enables VXLAN support as defined in RFC 7348.";
    reference
      "RFC 7348: Virtual eXtensible Local Area Network (VXLAN):
                 A Framework for Overlaying Virtualized Layer 2
                 Networks over Layer 3 Networks";
  }

  identity flag-identity {
    description
      "Base type for flags.";
  }

  identity eth-encapsulation-type {
    base ianaift:iana-interface-type;
    description
      "Base identity from which specific Ethernet
       encapsulation types are derived.";
    reference
      "RFC 7224: IANA Interface Type YANG Module";
  }

  identity ethernet {
    base eth-encapsulation-type;
    description
      "Native Ethernet encapsulation.";
  }

  identity vlan {
    base eth-encapsulation-type;
    description
      "VLAN encapsulation.";
  }

  identity qinq {
    base eth-encapsulation-type;
    description
      "QinQ encapsulation.";
  }

  identity pbb {
    base eth-encapsulation-type;
    description
      "Provider Backbone Bridging (PBB) encapsulation.
       The PBB functions are developed in IEEE 802.1ah.";
  }

  identity trill {
    base eth-encapsulation-type;
    description
      "Transparent Interconnection of Lots of Links (TRILL)
       encapsulation.";
  }

  identity vpls {
    base eth-encapsulation-type;
    description
      "Ethernet Virtual Private LAN Service (VPLS)
       interface encapsulation.";
  }

  identity vxlan {
    base eth-encapsulation-type;
    description
      "VXLAN Media Access Control (MAC) in UDP encapsulation.";
    reference
      "RFC 7348: Virtual eXtensible Local Area  Network (VXLAN):
                 A Framework for Overlaying Virtualized Layer 2
                 Networks over Layer 3 Networks";
  }

  typedef vni {
    type uint32 {
      range "0..16777215";
    }
    description
      "VXLAN Network Identifier or VXLAN Segment ID.
       It allows up to 16 M VXLAN segments to coexist
       within the same administrative domain.

       The use of value '0' is implementation specific.";
    reference
      "RFC 7348: Virtual eXtensible Local Area  Network (VXLAN):
                 A Framework for Overlaying Virtualized Layer 2
                 Networks over Layer 3 Networks";
  }

  typedef l2-flag-type {
    type identityref {
      base flag-identity;
    }
    description
      "Base type for L2 flags. One example of L2 flag
       type is trill, which represents the trill topology
       type.";
  }

  typedef node-flag-type {
    type identityref {
      base flag-identity;
    }
    description
      "Node flag attributes.  The physical node can be
       one example of a node flag attribute.";
  }

  typedef link-flag-type {
    type identityref {
      base flag-identity;
    }
    description
      "Link flag attributes.  One example of a link flag
       attribute is the pseudowire.";
  }

  typedef l2-network-event-type {
    type enumeration {
      enum addition {
        value 0;
        description
          "A Layer 2 node or link or termination-point
           has been added.";
      }
      enum removal {
        value 1;
        description
          "A Layer 2 node or link or termination-point
           has been removed.";
      }
      enum update {
        value 2;
        description
          "A Layer 2 node or link or termination-point
           has been updated.";
      }
    }
    description
      "Layer 2 network event type for notifications.";
  }

  typedef duplex-mode {
    type enumeration {
      enum full-duplex {
        description
          "Indicates full-duplex mode.";
      }
      enum half-duplex {
        description
          "Indicates half-duplex mode.";
      }
    }
    description
      "Indicates the type of the duplex mode.";
  }

  grouping l2-network-type {
    description
      "Indicates the topology type to be L2.";
    container l2-topology {
      presence "Indicates L2 Network Topology.";
      description
        "The presence of the container node indicates
         L2 Network Topology.";
    }
  }

  grouping l2-topology-attributes {
    description
      "L2 topology scope attributes.";
    container l2-topology-attributes {
      description
        "Contains L2 topology attributes.";
      leaf name {
        type string;
        description
          "Name of the topology.";
      }
      leaf-list flags {
        type l2-flag-type;
        description
          "Topology flags.";
      }
    }
  }

  grouping l2-node-attributes {
    description
      "L2 node attributes.";
    container l2-node-attributes {
      description
        "Contains L2 node attributes.";
      leaf name {
        type string;
        description
          "Node name.";
      }
      leaf-list flags {
        type node-flag-type;
        description
          "Node flags.  It can be used to indicate
           node flag attributes.";
      }
      leaf-list bridge-id {
        type string {
          pattern '[0-9a-fA-F]{2}(:[0-9a-fA-F]{2}){7}';
        }
        description
          "This is the bridge identifier represented as a
           hexadecimal 8-octet string.  It has 4 bits of
           priority, 12 bits of Multiple Spanning Tree
           Instance Identifier (MSTI-ID), and the base bridge
           identifier.  There may be multiple for each
           spanning tree instance.";
        reference
          "RFC 7727: Spanning Tree Protocol (STP) Application of
                     the Inter-Chassis Communication Protocol
                     (ICCP)";
      }
      leaf-list management-address {
        type inet:ip-address;
        description
          "IP address used for management purpose.";
      }
      leaf management-mac {
        type yang:mac-address;
        description
          "This is a MAC address used for the bridge management.
           It can be the Bridge Base VLAN ID (VID), interface
           MAC address, or other. ";
      }
      leaf management-vlan {
        type string;
        description
          "This is a VLAN that supports the management address.
           The actual VLAN ID type and value would be a member of
           this VLAN.";
      }
    }
  }

  grouping l2-link-attributes {
    description
      "L2 link attributes.";
    container l2-link-attributes {
      description
        "Contains L2 link attributes.";
      leaf name {
        type string;
        description
          "Link name.";
      }
      leaf-list flags {
        type link-flag-type;
        description
          "Link flags.  It can be used to indicate
           link flag attributes.";
      }
      leaf rate {
        type uint64;
        units "Kbps";
        description
          "Link rate.  It specifies bandwidth requirements
           associated with the specific link.  The link
           contains a source and a destination.";
      }
      leaf delay {
        type uint32;
        units "microseconds";
        description
          "Unidirectional link delay in
           microseconds.";
      }
      leaf auto-nego {
        type boolean;
        default "true";
        description
          "Set to true if auto-negotiation is supported.
           Set to false if auto-negotiation is not supported.";
      }
      leaf duplex {
        type duplex-mode;
        description
          "Exposes the duplex mode, full-duplex or half-duplex.";
      }
    }
  }

  grouping l2-termination-point-attributes {
    description
      "L2 termination point attributes.";
    container l2-termination-point-attributes {
      description
        "Containing L2 termination point attributes.";
      leaf interface-name {
        type string;
        description
          "Name of the interface.  The name can (but does not
           have to) correspond to an interface reference of a
           containing node's interface, i.e., the path name of a
           corresponding interface data node on the containing
           node is reminiscent of data type interface-ref defined
           in RFC 8343.  It should be noted that data type
           interface-ref of RFC 8343 cannot be used directly,
           as this data type is used to reference an interface
           in a datastore of a single node in the network, not
           to uniquely reference interfaces across a network.";
      }
      leaf mac-address {
        type yang:mac-address;
        description
          "Interface MAC address for logical link control.";
      }
      leaf-list port-number {
        type uint32;
        description
          " List of port numbers of the bridge ports for which each
            entry contains bridge management information.";
      }
      leaf-list unnumbered-id {
        type uint32;
        description
          "List of unnumbered interface identifiers.
           The unnumbered interface identifier will correspond to
           the ifIndex value of the interface, i.e., the ifIndex
           value of the ifEntry that represents the interface in
           implementations where the Interfaces Group MIB
           (RFC 2863) is supported.";
      }
      leaf encapsulation-type {
        type identityref {
          base eth-encapsulation-type;
        }
        description
          "Encapsulation type of this
                 termination point.";
      }
      leaf outer-tag {
        if-feature "VLAN";
        type dot1q-types:vid-range-type;
        description
          "The outermost VLAN tag.  It may include a list of VLAN
           Ids or nonoverlapping VLAN ranges.";
      }
      leaf outer-tpid {
        if-feature "QinQ";
        type dot1q-types:dot1q-tag-type;
        description
          "Identifies a specific 802.1Q tag type of outermost VLAN
           tag.";
      }
      leaf inner-tag {
        if-feature "VLAN";
        type dot1q-types:vid-range-type;
        description
          "The inner VLAN tag.  It may include a list of VLAN
           Ids or nonoverlapping VLAN ranges.";
      }
      leaf inner-tpid {
        if-feature "QinQ";
        type dot1q-types:dot1q-tag-type;
        description
          "Identifies a specific 802.1Q tag type of inner VLAN tag.";
      }
      leaf lag {
        type boolean;
        default "false";
        description
          "Defines whether lag is supported or not.
           When it is set to true, the lag is supported.";
      }
      leaf-list member-link-tp {
        when "../lag = 'true'" {
          description
            "Relevant only when the lag interface is supported.";
        }
        type leafref {
          path "/nw:networks/nw:network/nw:node"
             + "/nt:termination-point/nt:tp-id";
        }
        description
          "List of member link termination points associated with
           specific L2 termination point.";
      }
      container vxlan {
        when "derived-from-or-self(../encapsulation-type, "
           + "'l2t:vxlan')" {
          description
            "Only applies when the type of the Ethernet
             encapsulation is 'vxlan'.";
        }
        if-feature "VXLAN";
        leaf vni-id {
          type vni;
          description
            "VXLAN Network Identifier (VNI).";
        }
        description
          "Vxlan encapsulation type.";
      }
    }
  }

  augment "/nw:networks/nw:network/nw:network-types" {
    description
      "Introduces new network type for L2 topology.";
    uses l2-network-type;
  }
  augment "/nw:networks/nw:network" {
    when '/nw:networks/nw:network/nw:network-types/l2t:l2-topology' {
      description
        "Augmentation parameters apply only for networks
         with L2 topology.";
    }
    description
      "Configuration parameters for the L2 network
       as a whole.";
    uses l2-topology-attributes;
  }
  augment "/nw:networks/nw:network/nw:node" {
    when '/nw:networks/nw:network/nw:network-types/l2t:l2-topology' {
      description
        "Augmentation parameters apply only for networks
         with L2 topology.";
    }
    description
      "Configuration parameters for L2 at the node
       level.";
    uses l2-node-attributes;
  }
  augment "/nw:networks/nw:network/nt:link" {
    when '/nw:networks/nw:network/nw:network-types/l2t:l2-topology' {
      description
        "Augmentation parameters apply only for networks
         with L2 topology.";
    }
    description
      "Augments L2 topology link information.";
    uses l2-link-attributes;
  }
  augment "/nw:networks/nw:network/nw:node/nt:termination-point" {
    when '/nw:networks/nw:network/nw:network-types/l2t:l2-topology' {
      description
        "Augmentation parameters apply only for networks
         with L2 topology.";
    }
    description
      "Augments L2 topology termination point information.";
    uses l2-termination-point-attributes;
  }

  notification l2-node-event {
    description
      "Notification event for L2 node.";
    leaf event-type {
      type l2-network-event-type;
      description
        "Event type.";
    }
    uses nw:node-ref;
    uses l2-network-type;
    uses l2-node-attributes;
  }

  notification l2-link-event {
    description
      "Notification event for L2 link.";
    leaf event-type {
      type l2-network-event-type;
      description
        "Event type.";
    }
    uses nt:link-ref;
    uses l2-network-type;
    uses l2-link-attributes;
  }

  notification l2-termination-point-event {
    description
      "Notification event for L2 termination point.";
    leaf event-type {
      type l2-network-event-type;
      description
        "Event type.";
    }
    uses nt:tp-ref;
    uses l2-network-type;
    uses l2-termination-point-attributes;
  }
}
</sourcecode>
    </section>
    <section anchor="IANA" numbered="true" toc="include" removeInRFC="false" pn="section-5">
      <name slugifiedName="name-iana-considerations">IANA Considerations</name>
      <t indent="0" pn="section-5-1">IANA has registered the following URIs in the
      "ns" subregistry within "The IETF XML Registry" <xref target="RFC3688" format="default" sectionFormat="of" derivedContent="RFC3688"/>:</t>
      <dl newline="false" spacing="compact" indent="3" pn="section-5-2">
        <dt pn="section-5-2.1">URI:</dt>
        <dd pn="section-5-2.2">urn:ietf:params:xml:ns:yang:ietf-l2-topology</dd>
        <dt pn="section-5-2.3">Registrant Contact:</dt>
        <dd pn="section-5-2.4">The IESG.</dd>
        <dt pn="section-5-2.5">XML:</dt>
        <dd pn="section-5-2.6">N/A; the requested URI is an XML namespace.</dd>
      </dl>
      <dl newline="false" spacing="compact" indent="3" pn="section-5-3">
        <dt pn="section-5-3.1">URI:</dt>
        <dd pn="section-5-3.2">urn:ietf:params:xml:ns:yang:ietf-l2-topology-state</dd>
        <dt pn="section-5-3.3">Registrant Contact:</dt>
        <dd pn="section-5-3.4">The IESG.</dd>
        <dt pn="section-5-3.5">XML:</dt>
        <dd pn="section-5-3.6">N/A; the requested URI is an XML namespace.</dd>
      </dl>
      <t indent="0" pn="section-5-4">IANA has registered the following YANG modules in
      the "YANG Module Names" subregistry <xref target="RFC6020" format="default" sectionFormat="of" derivedContent="RFC6020"/> within the
      "YANG Parameters" registry.</t>
      <dl newline="false" spacing="compact" indent="3" pn="section-5-5">
        <dt pn="section-5-5.1">Name:</dt>
        <dd pn="section-5-5.2">ietf-l2-topology</dd>
        <dt pn="section-5-5.3">Namespace:</dt>
        <dd pn="section-5-5.4">urn:ietf:params:xml:ns:yang:ietf-l2-topology</dd>
        <dt pn="section-5-5.5">Prefix:</dt>
        <dd pn="section-5-5.6">l2t</dd>
        <dt pn="section-5-5.7">Reference:</dt>
        <dd pn="section-5-5.8">RFC 8944</dd>
      </dl>
      <dl newline="false" spacing="compact" indent="3" pn="section-5-6">
        <dt pn="section-5-6.1">Name:</dt>
        <dd pn="section-5-6.2">ietf-l2-topology-state</dd>
        <dt pn="section-5-6.3">Namespace:</dt>
        <dd pn="section-5-6.4">urn:ietf:params:xml:ns:yang:ietf-l2-topology-state</dd>
        <dt pn="section-5-6.5">Prefix:</dt>
        <dd pn="section-5-6.6">l2t-s</dd>
        <dt pn="section-5-6.7">Reference:</dt>
        <dd pn="section-5-6.8">RFC 8944</dd>
      </dl>
      <t indent="0" pn="section-5-7">These modules are not maintained by IANA.</t>
    </section>
    <section anchor="Security" numbered="true" toc="include" removeInRFC="false" pn="section-6">
      <name slugifiedName="name-security-considerations">Security Considerations</name>
      <t indent="0" pn="section-6-1">The YANG modules specified in this document define a schema for data
      that is designed to be accessed via network management protocols, such as
      Network Configuration Protocol (NETCONF) <xref target="RFC6241" format="default" sectionFormat="of" derivedContent="RFC6241"/> or RESTCONF <xref target="RFC8040" format="default" sectionFormat="of" derivedContent="RFC8040"/>. 
      The lowest NETCONF layer is the secure transport layer, and the
      mandatory-to-implement secure transport is Secure Shell (SSH) <xref target="RFC6242" format="default" sectionFormat="of" derivedContent="RFC6242"/>. The lowest RESTCONF layer is HTTPS, and the
      mandatory-to-implement secure transport is TLS <xref target="RFC8446" format="default" sectionFormat="of" derivedContent="RFC8446"/>.</t>
      <t indent="0" pn="section-6-2">The Network Configuration Access Control Model (NACM) <xref target="RFC8341" format="default" sectionFormat="of" derivedContent="RFC8341"/> provides the means to restrict access for particular
      NETCONF or RESTCONF users to a preconfigured subset of all available
      NETCONF or RESTCONF protocol operations and content.</t>
      <t indent="0" pn="section-6-3">The Layer 2 topology module defines information that can be
      configurable in certain instances, for example, in the case of virtual
      topologies that can be created by client applications. In such cases, a
      malicious client could introduce topologies that are undesired.
      Specifically, a malicious client could attempt to remove or add a node,
      a link, or a termination point by creating or deleting corresponding
      elements in the node, link, and termination point lists, respectively.
      In the case of a topology that is learned, the server will automatically
      prohibit such misconfiguration attempts. In the case of a topology that
      is configured, i.e., whose origin is "intended", the undesired
      configuration could become effective and be reflected in the operational
      state datastore <xref target="RFC8342" format="default" sectionFormat="of" derivedContent="RFC8342"/>, leading to
      disruption of services provided 
      via this topology. For those reasons, it is important that the NACM is
      vigorously applied to prevent topology misconfiguration by unauthorized
      clients.</t>
      <t indent="0" pn="section-6-4">There are a number of data nodes defined in this YANG module that are
      writable/creatable/deletable (i.e., config true, which is the default).
      These data nodes may be considered sensitive or vulnerable in some
      network environments. Write operations (e.g., edit-config) to these data
      nodes without proper protection can have a negative effect on network
      operations. These are the subtrees and data nodes and their
      sensitivity/vulnerability:</t>
      <dl newline="true" spacing="normal" indent="3" pn="section-6-5">
        <dt pn="section-6-5.1">l2-network-attributes:</dt>
        <dd pn="section-6-5.2">A malicious client could attempt to
          sabotage the configuration of any of the contained attributes, such
          as the name or the flag data nodes.</dd>
        <dt pn="section-6-5.3">l2-node-attributes:</dt>
        <dd pn="section-6-5.4">A malicious client could attempt to sabotage
          the configuration of important node attributes, such as the name or
          the management-address.</dd>
        <dt pn="section-6-5.5">l2-link-attributes:</dt>
        <dd pn="section-6-5.6">A malicious client could attempt to sabotage
          the configuration of important link attributes, such as the rate or
          the delay data nodes.</dd>
        <dt pn="section-6-5.7">l2-termination-point-attributes:</dt>
        <dd pn="section-6-5.8">A malicious client could attempt
          to sabotage the configuration of important termination point
          attributes (e.g., 'maximum-frame-size').</dd>
      </dl>
      <t indent="0" pn="section-6-6">Some of the readable data nodes in this YANG module may be considered
      sensitive or vulnerable in some network environments. It is thus
      important to control read access (e.g., via get, get-config, or
      notification) to these data nodes. In particular, the YANG module for
      Layer 2 topology may expose sensitive information, for example, the MAC
      addresses of devices or VLAN/VXLAN identifiers. Unrestricted use of such
      information can lead to privacy violations. For example, listing MAC
      addresses in a network allows monitoring of devices and their movements.
      Location information can be derived from MAC addresses of network
      devices, bypassing protection of location information by the Operating
      System.</t>
    </section>
  </middle>
  <back>
    <displayreference target="I-D.ietf-trill-yang" to="TRILL-YANG"/>
    <displayreference target="I-D.ietf-i2rs-usecase-reqs-summary" to="I2RS-UR"/>
    <references pn="section-7">
      <name slugifiedName="name-references">References</name>
      <references pn="section-7.1">
        <name slugifiedName="name-normative-references">Normative References</name>
        <reference anchor="RFC2119" target="https://www.rfc-editor.org/info/rfc2119" quoteTitle="true" derivedAnchor="RFC2119">
          <front>
            <title>Key words for use in RFCs to Indicate Requirement Levels</title>
            <author initials="S." surname="Bradner" fullname="S. Bradner">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="1997" month="March"/>
            <abstract>
              <t indent="0">In many standards track documents several words are used to signify the requirements in the specification.  These words are often capitalized. This document defines these words as they should be interpreted in IETF documents.  This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="2119"/>
          <seriesInfo name="DOI" value="10.17487/RFC2119"/>
        </reference>
        <reference anchor="RFC3688" target="https://www.rfc-editor.org/info/rfc3688" quoteTitle="true" derivedAnchor="RFC3688">
          <front>
            <title>The IETF XML Registry</title>
            <author initials="M." surname="Mealling" fullname="M. Mealling">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2004" month="January"/>
            <abstract>
              <t indent="0">This document describes an IANA maintained registry for IETF standards which use Extensible Markup Language (XML) related items such as Namespaces, Document Type Declarations (DTDs), Schemas, and Resource Description Framework (RDF) Schemas.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="81"/>
          <seriesInfo name="RFC" value="3688"/>
          <seriesInfo name="DOI" value="10.17487/RFC3688"/>
        </reference>
        <reference anchor="RFC6020" target="https://www.rfc-editor.org/info/rfc6020" quoteTitle="true" derivedAnchor="RFC6020">
          <front>
            <title>YANG - A Data Modeling Language for the Network Configuration Protocol (NETCONF)</title>
            <author initials="M." surname="Bjorklund" fullname="M. Bjorklund" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2010" month="October"/>
            <abstract>
              <t indent="0">YANG is a data modeling language used to model configuration and state data manipulated by the Network Configuration Protocol (NETCONF), NETCONF remote procedure calls, and NETCONF notifications. [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="6020"/>
          <seriesInfo name="DOI" value="10.17487/RFC6020"/>
        </reference>
        <reference anchor="RFC6241" target="https://www.rfc-editor.org/info/rfc6241" quoteTitle="true" derivedAnchor="RFC6241">
          <front>
            <title>Network Configuration Protocol (NETCONF)</title>
            <author initials="R." surname="Enns" fullname="R. Enns" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Bjorklund" fullname="M. Bjorklund" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="J." surname="Schoenwaelder" fullname="J. Schoenwaelder" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="A." surname="Bierman" fullname="A. Bierman" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2011" month="June"/>
            <abstract>
              <t indent="0">The Network Configuration Protocol (NETCONF) defined in this document provides mechanisms to install, manipulate, and delete the configuration of network devices.  It uses an Extensible Markup Language (XML)-based data encoding for the configuration data as well as the protocol messages.  The NETCONF protocol operations are realized as remote procedure calls (RPCs).  This document obsoletes RFC 4741.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="6241"/>
          <seriesInfo name="DOI" value="10.17487/RFC6241"/>
        </reference>
        <reference anchor="RFC6242" target="https://www.rfc-editor.org/info/rfc6242" quoteTitle="true" derivedAnchor="RFC6242">
          <front>
            <title>Using the NETCONF Protocol over Secure Shell (SSH)</title>
            <author initials="M." surname="Wasserman" fullname="M. Wasserman">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2011" month="June"/>
            <abstract>
              <t indent="0">This document describes a method for invoking and running the Network Configuration Protocol (NETCONF) within a Secure Shell (SSH) session as an SSH subsystem.  This document obsoletes RFC 4742.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="6242"/>
          <seriesInfo name="DOI" value="10.17487/RFC6242"/>
        </reference>
        <reference anchor="RFC6991" target="https://www.rfc-editor.org/info/rfc6991" quoteTitle="true" derivedAnchor="RFC6991">
          <front>
            <title>Common YANG Data Types</title>
            <author initials="J." surname="Schoenwaelder" fullname="J. Schoenwaelder" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2013" month="July"/>
            <abstract>
              <t indent="0">This document introduces a collection of common data types to be used with the YANG data modeling language.  This document obsoletes RFC 6021.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="6991"/>
          <seriesInfo name="DOI" value="10.17487/RFC6991"/>
        </reference>
        <reference anchor="RFC7224" target="https://www.rfc-editor.org/info/rfc7224" quoteTitle="true" derivedAnchor="RFC7224">
          <front>
            <title>IANA Interface Type YANG Module</title>
            <author initials="M." surname="Bjorklund" fullname="M. Bjorklund">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2014" month="May"/>
            <abstract>
              <t indent="0">This document defines the initial version of the iana-if-type YANG module.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7224"/>
          <seriesInfo name="DOI" value="10.17487/RFC7224"/>
        </reference>
        <reference anchor="RFC7348" target="https://www.rfc-editor.org/info/rfc7348" quoteTitle="true" derivedAnchor="RFC7348">
          <front>
            <title>Virtual eXtensible Local Area Network (VXLAN): A Framework for Overlaying Virtualized Layer 2 Networks over Layer 3 Networks</title>
            <author initials="M." surname="Mahalingam" fullname="M. Mahalingam">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="D." surname="Dutt" fullname="D. Dutt">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="K." surname="Duda" fullname="K. Duda">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="P." surname="Agarwal" fullname="P. Agarwal">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="L." surname="Kreeger" fullname="L. Kreeger">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="T." surname="Sridhar" fullname="T. Sridhar">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Bursell" fullname="M. Bursell">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="C." surname="Wright" fullname="C. Wright">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2014" month="August"/>
            <abstract>
              <t indent="0">This document describes Virtual eXtensible Local Area Network (VXLAN), which is used to address the need for overlay networks within virtualized data centers accommodating multiple tenants.  The scheme and the related protocols can be used in networks for cloud service providers and enterprise data centers.  This memo documents the deployed VXLAN protocol for the benefit of the Internet community.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7348"/>
          <seriesInfo name="DOI" value="10.17487/RFC7348"/>
        </reference>
        <reference anchor="RFC7950" target="https://www.rfc-editor.org/info/rfc7950" quoteTitle="true" derivedAnchor="RFC7950">
          <front>
            <title>The YANG 1.1 Data Modeling Language</title>
            <author initials="M." surname="Bjorklund" fullname="M. Bjorklund" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2016" month="August"/>
            <abstract>
              <t indent="0">YANG is a data modeling language used to model configuration data, state data, Remote Procedure Calls, and notifications for network management protocols.  This document describes the syntax and semantics of version 1.1 of the YANG language.  YANG version 1.1 is a maintenance release of the YANG language, addressing ambiguities and defects in the original specification.  There are a small number of backward incompatibilities from YANG version 1.  This document also specifies the YANG mappings to the Network Configuration Protocol (NETCONF).</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7950"/>
          <seriesInfo name="DOI" value="10.17487/RFC7950"/>
        </reference>
        <reference anchor="RFC8040" target="https://www.rfc-editor.org/info/rfc8040" quoteTitle="true" derivedAnchor="RFC8040">
          <front>
            <title>RESTCONF Protocol</title>
            <author initials="A." surname="Bierman" fullname="A. Bierman">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Bjorklund" fullname="M. Bjorklund">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="K." surname="Watsen" fullname="K. Watsen">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2017" month="January"/>
            <abstract>
              <t indent="0">This document describes an HTTP-based protocol that provides a programmatic interface for accessing data defined in YANG, using the datastore concepts defined in the Network Configuration Protocol (NETCONF).</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8040"/>
          <seriesInfo name="DOI" value="10.17487/RFC8040"/>
        </reference>
        <reference anchor="RFC8174" target="https://www.rfc-editor.org/info/rfc8174" quoteTitle="true" derivedAnchor="RFC8174">
          <front>
            <title>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</title>
            <author initials="B." surname="Leiba" fullname="B. Leiba">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2017" month="May"/>
            <abstract>
              <t indent="0">RFC 2119 specifies common key words that may be used in protocol  specifications.  This document aims to reduce the ambiguity by clarifying that only UPPERCASE usage of the key words have the  defined special meanings.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="8174"/>
          <seriesInfo name="DOI" value="10.17487/RFC8174"/>
        </reference>
        <reference anchor="RFC8341" target="https://www.rfc-editor.org/info/rfc8341" quoteTitle="true" derivedAnchor="RFC8341">
          <front>
            <title>Network Configuration Access Control Model</title>
            <author initials="A." surname="Bierman" fullname="A. Bierman">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Bjorklund" fullname="M. Bjorklund">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2018" month="March"/>
            <abstract>
              <t indent="0">The standardization of network configuration interfaces for use with the Network Configuration Protocol (NETCONF) or the RESTCONF protocol requires a structured and secure operating environment that promotes human usability and multi-vendor interoperability.  There is a need for standard mechanisms to restrict NETCONF or RESTCONF protocol access for particular users to a preconfigured subset of all available NETCONF or RESTCONF protocol operations and content.  This document defines such an access control model.</t>
              <t indent="0">This document obsoletes RFC 6536.</t>
            </abstract>
          </front>
          <seriesInfo name="STD" value="91"/>
          <seriesInfo name="RFC" value="8341"/>
          <seriesInfo name="DOI" value="10.17487/RFC8341"/>
        </reference>
        <reference anchor="RFC8345" target="https://www.rfc-editor.org/info/rfc8345" quoteTitle="true" derivedAnchor="RFC8345">
          <front>
            <title>A YANG Data Model for Network Topologies</title>
            <author initials="A." surname="Clemm" fullname="A. Clemm">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="J." surname="Medved" fullname="J. Medved">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Varga" fullname="R. Varga">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="N." surname="Bahadur" fullname="N. Bahadur">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="H." surname="Ananthakrishnan" fullname="H. Ananthakrishnan">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="X." surname="Liu" fullname="X. Liu">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2018" month="March"/>
            <abstract>
              <t indent="0">This document defines an abstract (generic, or base) YANG data model for network/service topologies and inventories.  The data model serves as a base model that is augmented with technology-specific details in other, more specific topology and inventory data models.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8345"/>
          <seriesInfo name="DOI" value="10.17487/RFC8345"/>
        </reference>
        <reference anchor="RFC8446" target="https://www.rfc-editor.org/info/rfc8446" quoteTitle="true" derivedAnchor="RFC8446">
          <front>
            <title>The Transport Layer Security (TLS) Protocol Version 1.3</title>
            <author initials="E." surname="Rescorla" fullname="E. Rescorla">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2018" month="August"/>
            <abstract>
              <t indent="0">This document specifies version 1.3 of the Transport Layer Security (TLS) protocol.  TLS allows client/server applications to communicate over the Internet in a way that is designed to prevent eavesdropping, tampering, and message forgery.</t>
              <t indent="0">This document updates RFCs 5705 and 6066, and obsoletes RFCs 5077, 5246, and 6961.  This document also specifies new requirements for TLS 1.2 implementations.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8446"/>
          <seriesInfo name="DOI" value="10.17487/RFC8446"/>
        </reference>
      </references>
      <references pn="section-7.2">
        <name slugifiedName="name-informative-references">Informative References</name>
        <reference anchor="I-D.ietf-i2rs-usecase-reqs-summary" quoteTitle="true" target="https://tools.ietf.org/html/draft-ietf-i2rs-usecase-reqs-summary-03" derivedAnchor="I2RS-UR">
          <front>
            <title>Summary of I2RS Use Case Requirements</title>
            <author fullname="Susan Hares">
	 </author>
            <author fullname="Mach Chen">
	 </author>
            <date month="November" day="15" year="2016"/>
            <abstract>
              <t indent="0">   The I2RS Working Group (WG) has described a set of use cases that the
   I2RS systems could fulfil.  This document summarizes these use cases.
   It is designed to provide requirements that will aid the design of
   the I2RS architecture, Information Models, Data Models, Security, and
   protocols.

              </t>
            </abstract>
          </front>
          <seriesInfo name="Internet-Draft" value="draft-ietf-i2rs-usecase-reqs-summary-03"/>
          <format type="TXT" target="https://www.ietf.org/internet-drafts/draft-ietf-i2rs-usecase-reqs-summary-03.txt"/>
          <refcontent>Work in Progress</refcontent>
        </reference>
        <reference anchor="IEEE802.1AB" quoteTitle="true" target="https://doi.org/10.1109/IEEESTD.2016.7433915" derivedAnchor="IEEE802.1AB">
          <front>
            <title>IEEE Standard for Local and metropolitan area networks - Station and Media Access Control Connectivity Discovery</title>
            <author>
              <organization showOnFrontPage="true">IEEE</organization>
            </author>
            <date month="March" year="2016"/>
          </front>
          <seriesInfo name="IEEE" value="Std 802.1AB-2016"/>
          <seriesInfo name="DOI" value="10.1109/IEEESTD.2016.7433915"/>
        </reference>
        <reference anchor="IEEE802.1ad" quoteTitle="true" target="https://doi.org/10.1109/IEEESTD.2006.6044678" derivedAnchor="IEEE802.1ad">
          <front>
            <title>IEEE Standard for Local and Metropolitan Area Networks--Virtual Bridged Local Area Networks--Amendment 4: Provider Bridges</title>
            <author>
              <organization showOnFrontPage="true">IEEE</organization>
            </author>
            <date month="May" year="2006"/>
          </front>
          <seriesInfo name="IEEE" value="Std 802.1ad-2005"/>
          <seriesInfo name="DOI" value="10.1109/IEEESTD.2006.6044678"/>
        </reference>
        <reference anchor="IEEE802.1ah" quoteTitle="true" target="https://doi.org/10.1109/IEEESTD.2008.4602826" derivedAnchor="IEEE802.1ah">
          <front>
            <title>IEEE Standard for Local and metropolitan area networks -- Virtual Bridged Local Area Networks Amendment 7: Provider Backbone Bridges</title>
            <author>
              <organization showOnFrontPage="true">IEEE</organization>
            </author>
            <date month="August" year="2008"/>
          </front>
          <seriesInfo name="IEEE" value="Std 802.1ah-2008"/>
          <seriesInfo name="DOI" value="10.1109/IEEESTD.2008.4602826"/>
        </reference>
        <reference anchor="IEEE802.1Q-2014" quoteTitle="true" target="https://doi.org/10.1109/IEEESTD.2014.6991462" derivedAnchor="IEEE802.1Q-2014">
          <front>
            <title>IEEE Standard for Local and metropolitan area networks--Bridges and Bridged Networks</title>
            <author>
              <organization showOnFrontPage="true">IEEE</organization>
            </author>
            <date month="December" year="2014"/>
          </front>
          <seriesInfo name="IEEE" value="802.1Q-2014"/>
          <seriesInfo name="DOI" value="10.1109/IEEESTD.2014.6991462"/>
        </reference>
        <reference anchor="IEEE802.1Qcp" quoteTitle="true" target="https://doi.org/10.1109/IEEESTD.2018.8467507" derivedAnchor="IEEE802.1Qcp">
          <front>
            <title>IEEE Standard for Local and metropolitan area networks--Bridges and Bridged Networks--Amendment 30: YANG Data Model</title>
            <author>
              <organization showOnFrontPage="true">IEEE</organization>
            </author>
            <date month="September" year="2018"/>
          </front>
          <seriesInfo name="IEEE" value="Std 802.1Qcp-2018"/>
          <seriesInfo name="DOI" value="10.1109/IEEESTD.2018.8467507"/>
        </reference>
        <reference anchor="RFC7727" target="https://www.rfc-editor.org/info/rfc7727" quoteTitle="true" derivedAnchor="RFC7727">
          <front>
            <title>Spanning Tree Protocol (STP) Application of the Inter-Chassis Communication Protocol (ICCP)</title>
            <author initials="M." surname="Zhang" fullname="M. Zhang">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="H." surname="Wen" fullname="H. Wen">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="J." surname="Hu" fullname="J. Hu">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2016" month="January"/>
            <abstract>
              <t indent="0">The Inter-Chassis Communication Protocol (ICCP) supports an inter-chassis redundancy mechanism that is used to support high network availability.</t>
              <t indent="0">In this document, Provider Edge (PE) devices in a Redundancy Group (RG) running ICCP are used to offer multihomed connectivity to Spanning Tree Protocol (STP) networks to improve availability of the STP networks.   The ICCP TLVs and usage for the ICCP STP application are defined.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7727"/>
          <seriesInfo name="DOI" value="10.17487/RFC7727"/>
        </reference>
        <reference anchor="RFC7951" target="https://www.rfc-editor.org/info/rfc7951" quoteTitle="true" derivedAnchor="RFC7951">
          <front>
            <title>JSON Encoding of Data Modeled with YANG</title>
            <author initials="L." surname="Lhotka" fullname="L. Lhotka">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2016" month="August"/>
            <abstract>
              <t indent="0">This document defines encoding rules for representing configuration data, state data, parameters of Remote Procedure Call (RPC) operations or actions, and notifications defined using YANG as JavaScript Object Notation (JSON) text.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7951"/>
          <seriesInfo name="DOI" value="10.17487/RFC7951"/>
        </reference>
        <reference anchor="RFC8340" target="https://www.rfc-editor.org/info/rfc8340" quoteTitle="true" derivedAnchor="RFC8340">
          <front>
            <title>YANG Tree Diagrams</title>
            <author initials="M." surname="Bjorklund" fullname="M. Bjorklund">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="L." surname="Berger" fullname="L. Berger" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2018" month="March"/>
            <abstract>
              <t indent="0">This document captures the current syntax used in YANG module tree diagrams.  The purpose of this document is to provide a single location for this definition.  This syntax may be updated from time to time based on the evolution of the YANG language.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="215"/>
          <seriesInfo name="RFC" value="8340"/>
          <seriesInfo name="DOI" value="10.17487/RFC8340"/>
        </reference>
        <reference anchor="RFC8342" target="https://www.rfc-editor.org/info/rfc8342" quoteTitle="true" derivedAnchor="RFC8342">
          <front>
            <title>Network Management Datastore Architecture (NMDA)</title>
            <author initials="M." surname="Bjorklund" fullname="M. Bjorklund">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="J." surname="Schoenwaelder" fullname="J. Schoenwaelder">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="P." surname="Shafer" fullname="P. Shafer">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="K." surname="Watsen" fullname="K. Watsen">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Wilton" fullname="R. Wilton">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2018" month="March"/>
            <abstract>
              <t indent="0">Datastores are a fundamental concept binding the data models written in the YANG data modeling language to network management protocols such as the Network Configuration Protocol (NETCONF) and RESTCONF. This document defines an architectural framework for datastores based on the experience gained with the initial simpler model, addressing requirements that were not well supported in the initial model.  This document updates RFC 7950.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8342"/>
          <seriesInfo name="DOI" value="10.17487/RFC8342"/>
        </reference>
        <reference anchor="I-D.ietf-trill-yang" quoteTitle="true" target="https://tools.ietf.org/html/draft-ietf-trill-yang-04" derivedAnchor="TRILL-YANG">
          <front>
            <title>TRILL YANG Data Model</title>
            <author fullname="Weiguo Hao">
	 </author>
            <author fullname="Yizhou Li">
	 </author>
            <author fullname="Deepak Kumar">
	 </author>
            <author fullname="Muhammad Durrani">
	 </author>
            <author fullname="Hongjun Zhai">
	 </author>
            <author fullname="Liang Xia">
	 </author>
            <date month="December" day="20" year="2015"/>
            <abstract>
              <t indent="0">   This document defines a YANG data model for TRILL protocol.

              </t>
            </abstract>
          </front>
          <seriesInfo name="Internet-Draft" value="draft-ietf-trill-yang-04"/>
          <format type="TXT" target="https://www.ietf.org/internet-drafts/draft-ietf-trill-yang-04.txt"/>
          <refcontent>Work in Progress</refcontent>
        </reference>
      </references>
    </references>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-appendix.a">
      <name slugifiedName="name-companion-yang-module-for-n">Companion YANG Module for Non-NMDA-Compliant Implementations</name>
      <t indent="0" pn="section-appendix.a-1">The YANG module ietf-l2-topology defined in this document augments
      two modules, "ietf-network" and "ietf-network-topology", that are
      designed to be used in conjunction with implementations that support the
      Network Management Datastore Architecture (NMDA) defined in <xref target="RFC8342" format="default" sectionFormat="of" derivedContent="RFC8342"/>. In order to allow implementations
      to use the model 
      even in cases when NMDA is not supported, a set of companion modules
      have been defined that represent a state model of networks and network
      topologies, "ietf-network-state" and "ietf-network-topology-state",
      respectively.</t>
      <t indent="0" pn="section-appendix.a-2">In order to be able to use the model for Layer 2 topologies defined
      in this document in conjunction with non-NMDA-compliant implementations,
      a corresponding companion module is defined that represents the
      operational state of Layer 2 network topologies. The module
      "ietf-l2-topology-state" mirrors the module "ietf-l2-topology" defined
      in <xref target="L2YANG" format="default" sectionFormat="of" derivedContent="Section 4"/>. However, it augments "ietf-network-state"
      and "ietf-network-topology-state" (instead of "ietf-network" and
      "ietf-network-topology") and all its data nodes are
      nonconfigurable.</t>
      <t indent="0" pn="section-appendix.a-3">The companion module "ietf-l2-topology" <bcp14>SHOULD NOT</bcp14> be supported by
      implementations that support NMDA. It is for this reason that this
      module is defined in the informative appendix.</t>
      <t indent="0" pn="section-appendix.a-4">As the structure of this module mirrors that of its underlying
      modules, the YANG tree is not depicted separately.</t>
      <sourcecode name="ietf-l2-topology-state@2020-11-15.yang" type="yang" markers="true" pn="section-appendix.a-5">
module ietf-l2-topology-state {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:ietf-l2-topology-state";
  prefix l2t-s;

  import ietf-network-state {
    prefix nw-s;
    reference
      "RFC 8345: A YANG Data Model for Network Topologies";
  }
  import ietf-network-topology-state {
    prefix nt-s;
    reference
      "RFC 8345: A YANG Data Model for Network Topologies";
  }
  import ietf-l2-topology {
    prefix l2t;
    reference
      "RFC 8944: A YANG Data Model for Layer 2 Network Topologies";
  }

  organization
    "IETF I2RS (Interface to the Routing System) Working Group";
  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/i2rs/&gt;
     WG List:  &lt;mailto:i2rs@ietf.org&gt;

     Editor:    Jie Dong
               &lt;mailto:jie.dong@huawei.com&gt;
     Editor:    Xiugang Wei
               &lt;mailto:weixiugang@huawei.com&gt;
     Editor:    Qin Wu
               &lt;mailto:bill.wu@huawei.com&gt;
     Editor:    Mohamed Boucadair
               &lt;mailto:mohamed.boucadair@orange.com&gt;
     Editor:   Anders Liu
               &lt;andersliu@tencent.com&gt;";
  description
    "This module defines a model for Layer 2 Network Topology
     state, representing topology that either is learned or
     results from applying topology that has been configured per
     the 'ietf-l2-topology' model, mirroring the
     corresponding data nodes in this model.

     This model mirrors 'ietf-l2-topology' but contains only
     read-only state data.  The model is not needed when the
     underlying implementation infrastructure supports the
     Network Management Datastore Architecture (NMDA).

     Copyright (c) 2020 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC 8944; see
     the RFC itself for full legal notices.";

  revision 2020-11-15 {
    description
      "Initial revision.";
    reference
      "RFC 8944: A YANG Data Model for Layer 2 Network Topologies";
  }

  /*
   * Data nodes
   */

  augment "/nw-s:networks/nw-s:network/nw-s:network-types" {
    description
      "Introduces a new network type for L2 topology.";
    uses l2t:l2-network-type;
  }

  augment "/nw-s:networks/nw-s:network" {
    when 'nw-s:network-types/l2t-s:l2-topology' {
      description
        "Augmentation parameters apply only for networks
         with L2 topology.";
    }
    description
      "Configuration parameters for the L2 network
       as a whole.";
    uses l2t:l2-topology-attributes;
  }

  augment "/nw-s:networks/nw-s:network/nw-s:node" {
    when '../nw-s:network-types/l2t-s:l2-topology' {
      description
        "Augmentation parameters apply only for networks
         with L2 topology.";
    }
    description
      "Configuration parameters for L2 at the node
       level.";
    uses l2t:l2-node-attributes;
  }

  augment "/nw-s:networks/nw-s:network/nt-s:link" {
    when '../nw-s:network-types/l2t-s:l2-topology' {
      description
        "Augmentation parameters apply only for networks
         with L2 topology.";
    }
    description
      "Augments L2 topology link information.";
    uses l2t:l2-link-attributes;
  }

  augment "/nw-s:networks/nw-s:network/nw-s:node/"
        + "nt-s:termination-point" {
    when '../../nw-s:network-types/l2t-s:l2-topology' {
      description
        "Augmentation parameters apply only for networks
         with L2 topology.";
    }
    description
      "Augments L2 topology termination point information.";
    uses l2t:l2-termination-point-attributes;
  }

  /*
   * Notifications
   */

  notification l2-node-event {
    description
      "Notification event for L2 node.";
    leaf event-type {
      type l2t:l2-network-event-type;
      description
        "Event type.";
    }
    uses nw-s:node-ref;
    uses l2t:l2-network-type;
    uses l2t:l2-node-attributes;
  }

  notification l2-link-event {
    description
      "Notification event for an L2 link.";
    leaf event-type {
      type l2t:l2-network-event-type;
      description
        "Event type.";
    }
    uses nt-s:link-ref;
    uses l2t:l2-network-type;
    uses l2t:l2-link-attributes;
  }

  notification l2-termination-point-event {
    description
      "Notification event for L2 termination point.";
    leaf event-type {
      type l2t:l2-network-event-type;
      description
        "Event type.";
    }
    uses nt-s:tp-ref;
    uses l2t:l2-network-type;
    uses l2t:l2-termination-point-attributes;
  }
}
</sourcecode>
    </section>
    <section anchor="ex" numbered="true" toc="include" removeInRFC="false" pn="section-appendix.b">
      <name slugifiedName="name-an-example">An Example</name>
      <t indent="0" pn="section-appendix.b-1">This section contains an example of an instance data tree in JSON
      encoding <xref target="RFC7951" format="default" sectionFormat="of" derivedContent="RFC7951"/>. The example instantiates
      "ietf-l2-topology" for the topology that is depicted in the following
      diagram. There are three nodes: D1, D2, and D3. D1 has three termination
      points: 1-0-1, 1-2-1, and 1-3-1. D2 has three termination points as
      well: 2-1-1, 2-0-1, and 2-3-1. D3 has two termination points: 3-1-1 and
      3-2-1. For termination point 1-0-1, it provides lag support and has two
      member link termination points: 1-0-1-1 and 1-0-1-2. In addition, there are
      six links, two between each pair of nodes with one going in each
      direction.</t>
      <figure align="left" suppress-title="false" pn="figure-2">
        <name slugifiedName="name-a-network-topology-example">A Network Topology Example</name>
        <artwork name="" type="" align="left" alt="" pn="section-appendix.b-2.1">                
                +------------+                   +------------+
                |     D1     |                   |     D2     |
       1-0-1-1 /-\          /-\                 /-\          /-\
    &lt;---------&gt;| | 1-0-1    | |----------------&gt;| | 2-1-1    | |
       1-0-1-2 | |    1-2-1 | |&lt;----------------| |    2-0-1 | |
    &lt;--------&gt; \-/  1-3-1   \-/                 \-/  2-3-1   \-/
                |   /----\   |                   |   /----\   |
                +---|    |---+                   +---|    |---+
                    \----/                           \----/
                     A  |                             A  |
                     |  |                             |  |
                     |  |                             |  |
                     |  |       +------------+        |  |
                     |  |       |     D3     |        |  |
                     |  |      /-\          /-\       |  |
                     |  +-----&gt;| | 3-1-1    | |-------+  |
                     +---------| |    3-2-1 | |&lt;---------+
                               \-/          \-/
                                |            |
                                +------------+
</artwork>
      </figure>
      <t indent="0" pn="section-appendix.b-3">The corresponding instance data tree is depicted below:</t>
      <sourcecode type="json" markers="false" pn="section-appendix.b-4">
{
  "ietf-network:networks": {
    "network": [
      {
        "network-id": "l2-topo-example",
        "node": [
          {
            "node-id": "D1",
            "ietf-network-topology:termination-point": [
              {
                "tp-id": "1-0-1",
                "ietf-l2-topology:l2-termination-point-attributes": {
                  "mac-address": "00:00:5e:00:53:d0",
                  "lag": true,
                  "member-link-tp": [
                    "1-0-1-1",
                    "1-0-1-2"
                  ]
                }
              },
              {
                "tp-id": "1-0-1-1",
                "ietf-l2-topology:l2-termination-point-attributes": {
                  "mac-address": "00:00:5e:00:53:d3"
                }
              },
              {
                "tp-id": "1-0-1-2",
                "ietf-l2-topology:l2-termination-point-attributes": {
                  "mac-address": "00:00:5e:00:53:d4"
                }
              },
              {
                "tp-id": "1-2-1",
                "ietf-l2-topology:l2-termination-point-attributes": {
                  "mac-address": "00:00:5e:00:53:d1"
                }
              },
              {
                "tp-id": "1-3-1",
                "ietf-l2-topology:l2-termination-point-attributes": {
                  "mac-address": "00:00:5e:00:53:d2"
                }
              }
            ],
            "ietf-l2-topology:l2-node-attributes": {
              "management-address": [
                "192.0.2.1",
                "2001:db8:0:1::"
              ]
            }
          },
          {
            "node-id": "D2",
            "ietf-network-topology:termination-point": [
              {
                "tp-id": "2-0-1",
                "ietf-l2-topology:l2-termination-point-attributes": {
                  "mac-address": "00:00:5e:00:53:e0"
                }
              },
              {
                "tp-id": "2-1-1",
                "ietf-l2-topology:l2-termination-point-attributes": {
                  "mac-address": "00:00:5e:00:53:e1"
                }
              },
              {
                "tp-id": "2-3-1",
                "ietf-l2-topology:l2-termination-point-attributes": {
                  "mac-address": "00:00:5e:00:53:e2"
                }
              }
            ],
            "ietf-l2-topology:l2-node-attributes": {
              "management-address": [
                "192.0.2.2",
                "2001:db8:0:2::"
              ]
            }
          },
          {
            "node-id": "D3",
            "ietf-network-topology:termination-point": [
              {
                "tp-id": "3-1-1",
                "ietf-l2-topology:l2-termination-point-attributes": {
                  "mac-address": "00:00:5e:00:53:f0"
                }
              },
              {
                "tp-id": "3-2-1",
                "ietf-l2-topology:l2-termination-point-attributes": {
                  "mac-address": "00:00:5e:00:53:f1"
                }
              }
            ],
            "ietf-l2-topology:l2-node-attributes": {
              "management-address": [
                "192.0.2.3",
                "2001:db8:0:3::"
              ]
            }
          }
        ],
        "ietf-network-topology:link": [
          {
            "link-id": "D1,1-2-1,D2,2-1-1",
            "source": {
              "source-node": "D1",
              "source-tp": "1-2-1"
            },
            "destination": {
              "dest-node": "D2",
              "dest-tp": "2-1-1"
            },
            "ietf-l2-topology:l2-link-attributes": {
              "rate": "1000"
            }
          },
          {
            "link-id": "D2,2-1-1,D1,1-2-1",
            "source": {
              "source-node": "D2",
              "source-tp": "2-1-1"
            },
            "destination": {
              "dest-node": "D1",
              "dest-tp": "1-2-1"
            },
            "ietf-l2-topology:l2-link-attributes": {
              "rate": "1000"
            }
          },
          {
            "link-id": "D1,1-3-1,D3,3-1-1",
            "source": {
              "source-node": "D1",
              "source-tp": "1-3-1"
            },
            "destination": {
              "dest-node": "D3",
              "dest-tp": "3-1-1"
            },
            "ietf-l2-topology:l2-link-attributes": {
              "rate": "1000"
            }
          },
          {
            "link-id": "D3,3-1-1,D1,1-3-1",
            "source": {
              "source-node": "D3",
              "source-tp": "3-1-1"
            },
            "destination": {
              "dest-node": "D1",
              "dest-tp": "1-3-1"
            },
            "ietf-l2-topology:l2-link-attributes": {
              "rate": "1000"
            }
          },
          {
            "link-id": "D2,2-3-1,D3,3-2-1",
            "source": {
              "source-node": "D2",
              "source-tp": "2-3-1"
            },
            "destination": {
              "dest-node": "D3",
              "dest-tp": "3-2-1"
            },
            "ietf-l2-topology:l2-link-attributes": {
              "rate": "1000"
            }
          },
          {
            "link-id": "D3,3-2-1,D2,2-3-1",
            "source": {
              "source-node": "D3",
              "source-tp": "3-2-1"
            },
            "destination": {
              "dest-node": "D2",
              "dest-tp": "2-3-1"
            },
            "ietf-l2-topology:l2-link-attributes": {
              "rate": "1000"
            }
          }
        ]
      }
    ]
  }
}
</sourcecode>
    </section>
    <section numbered="false" toc="include" removeInRFC="false" pn="section-appendix.c">
      <name slugifiedName="name-acknowledgements">Acknowledgements</name>
      <t indent="0" pn="section-appendix.c-1">The authors would like to acknowledge the comments and suggestions
      received from <contact fullname="Susan Hares"/>, <contact fullname="Alia       Atlas"/>, <contact fullname="Juergen Schoenwaelder"/>, <contact fullname="Mach Chen"/>, <contact fullname="Alexander Clemm"/>, <contact fullname="Sriganesh Kini"/>, <contact fullname="Oscar Gonzalez de       Dios"/>, <contact fullname="Stig Venaas"/>, <contact fullname="Christian       Huitema"/>, <contact fullname="Meral Shirazipour"/>, <contact fullname="Benjamin Kaduk"/>, and <contact fullname="Don Fedyk"/>.</t>
      <t indent="0" pn="section-appendix.c-2">Many thanks to <contact fullname="Ladislav Lhotka"/> for the
      yang-doctors review.</t>
    </section>
    <section anchor="authors-addresses" numbered="false" removeInRFC="false" toc="include" pn="section-appendix.d">
      <name slugifiedName="name-authors-addresses">Authors' Addresses</name>
      <author fullname="Jie Dong" initials="J." surname="Dong">
        <organization showOnFrontPage="true">Huawei</organization>
        <address>
          <postal>
            <street>No. 156 Beiqing Rd.</street>
            <extaddr>Huawei Campus</extaddr>
            <city>Beijing</city>
            <code>100095</code>
            <country>China</country>
          </postal>
          <email>jie.dong@huawei.com</email>
        </address>
      </author>
      <author fullname="Xiugang Wei" initials="X." surname="Wei">
        <organization showOnFrontPage="true">Huawei</organization>
        <address>
          <postal>
            <street>No. 156 Beiqing Rd.</street>
            <extaddr>Huawei Campus</extaddr>
            <city>Beijing</city>
            <code>100095</code>
            <country>China</country>
          </postal>
          <email>weixiugang@huawei.com</email>
        </address>
      </author>
      <author fullname="Qin Wu" initials="Q." surname="Wu">
        <organization showOnFrontPage="true">Huawei</organization>
        <address>
          <postal>
            <street>101 Software Avenue</street>
            <street>Yuhua District</street>
            <city>Nanjing</city>
            <code>210012</code>
            <country>China</country>
          </postal>
          <email>bill.wu@huawei.com</email>
        </address>
      </author>
      <author fullname="Mohamed Boucadair" initials="M." surname="Boucadair">
        <organization showOnFrontPage="true">Orange</organization>
        <address>
          <postal>
            <street>Rennes 35000</street>
            <country>France</country>
          </postal>
          <email>mohamed.boucadair@orange.com</email>
        </address>
      </author>
      <author fullname="Anders Liu" initials="A." surname="Liu">
        <organization showOnFrontPage="true">Tecent</organization>
        <address>
          <postal>
            <street>38 Haidian St</street>
            <extaddr>Yinke Building</extaddr>
            <street>Haidian District</street>
            <city>Beijing</city>
            <code>100080</code>
            <country>China</country>
          </postal>
          <email>andersliu@tencent.com</email>
        </address>
      </author>
    </section>
  </back>
</rfc>
