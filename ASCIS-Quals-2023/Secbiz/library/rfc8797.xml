<?xml version='1.0' encoding='utf-8'?>
<rfc xmlns:xi="http://www.w3.org/2001/XInclude" version="3" category="std" consensus="true" docName="draft-ietf-nfsv4-rpcrdma-cm-pvt-data-08" indexInclude="true" ipr="trust200902" number="8797" prepTime="2020-06-25T10:52:35" scripts="Common,Latin" sortRefs="true" submissionType="IETF" symRefs="true" tocDepth="3" tocInclude="true" updates="8166" xml:lang="en">
  <link href="https://datatracker.ietf.org/doc/draft-ietf-nfsv4-rpcrdma-cm-pvt-data-08" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc8797" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <front>
    <title abbrev="RPC-over-RDMA CM Private Data">Remote Direct Memory Access - Connection Manager (RDMA-CM) Private Data for RPC-over-RDMA Version 1</title>
    <seriesInfo name="RFC" value="8797" stream="IETF"/>
    <author initials="C." surname="Lever" fullname="Charles Lever">
      <organization abbrev="Oracle" showOnFrontPage="true">Oracle Corporation</organization>
      <address>
        <postal>
          <street/>
          <city/>
          <region/>
          <code/>
          <country>United States of America</country>
        </postal>
        <email>chuck.lever@oracle.com</email>
      </address>
    </author>
    <date month="06" year="2020"/>
    <keyword>NFS-over-RDMA</keyword>
    <abstract pn="section-abstract">
      <t pn="section-abstract-1">
This document specifies the format of
Remote Direct Memory Access - Connection Manager (RDMA-CM) Private Data
exchanged between RPC-over-RDMA version 1 peers
as part of establishing a connection.
The addition of the Private Data payload specified in this document
is an optional extension
that does not alter the RPC-over-RDMA version 1 protocol.
This document updates RFC 8166.
</t>
    </abstract>
    <boilerplate>
      <section anchor="status-of-memo" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.1">
        <name slugifiedName="name-status-of-this-memo">Status of This Memo</name>
        <t pn="section-boilerplate.1-1">
            This is an Internet Standards Track document.
        </t>
        <t pn="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.
        </t>
        <t pn="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <eref target="https://www.rfc-editor.org/info/rfc8797" brackets="none"/>.
        </t>
      </section>
      <section anchor="copyright" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.2">
        <name slugifiedName="name-copyright-notice">Copyright Notice</name>
        <t pn="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.
        </t>
        <t pn="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<eref target="https://trustee.ietf.org/license-info" brackets="none"/>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.
        </t>
      </section>
    </boilerplate>
    <toc>
      <section anchor="toc" numbered="false" removeInRFC="false" toc="exclude" pn="section-toc.1">
        <name slugifiedName="name-table-of-contents">Table of Contents</name>
        <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1">
          <li pn="section-toc.1-1.1">
            <t keepWithNext="true" pn="section-toc.1-1.1.1"><xref derivedContent="1" format="counter" sectionFormat="of" target="section-1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-introduction">Introduction</xref></t>
          </li>
          <li pn="section-toc.1-1.2">
            <t keepWithNext="true" pn="section-toc.1-1.2.1"><xref derivedContent="2" format="counter" sectionFormat="of" target="section-2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-requirements-language">Requirements Language</xref></t>
          </li>
          <li pn="section-toc.1-1.3">
            <t pn="section-toc.1-1.3.1"><xref derivedContent="3" format="counter" sectionFormat="of" target="section-3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-advertised-transport-proper">Advertised Transport Properties</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.3.2">
              <li pn="section-toc.1-1.3.2.1">
                <t keepWithNext="true" pn="section-toc.1-1.3.2.1.1"><xref derivedContent="3.1" format="counter" sectionFormat="of" target="section-3.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-inline-threshold-size">Inline Threshold Size</xref></t>
              </li>
              <li pn="section-toc.1-1.3.2.2">
                <t pn="section-toc.1-1.3.2.2.1"><xref derivedContent="3.2" format="counter" sectionFormat="of" target="section-3.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-remote-invalidation">Remote Invalidation</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.4">
            <t pn="section-toc.1-1.4.1"><xref derivedContent="4" format="counter" sectionFormat="of" target="section-4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-private-data-message-format">Private Data Message Format</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.4.2">
              <li pn="section-toc.1-1.4.2.1">
                <t pn="section-toc.1-1.4.2.1.1"><xref derivedContent="4.1" format="counter" sectionFormat="of" target="section-4.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-using-the-r-field">Using the R Field</xref></t>
              </li>
              <li pn="section-toc.1-1.4.2.2">
                <t pn="section-toc.1-1.4.2.2.1"><xref derivedContent="4.2" format="counter" sectionFormat="of" target="section-4.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-send-and-receive-size-value">Send and Receive Size Values</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.5">
            <t pn="section-toc.1-1.5.1"><xref derivedContent="5" format="counter" sectionFormat="of" target="section-5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-interoperability-considerat">Interoperability Considerations</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.5.2">
              <li pn="section-toc.1-1.5.2.1">
                <t pn="section-toc.1-1.5.2.1.1"><xref derivedContent="5.1" format="counter" sectionFormat="of" target="section-5.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-interoperability-with-rpc-o">Interoperability with RPC-over-RDMA Version 1 Implementations</xref></t>
              </li>
              <li pn="section-toc.1-1.5.2.2">
                <t pn="section-toc.1-1.5.2.2.1"><xref derivedContent="5.2" format="counter" sectionFormat="of" target="section-5.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-interoperability-amongst-rd">Interoperability amongst RDMA Transports</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.6">
            <t pn="section-toc.1-1.6.1"><xref derivedContent="6" format="counter" sectionFormat="of" target="section-6"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-updating-the-message-format">Updating the Message Format</xref></t>
          </li>
          <li pn="section-toc.1-1.7">
            <t pn="section-toc.1-1.7.1"><xref derivedContent="7" format="counter" sectionFormat="of" target="section-7"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-security-considerations">Security Considerations</xref></t>
          </li>
          <li pn="section-toc.1-1.8">
            <t pn="section-toc.1-1.8.1"><xref derivedContent="8" format="counter" sectionFormat="of" target="section-8"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-iana-considerations">IANA Considerations</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.8.2">
              <li pn="section-toc.1-1.8.2.1">
                <t pn="section-toc.1-1.8.2.1.1"><xref derivedContent="8.1" format="counter" sectionFormat="of" target="section-8.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-guidance-for-designated-exp">Guidance for Designated Experts</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.9">
            <t pn="section-toc.1-1.9.1"><xref derivedContent="9" format="counter" sectionFormat="of" target="section-9"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-references">References</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.9.2">
              <li pn="section-toc.1-1.9.2.1">
                <t pn="section-toc.1-1.9.2.1.1"><xref derivedContent="9.1" format="counter" sectionFormat="of" target="section-9.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-normative-references">Normative References</xref></t>
              </li>
              <li pn="section-toc.1-1.9.2.2">
                <t pn="section-toc.1-1.9.2.2.1"><xref derivedContent="9.2" format="counter" sectionFormat="of" target="section-9.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-informative-references">Informative References</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.10">
            <t pn="section-toc.1-1.10.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.a"/><xref derivedContent="" format="title" sectionFormat="of" target="name-acknowledgments">Acknowledgments</xref></t>
          </li>
          <li pn="section-toc.1-1.11">
            <t pn="section-toc.1-1.11.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.b"/><xref derivedContent="" format="title" sectionFormat="of" target="name-authors-address">Author's Address</xref></t>
          </li>
        </ul>
      </section>
    </toc>
  </front>
  <middle>
    <section anchor="section_A4741DA2-FF86-4A9D-907B-8A73D53C7148" numbered="true" toc="include" removeInRFC="false" pn="section-1">
      <name slugifiedName="name-introduction">Introduction</name>
      <t pn="section-1-1">
The RPC-over-RDMA version 1 transport protocol
<xref target="RFC8166" format="default" sectionFormat="of" derivedContent="RFC8166"/>
enables payload data transfer using
Remote Direct Memory Access (RDMA)
for upper-layer protocols based on Remote Procedure Calls (RPCs)
<xref target="RFC5531" format="default" sectionFormat="of" derivedContent="RFC5531"/>.
The terms "Remote Direct Memory Access" (RDMA) and
"Direct Data Placement" (DDP) are introduced in
<xref target="RFC5040" format="default" sectionFormat="of" derivedContent="RFC5040"/>.
</t>
      <t pn="section-1-2">
The two most immediate shortcomings
of RPC-over-RDMA version 1 are as follows:
</t>
      <ol spacing="normal" start="1" type="1" pn="section-1-3">
        <li pn="section-1-3.1" derivedCounter="1.">
          <t pn="section-1-3.1.1">
Setting up an RDMA data transfer (via RDMA Read or Write) can be costly.
The small default size of messages transmitted using RDMA Send
forces the use of RDMA Read or Write operations
even for relatively small messages and data payloads.
</t>
          <t pn="section-1-3.1.2">
The original specification of RPC-over-RDMA version 1 provided
an out-of-band protocol for passing inline threshold values
between connected peers
<xref target="RFC5666" format="default" sectionFormat="of" derivedContent="RFC5666"/>.
However,
<xref target="RFC8166" format="default" sectionFormat="of" derivedContent="RFC8166"/>
eliminated support for this protocol, making it unavailable for this purpose.
</t>
        </li>
        <li pn="section-1-3.2" derivedCounter="2.">
Unlike most other contemporary RDMA-enabled storage protocols,
there is no facility in RPC-over-RDMA version 1
that enables the use of remote invalidation
<xref target="RFC5042" format="default" sectionFormat="of" derivedContent="RFC5042"/>.
</li>
      </ol>
      <t pn="section-1-4">
Each RPC-over-RDMA version 1 Transport Header follows the
External Data Representation (XDR) definition
<xref target="RFC4506" format="default" sectionFormat="of" derivedContent="RFC4506"/>
specified in <xref target="RFC8166" format="default" sectionFormat="of" derivedContent="RFC8166"/>.
However, RPC-over-RDMA version 1
has no means of extending this definition
in such a way that interoperability with existing implementations is preserved.
As a result, an out-of-band mechanism is needed
to help relieve these constraints
for existing RPC-over-RDMA version 1 implementations.
</t>
      <t pn="section-1-5">
This document specifies a simple, non-XDR-based message format
designed to be passed between RPC-over-RDMA version 1 peers
at the time each RDMA transport connection is first established.
The mechanism assumes that the underlying RDMA transport has a
Private Data field that is passed between peers at connection time,
such as is present in the Marker PDU Aligned Framing (MPA) protocol 
(described in <xref target="RFC5044" sectionFormat="of" section="7.1" format="default" derivedLink="https://rfc-editor.org/rfc/rfc5044#section-7.1" derivedContent="RFC5044"/>
and extended in <xref target="RFC6581" format="default" sectionFormat="of" derivedContent="RFC6581"/>) or the InfiniBand Connection Manager
<xref target="IBA" format="default" sectionFormat="of" derivedContent="IBA"/>.
</t>
      <t pn="section-1-6">
To enable current RPC-over-RDMA version 1 implementations
to interoperate with implementations that support
the message format described in this document,
implementation of the Private Data exchange is <bcp14>OPTIONAL</bcp14>.
When Private Data has been successfully exchanged,
peers may choose to perform extended RDMA semantics.
However, this exchange 
does not alter the XDR definition specified in
<xref target="RFC8166" format="default" sectionFormat="of" derivedContent="RFC8166"/>.
</t>
      <t pn="section-1-7">
The message format is intended to be further extensible
within the normal scope of such IETF work
(see
<xref target="section_96A18D5A-2AE4-490D-B140-B964302BF1DF" format="default" sectionFormat="of" derivedContent="Section 6"/>
for further details).
<xref target="section_8701C122-F206-4F87-8FA6-62F1CD648A14" format="default" sectionFormat="of" derivedContent="Section 8"/>
of this document defines an IANA registry for this purpose.
In addition, interoperation between
implementations of RPC-over-RDMA version 1 that present this message format to peers
and those that do not recognize this message format is guaranteed.
</t>
    </section>
    <section anchor="section_6E4898D3-A2A9-47FA-9CBD-069328E610E4" numbered="true" toc="include" removeInRFC="false" pn="section-2">
      <name slugifiedName="name-requirements-language">Requirements Language</name>
      <t pn="section-2-1">The key words "<bcp14>MUST</bcp14>", "<bcp14>MUST NOT</bcp14>",
       "<bcp14>REQUIRED</bcp14>", "<bcp14>SHALL</bcp14>",
       "<bcp14>SHALL NOT</bcp14>", "<bcp14>SHOULD</bcp14>",
       "<bcp14>SHOULD NOT</bcp14>",
       "<bcp14>RECOMMENDED</bcp14>", "<bcp14>NOT RECOMMENDED</bcp14>",
       "<bcp14>MAY</bcp14>", and "<bcp14>OPTIONAL</bcp14>" in this document
       are to be interpreted as described in BCP 14
       <xref target="RFC2119" format="default" sectionFormat="of" derivedContent="RFC2119"/> <xref target="RFC8174" format="default" sectionFormat="of" derivedContent="RFC8174"/> when, and only
       when, they appear in all capitals, as shown here.</t>
    </section>
    <section anchor="section_D6ED5D4A-E123-4DDD-B65F-733F2B377679" numbered="true" toc="include" removeInRFC="false" pn="section-3">
      <name slugifiedName="name-advertised-transport-proper">Advertised Transport Properties</name>
      <section anchor="section_0F60CBDD-8A7E-4B41-B193-18C04201DB3E" numbered="true" toc="include" removeInRFC="false" pn="section-3.1">
        <name slugifiedName="name-inline-threshold-size">Inline Threshold Size</name>
        <t pn="section-3.1-1">
<xref target="RFC8166" sectionFormat="of" section="3.3.2" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8166#section-3.3.2" derivedContent="RFC8166"/>
defines the term "inline threshold".
An inline threshold is the maximum number of bytes that
can be transmitted using one RDMA Send and one RDMA Receive.
There are a pair of inline thresholds for a connection:
a client-to-server threshold and a server-to-client threshold.
</t>
        <t pn="section-3.1-2">
If an incoming RDMA message exceeds the size
of a receiver's inline threshold,
the Receive operation fails
and
the RDMA provider typically terminates the connection.
To convey an RPC message larger than the receiver's inline threshold
without risking receive failure,
a sender must use explicit RDMA data transfer operations,
which are more expensive than an RDMA Send.
See Sections <xref target="RFC8166" section="3.3" sectionFormat="bare" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8166#section-3.3" derivedContent="RFC8166"/> and <xref target="RFC8166" section="3.5" sectionFormat="bare" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8166#section-3.5" derivedContent="RFC8166"/> of <xref target="RFC8166" format="default" sectionFormat="of" derivedContent="RFC8166"/>
for a complete discussion.
</t>
        <t pn="section-3.1-3">
The default value of inline thresholds for RPC-over-RDMA version 1
connections is 1024 bytes (as defined in <xref target="RFC8166" sectionFormat="of" section="3.3.3" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8166#section-3.3.3" derivedContent="RFC8166"/>).
This value is adequate for nearly all NFS version 3 procedures.
</t>
        <t pn="section-3.1-4">
NFS version 4 COMPOUND operations
<xref target="RFC7530" format="default" sectionFormat="of" derivedContent="RFC7530"/>
are larger on average
than NFS version 3 procedures
<xref target="RFC1813" format="default" sectionFormat="of" derivedContent="RFC1813"/>,
forcing clients to use explicit RDMA operations
for frequently issued requests such as LOOKUP and GETATTR.
The use of RPCSEC_GSS security also increases the average size
of RPC messages,
due to the larger size of RPCSEC_GSS credential material
included in RPC headers
<xref target="RFC7861" format="default" sectionFormat="of" derivedContent="RFC7861"/>.
</t>
        <t pn="section-3.1-5">
If a sender and receiver could somehow agree on larger inline thresholds,
frequently used RPC transactions avoid the cost of explicit RDMA operations.
</t>
      </section>
      <section anchor="section_F82BDC05-F8A6-478C-A02C-BC308EE75A18" numbered="true" toc="include" removeInRFC="false" pn="section-3.2">
        <name slugifiedName="name-remote-invalidation">Remote Invalidation</name>
        <t pn="section-3.2-1">
After an RDMA data transfer operation completes,
an RDMA consumer can request
that its peer's RDMA Network Interface Card (RNIC)
invalidate the Steering Tag (STag)
associated with the data transfer
<xref target="RFC5042" format="default" sectionFormat="of" derivedContent="RFC5042"/>.
</t>
        <t pn="section-3.2-2">
An RDMA consumer requests remote invalidation by posting
an RDMA Send with Invalidate operation
in place of an RDMA Send operation.
Each RDMA Send with Invalidate carries one STag to invalidate.
The receiver of an RDMA Send with Invalidate performs the
requested invalidation and then reports that invalidation
as part of the completion of a waiting Receive operation.
</t>
        <t pn="section-3.2-3">
If both peers support remote invalidation,
an RPC-over-RDMA responder might use remote invalidation
when replying to an RPC request that provided chunks.
Because one of the chunks has already been invalidated,
finalizing the results of the RPC is made simpler and faster.
</t>
        <t pn="section-3.2-4">
However, there are some important caveats that contraindicate
the blanket use of remote invalidation:
</t>
        <ul spacing="normal" bare="false" empty="false" pn="section-3.2-5">
          <li pn="section-3.2-5.1">
Remote invalidation is not supported by all RNICs.
</li>
          <li pn="section-3.2-5.2">
Not all RPC-over-RDMA responder implementations can generate
RDMA Send with Invalidate operations.
</li>
          <li pn="section-3.2-5.3">
Not all RPC-over-RDMA requester implementations can recognize
when remote invalidation has occurred.
</li>
          <li pn="section-3.2-5.4">
On one connection in different RPC-over-RDMA transactions,
or in a single RPC-over-RDMA transaction,
an RPC-over-RDMA requester can expose a mixture of STags
that may be invalidated remotely
and some that must not be.
No indication is provided at the RDMA layer as to which is which.
</li>
        </ul>
        <t pn="section-3.2-6">
A responder therefore must not employ remote invalidation unless it is
aware of support for it in its own RDMA stack, and on the requester.
And, without altering the XDR structure of RPC-over-RDMA version 1 messages,
it is not possible to support remote invalidation with requesters
that include an STag that must not be invalidated
remotely in an RPC with STags that may be invalidated. Likewise, it
is not possible to support remote invalidation with requesters that
mix RPCs with STags that may be invalidated with RPCs with STags that
must not be invalidated on the same connection.
</t>
        <t pn="section-3.2-7">
There are some NFS/RDMA client implementations whose STags
are always safe to invalidate remotely.
For such clients, indicating to the responder that remote
invalidation is always safe can enable such invalidation
without the need for additional protocol elements to be defined.
</t>
      </section>
    </section>
    <section anchor="section_99541DF3-E579-42B6-9C7A-D020926798F6" numbered="true" toc="include" removeInRFC="false" pn="section-4">
      <name slugifiedName="name-private-data-message-format">Private Data Message Format</name>
      <t pn="section-4-1">
With an InfiniBand lower layer, for example,
RDMA connection setup uses a Connection Manager (CM)
when establishing a Reliable Connection
<xref target="IBA" format="default" sectionFormat="of" derivedContent="IBA"/>.
When an RPC-over-RDMA version 1 transport connection is established,
the client (which actively establishes connections)
and the server (which passively accepts connections)
populate the CM Private Data field exchanged
as part of CM connection establishment.
</t>
      <t pn="section-4-2">
The transport properties exchanged via this mechanism
are fixed for the life of the connection.
Each new connection presents an opportunity
for a fresh exchange.
An implementation of the extension described in this document
<bcp14>MUST</bcp14> be prepared for the settings to change upon a reconnection.
</t>
      <t pn="section-4-3">
For RPC-over-RDMA version 1, the CM Private Data field
is formatted as described below. RPC clients and servers use the same format.
If the capacity of the Private Data field is too small
to contain this message format
or
the underlying RDMA transport is not managed by a CM,
the CM Private Data field cannot be used on behalf of RPC-over-RDMA version 1.
</t>
      <t pn="section-4-4">
The first eight octets of the CM Private Data field
are to be formatted as follows:
</t>
      <artwork align="left" name="" type="" alt="" pn="section-4-5">
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                       Format Identifier                       |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |    Version    |  Reserved   |R|   Send Size   | Receive Size  |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</artwork>
      <dl newline="false" spacing="normal" pn="section-4-6">
        <dt pn="section-4-6.1">Format Identifier:</dt>
        <dd pn="section-4-6.2">
This field contains a fixed 32-bit value that identifies
the content of the Private Data field as an RPC-over-RDMA
version 1 CM Private Data message.
In RPC-over-RDMA version 1 Private Data,
the value of this field is always 0xf6ab0e18, in network byte order.
The use of this field is further expanded upon in
<xref target="section_0BD80E15-13FF-4210-A1D8-E0AE531821A4" format="default" sectionFormat="of" derivedContent="Section 5.2"/>.
</dd>
        <dt pn="section-4-6.3">Version:</dt>
        <dd pn="section-4-6.4">
This 8-bit field contains a message format version number.
The value "1" in this field indicates that exactly eight octets are present,
that they appear in the order described in this section,
and that each has the meaning defined in this section.
Further considerations about the use of this field are discussed in
<xref target="section_96A18D5A-2AE4-490D-B140-B964302BF1DF" format="default" sectionFormat="of" derivedContent="Section 6"/>.
</dd>
        <dt pn="section-4-6.5">Reserved:</dt>
        <dd pn="section-4-6.6">
This 7-bit field is unused.
Senders <bcp14>MUST</bcp14> set these bits to zero,
and
receivers <bcp14>MUST</bcp14> ignore their value.
</dd>
        <dt pn="section-4-6.7">R:</dt>
        <dd pn="section-4-6.8">
This 1-bit field indicates that
the sender supports remote invalidation.
The field is set and interpreted as described in
<xref target="section_1D624044-49CC-4464-9BEF-59EA2473ACBF" format="default" sectionFormat="of" derivedContent="Section 4.1"/>.
</dd>
        <dt pn="section-4-6.9">Send Size:</dt>
        <dd pn="section-4-6.10">
This 8-bit field contains an encoded value
corresponding to the maximum number of bytes
this peer is prepared to transmit in a single RDMA Send
on this connection.
The value is encoded as described in
<xref target="section_689BD9D4-9C3C-41C7-81F3-8BBE283D252B" format="default" sectionFormat="of" derivedContent="Section 4.2"/>.
</dd>
        <dt pn="section-4-6.11">Receive Size:</dt>
        <dd pn="section-4-6.12">
This 8-bit field contains an encoded value
corresponding to the maximum number of bytes
this peer is prepared to receive with a single RDMA Receive
on this connection.
The value is encoded as described in
<xref target="section_689BD9D4-9C3C-41C7-81F3-8BBE283D252B" format="default" sectionFormat="of" derivedContent="Section 4.2"/>.
</dd>
      </dl>
      <section anchor="section_1D624044-49CC-4464-9BEF-59EA2473ACBF" numbered="true" toc="include" removeInRFC="false" pn="section-4.1">
        <name slugifiedName="name-using-the-r-field">Using the R Field</name>
        <t pn="section-4.1-1">
The R field indicates limited support for remote invalidation
as described in
<xref target="section_F82BDC05-F8A6-478C-A02C-BC308EE75A18" format="default" sectionFormat="of" derivedContent="Section 3.2"/>.
When both connection peers have set this bit flag in their CM Private Data,
the responder <bcp14>MAY</bcp14> use RDMA Send with Invalidate operations
when transmitting RPC Replies.
Each RDMA Send with Invalidate <bcp14>MUST</bcp14> invalidate an STag
associated only with the Transaction ID (XID) in the rdma_xid field
of the RPC-over-RDMA Transport Header it carries.
</t>
        <t pn="section-4.1-2">
When either peer on a connection clears this flag,
the responder <bcp14>MUST</bcp14> use only RDMA Send when transmitting RPC Replies.
</t>
      </section>
      <section anchor="section_689BD9D4-9C3C-41C7-81F3-8BBE283D252B" numbered="true" toc="include" removeInRFC="false" pn="section-4.2">
        <name slugifiedName="name-send-and-receive-size-value">Send and Receive Size Values</name>
        <t pn="section-4.2-1">
Inline threshold sizes from 1024 to 262144 octets
can be represented in the Send Size and Receive Size fields.
The inline threshold values provide a pair of
1024-octet-aligned maximum message lengths that
guarantee that Send and Receive operations
do not fail due to length errors.
</t>
        <t pn="section-4.2-2">
The minimum inline threshold for RPC-over-RDMA version 1
is 1024 octets (see <xref target="RFC8166" sectionFormat="of" section="3.3.3" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8166#section-3.3.3" derivedContent="RFC8166"/>).
The values in the Send Size and Receive Size fields represent
the unsigned number of additional kilo-octets of length
beyond the first 1024 octets.
Thus, a sender computes the encoded value by
dividing its actual buffer size, in octets, by 1024
and
subtracting one from the result.
A receiver decodes an incoming Size value by performing
the inverse set of operations:
it adds one to the encoded value
and then
multiplies that result by 1024.
</t>
        <t pn="section-4.2-3">
The client uses the smaller of its own send size and
the server's reported receive size
as the client-to-server inline threshold.
The server uses the smaller of its own send size and
the client's reported receive size
as the server-to-client inline threshold.
</t>
      </section>
    </section>
    <section anchor="section_58229D50-C3E7-48D1-A82F-7720AC8A9F8B" numbered="true" toc="include" removeInRFC="false" pn="section-5">
      <name slugifiedName="name-interoperability-considerat">Interoperability Considerations</name>
      <t pn="section-5-1">
The extension described in this document is designed to allow
RPC-over-RDMA version implementations that use CM Private Data
to interoperate fully with
RPC-over-RDMA version 1 implementations that do not exchange this information.
Implementations that use this extension must also interoperate
fully with RDMA implementations that use CM Private Data for other purposes.
Realizing these goals requires that implementations of this extension
follow the practices described in the rest of this section.
</t>
      <section anchor="section_9A3B285D-D557-4028-ACB0-60EA1C9C93BE" numbered="true" toc="include" removeInRFC="false" pn="section-5.1">
        <name slugifiedName="name-interoperability-with-rpc-o">Interoperability with RPC-over-RDMA Version 1 Implementations</name>
        <t pn="section-5.1-1">
When a peer does not receive a CM Private Data message
that conforms to
<xref target="section_99541DF3-E579-42B6-9C7A-D020926798F6" format="default" sectionFormat="of" derivedContent="Section 4"/>,
it needs to act as if the remote peer supports only the
default RPC-over-RDMA version 1 settings,
as defined in
<xref target="RFC8166" format="default" sectionFormat="of" derivedContent="RFC8166"/>.
In other words, the peer <bcp14>MUST</bcp14> behave as if a Private Data
message was received in which (1) bit 15 of the Flags field is zero
and (2) both Size fields contain the value zero.
</t>
      </section>
      <section anchor="section_0BD80E15-13FF-4210-A1D8-E0AE531821A4" numbered="true" toc="include" removeInRFC="false" pn="section-5.2">
        <name slugifiedName="name-interoperability-amongst-rd">Interoperability amongst RDMA Transports</name>
        <t pn="section-5.2-1">
The Format Identifier field defined in
<xref target="section_99541DF3-E579-42B6-9C7A-D020926798F6" format="default" sectionFormat="of" derivedContent="Section 4"/>
is provided to enable implementations to distinguish the Private Data defined
in this document from Private Data inserted at other layers, such as the
additional Private Data defined by the MPAv2 protocol described in
<xref target="RFC6581" format="default" sectionFormat="of" derivedContent="RFC6581"/>, and others.
</t>
        <t pn="section-5.2-2">
As part of connection establishment,
the buffer containing the received Private Data is searched for the Format Identifier word.
The offset of the Format Identifier is not restricted to any alignment.
If the RPC-over-RDMA version 1 CM Private Data Format Identifier
is not present,
an RPC-over-RDMA version 1 receiver <bcp14>MUST</bcp14>
behave as if no RPC-over-RDMA version 1 CM Private Data
has been provided.
</t>
        <t pn="section-5.2-3">
Once the RPC-over-RDMA version 1 CM Private Data Format Identifier
is found,
the receiver parses the subsequent octets as
RPC-over-RDMA version 1 CM Private Data.
As additional assurance that the content is valid
RPC-over-RDMA version 1 CM Private Data,
the receiver should check that
the format version number field contains a valid and recognized version number
and
the size of the content does not overrun the length of the buffer.
</t>
      </section>
    </section>
    <section anchor="section_96A18D5A-2AE4-490D-B140-B964302BF1DF" numbered="true" toc="include" removeInRFC="false" pn="section-6">
      <name slugifiedName="name-updating-the-message-format">Updating the Message Format</name>
      <t pn="section-6-1">
Although the message format described in this document
provides the ability for the client and server
to exchange particular information about
the local RPC-over-RDMA implementation,
it is possible that there will be a future need
to exchange additional properties.
This would make it necessary to extend or otherwise modify
the format described in this document.
</t>
      <t pn="section-6-2">
Any modification faces the problem of interoperating properly
with implementations of RPC-over-RDMA version 1
that are unaware of the existence of the new format.
These include implementations that do not recognize
the exchange of CM Private Data
as well as
those that recognize only the format described in this document.
</t>
      <t pn="section-6-3">
Given the message format described in this document,
these interoperability constraints could be met by the following
sorts of new message formats:
</t>
      <ul spacing="normal" bare="false" empty="false" pn="section-6-4">
        <li pn="section-6-4.1">
A format that uses a different value for the first four bytes of the format,
as provided for in the registry described in
<xref target="section_8701C122-F206-4F87-8FA6-62F1CD648A14" format="default" sectionFormat="of" derivedContent="Section 8"/>.
</li>
        <li pn="section-6-4.2">
A format that uses the same value for the Format Identifier field
and a value other than one (1) in the Version field.
</li>
      </ul>
      <t pn="section-6-5">
Although it is possible to reorganize
the last three of the eight bytes in the existing format,
extended formats are unlikely to do so.
New formats would take the form of extensions
of the format described in this document with added fields
starting at byte eight of the format
or changes to the definition of bits in the Reserved field.
</t>
    </section>
    <section anchor="section_19F962AD-CDE5-4216-BE3A-44BD238458EC" numbered="true" toc="include" removeInRFC="false" pn="section-7">
      <name slugifiedName="name-security-considerations">Security Considerations</name>
      <t pn="section-7-1">
The reader is directed to the Security Considerations section of
<xref target="RFC8166" format="default" sectionFormat="of" derivedContent="RFC8166"/>
for background and further discussion.
</t>
      <t pn="section-7-2">
The RPC-over-RDMA version 1 protocol framework depends
on the semantics of the Reliable Connected (RC) queue pair (QP)
type, as defined in
Section 9.7.7 of <xref target="IBA" format="default" sectionFormat="of" derivedContent="IBA"/>.
The integrity of CM Private Data
and
the authenticity of its source
are ensured by the exclusive use of RC QPs.
Any attempt to interfere with or hijack data in transit
on an RC connection
results in the RDMA provider terminating the connection.
</t>
      <t pn="section-7-3">
The Security Considerations section of
<xref target="RFC5042" format="default" sectionFormat="of" derivedContent="RFC5042"/>
refers the reader to further relevant discussion
of generic RDMA transport security.
That document recommends IPsec as
the default transport-layer security solution.
When deployed with the Remote Direct Memory Access Protocol (RDMAP) <xref target="RFC5040" format="default" sectionFormat="of" derivedContent="RFC5040"/>, DDP <xref target="RFC5041" format="default" sectionFormat="of" derivedContent="RFC5041"/>, and MPA <xref target="RFC5044" format="default" sectionFormat="of" derivedContent="RFC5044"/>, IPsec establishes a protected channel before any
operations are exchanged; thus, it protects the exchange of Private Data.
However, IPsec is not available for InfiniBand or RDMA over Converged Ethernet (RoCE) deployments.
Those fabrics rely on
physical security
and
cyclic redundancy checks
to protect network traffic.
</t>
      <t pn="section-7-4">
Exchanging the information
contained in the message format defined in this document
does not expose upper-layer payloads to an attacker.
Furthermore, the behavior changes that occur
as a result of exchanging the Private Data
described in the current document
do not introduce any new risk of exposure
of upper-layer payload data.
</t>
      <t pn="section-7-5">
Improperly setting one of the fields in version 1
Private Data can result in an increased risk of disconnection
(i.e., self-imposed Denial of Service).
A similar risk can arise
if non-RPC-over-RDMA CM Private Data
inadvertently contains the Format Identifier that
identifies this protocol's data structure.
Additional checking of incoming Private Data,
as described in
<xref target="section_0BD80E15-13FF-4210-A1D8-E0AE531821A4" format="default" sectionFormat="of" derivedContent="Section 5.2"/>,
can help reduce this risk.
</t>
      <t pn="section-7-6">
In addition to describing the structure of a new format version,
any document that extends the Private Data format described
in the current document must discuss security considerations
of new data items exchanged between connection peers.
Such documents should also explore the risks
of erroneously identifying non-RPC-over-RDMA CM Private Data
as the new format.
</t>
    </section>
    <section anchor="section_8701C122-F206-4F87-8FA6-62F1CD648A14" numbered="true" toc="include" removeInRFC="false" pn="section-8">
      <name slugifiedName="name-iana-considerations">IANA Considerations</name>
      <t pn="section-8-1">
IANA has created the "RDMA-CM Private Data Identifiers" subregistry within the  
"Remote Direct Data Placement" protocol category group.
This is a subregistry of 32-bit numbers that identify
the upper-layer protocol associated with data that appears in
the application-specific RDMA-CM Private Data area.
The fields in this subregistry include the following:
Format Identifier,
Length (format length, in octets),
Description,
and
Reference.
</t>
      <t pn="section-8-2">
The initial contents of this registry are a single entry:
</t>
      <table align="left" anchor="table_336556D8-B52A-476E-8E9E-FDF4A4C7ED66" pn="table-1">
        <name slugifiedName="name-new-rdma-cm-private-data-id">New "RDMA-CM Private Data Identifiers" Registry</name>
        <thead>
          <tr>
            <th align="left" colspan="1" rowspan="1">Format Identifier</th>
            <th align="left" colspan="1" rowspan="1">Length</th>
            <th align="left" colspan="1" rowspan="1">Description</th>
            <th align="left" colspan="1" rowspan="1">Reference</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="left" colspan="1" rowspan="1">0xf6ab0e18</td>
            <td align="left" colspan="1" rowspan="1">8</td>
            <td align="left" colspan="1" rowspan="1">RPC-over-RDMA version 1 CM Private Data</td>
            <td align="left" colspan="1" rowspan="1">RFC 8797</td>
          </tr>
        </tbody>
      </table>
      <t pn="section-8-4">
IANA is to assign subsequent new entries in this registry using
the Specification Required policy as defined in <xref target="RFC8126" sectionFormat="of" section="4.6" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8126#section-4.6" derivedContent="RFC8126"/>.
</t>
      <section anchor="section_DB1C2628-A2D2-4EE7-8CD6-592F832C8C86" numbered="true" toc="include" removeInRFC="false" pn="section-8.1">
        <name slugifiedName="name-guidance-for-designated-exp">Guidance for Designated Experts</name>
        <t pn="section-8.1-1">
The Designated Expert (DE), appointed by the IESG,
should ascertain the existence of suitable documentation that
defines the semantics and format of the Private Data,
and verify that the document is permanently and publicly available.
Documentation produced outside the IETF must not conflict
with work that is active or already published within the IETF.
The new Reference field should contain
a reference to that documentation.
</t>
        <t pn="section-8.1-2">
The Description field should contain the name of the
upper-layer protocol
that generates and uses the Private Data.
</t>
        <t pn="section-8.1-3">
The DE should assign a new Format Identifier so that
it does not conflict with existing entries in this registry
and so that
it is not likely to be mistaken
as part of the payload of other registered formats.
</t>
        <t pn="section-8.1-4">
The DE shall post the request to the NFSV4 Working Group mailing list
(or a successor to that list, if such a list exists)
for comment and review.
The DE shall approve or deny the request and publish notice
of the decision within 30 days.
</t>
      </section>
    </section>
  </middle>
  <back>
    <references pn="section-9">
      <name slugifiedName="name-references">References</name>
      <references pn="section-9.1">
        <name slugifiedName="name-normative-references">Normative References</name>
        <reference anchor="IBA" target="https://www.infinibandta.org/" quoteTitle="true" derivedAnchor="IBA">
          <front>
            <title>InfiniBand Architecture Specification Volume 1</title>
            <seriesInfo name="Release" value="1.3"/>
            <author>
              <organization showOnFrontPage="true">InfiniBand Trade Association</organization>
            </author>
            <date month="March" year="2015"/>
          </front>
        </reference>
        <reference anchor="RFC2119" target="https://www.rfc-editor.org/info/rfc2119" quoteTitle="true" derivedAnchor="RFC2119">
          <front>
            <title>Key words for use in RFCs to Indicate Requirement Levels</title>
            <author initials="S." surname="Bradner" fullname="S. Bradner">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="1997" month="March"/>
            <abstract>
              <t>In many standards track documents several words are used to signify the requirements in the specification.  These words are often capitalized. This document defines these words as they should be interpreted in IETF documents.  This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="2119"/>
          <seriesInfo name="DOI" value="10.17487/RFC2119"/>
        </reference>
        <reference anchor="RFC4506" target="https://www.rfc-editor.org/info/rfc4506" quoteTitle="true" derivedAnchor="RFC4506">
          <front>
            <title>XDR: External Data Representation Standard</title>
            <author initials="M." surname="Eisler" fullname="M. Eisler" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2006" month="May"/>
            <abstract>
              <t>This document describes the External Data Representation Standard (XDR) protocol as it is currently deployed and accepted.  This document obsoletes RFC 1832.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="STD" value="67"/>
          <seriesInfo name="RFC" value="4506"/>
          <seriesInfo name="DOI" value="10.17487/RFC4506"/>
        </reference>
        <reference anchor="RFC5040" target="https://www.rfc-editor.org/info/rfc5040" quoteTitle="true" derivedAnchor="RFC5040">
          <front>
            <title>A Remote Direct Memory Access Protocol Specification</title>
            <author initials="R." surname="Recio" fullname="R. Recio">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B." surname="Metzler" fullname="B. Metzler">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="P." surname="Culley" fullname="P. Culley">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="J." surname="Hilland" fullname="J. Hilland">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="D." surname="Garcia" fullname="D. Garcia">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2007" month="October"/>
            <abstract>
              <t>This document defines a Remote Direct Memory Access Protocol (RDMAP) that operates over the Direct Data Placement Protocol (DDP protocol).  RDMAP provides read and write services directly to applications and enables data to be transferred directly into Upper Layer Protocol (ULP) Buffers without intermediate data copies.  It also enables a kernel bypass implementation.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5040"/>
          <seriesInfo name="DOI" value="10.17487/RFC5040"/>
        </reference>
        <reference anchor="RFC5042" target="https://www.rfc-editor.org/info/rfc5042" quoteTitle="true" derivedAnchor="RFC5042">
          <front>
            <title>Direct Data Placement Protocol (DDP) / Remote Direct Memory Access Protocol (RDMAP) Security</title>
            <author initials="J." surname="Pinkerton" fullname="J. Pinkerton">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="E." surname="Deleganes" fullname="E. Deleganes">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2007" month="October"/>
            <abstract>
              <t>This document analyzes security issues around implementation and  use of the Direct Data Placement Protocol (DDP) and Remote Direct  Memory Access Protocol (RDMAP).  It first defines an architectural  model for an RDMA Network Interface Card (RNIC), which can  implement DDP or RDMAP and DDP.  The document reviews various  attacks against the resources defined in the architectural model  and the countermeasures that can be used to protect the system. Attacks are grouped into those that can be mitigated by using secure communication channels across the network, attacks from Remote Peers, and attacks from Local Peers.  Attack categories include spoofing, tampering, information disclosure, denial of service, and elevation of privilege.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5042"/>
          <seriesInfo name="DOI" value="10.17487/RFC5042"/>
        </reference>
        <reference anchor="RFC8126" target="https://www.rfc-editor.org/info/rfc8126" quoteTitle="true" derivedAnchor="RFC8126">
          <front>
            <title>Guidelines for Writing an IANA Considerations Section in RFCs</title>
            <author initials="M." surname="Cotton" fullname="M. Cotton">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B." surname="Leiba" fullname="B. Leiba">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="T." surname="Narten" fullname="T. Narten">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2017" month="June"/>
            <abstract>
              <t>Many protocols make use of points of extensibility that use constants to identify various protocol parameters.  To ensure that the values in these fields do not have conflicting uses and to promote interoperability, their allocations are often coordinated by a central record keeper.  For IETF protocols, that role is filled by the Internet Assigned Numbers Authority (IANA).</t>
              <t>To make assignments in a given registry prudently, guidance describing the conditions under which new values should be assigned, as well as when and how modifications to existing values can be made, is needed.  This document defines a framework for the documentation of these guidelines by specification authors, in order to assure that the provided guidance for the IANA Considerations is clear and addresses the various issues that are likely in the operation of a registry.</t>
              <t>This is the third edition of this document; it obsoletes RFC 5226.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="26"/>
          <seriesInfo name="RFC" value="8126"/>
          <seriesInfo name="DOI" value="10.17487/RFC8126"/>
        </reference>
        <reference anchor="RFC8166" target="https://www.rfc-editor.org/info/rfc8166" quoteTitle="true" derivedAnchor="RFC8166">
          <front>
            <title>Remote Direct Memory Access Transport for Remote Procedure Call Version 1</title>
            <author initials="C." surname="Lever" fullname="C. Lever" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="W." surname="Simpson" fullname="W. Simpson">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="T." surname="Talpey" fullname="T. Talpey">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2017" month="June"/>
            <abstract>
              <t>This document specifies a protocol for conveying Remote Procedure Call (RPC) messages on physical transports capable of Remote Direct Memory Access (RDMA).  This protocol is referred to as the RPC-over- RDMA version 1 protocol in this document.  It requires no revision to application RPC protocols or the RPC protocol itself.  This document obsoletes RFC 5666.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8166"/>
          <seriesInfo name="DOI" value="10.17487/RFC8166"/>
        </reference>
        <reference anchor="RFC8174" target="https://www.rfc-editor.org/info/rfc8174" quoteTitle="true" derivedAnchor="RFC8174">
          <front>
            <title>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</title>
            <author initials="B." surname="Leiba" fullname="B. Leiba">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2017" month="May"/>
            <abstract>
              <t>RFC 2119 specifies common key words that may be used in protocol  specifications.  This document aims to reduce the ambiguity by clarifying that only UPPERCASE usage of the key words have the  defined special meanings.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="8174"/>
          <seriesInfo name="DOI" value="10.17487/RFC8174"/>
        </reference>
      </references>
      <references pn="section-9.2">
        <name slugifiedName="name-informative-references">Informative References</name>
        <reference anchor="RFC1813" target="https://www.rfc-editor.org/info/rfc1813" quoteTitle="true" derivedAnchor="RFC1813">
          <front>
            <title>NFS Version 3 Protocol Specification</title>
            <author initials="B." surname="Callaghan" fullname="B. Callaghan">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B." surname="Pawlowski" fullname="B. Pawlowski">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="P." surname="Staubach" fullname="P. Staubach">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="1995" month="June"/>
            <abstract>
              <t>This paper describes the NFS version 3 protocol.  This paper is provided so that people can write compatible implementations.  This memo provides information for the Internet community.  This memo does not specify an Internet standard of any kind.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="1813"/>
          <seriesInfo name="DOI" value="10.17487/RFC1813"/>
        </reference>
        <reference anchor="RFC5041" target="https://www.rfc-editor.org/info/rfc5041" quoteTitle="true" derivedAnchor="RFC5041">
          <front>
            <title>Direct Data Placement over Reliable Transports</title>
            <author initials="H." surname="Shah" fullname="H. Shah">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="J." surname="Pinkerton" fullname="J. Pinkerton">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Recio" fullname="R. Recio">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="P." surname="Culley" fullname="P. Culley">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2007" month="October"/>
            <abstract>
              <t>The Direct Data Placement protocol provides information to Place the  incoming data directly into an upper layer protocol's receive buffer  without intermediate buffers.  This removes excess CPU and memory  utilization associated with transferring data through the  intermediate buffers.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5041"/>
          <seriesInfo name="DOI" value="10.17487/RFC5041"/>
        </reference>
        <reference anchor="RFC5044" target="https://www.rfc-editor.org/info/rfc5044" quoteTitle="true" derivedAnchor="RFC5044">
          <front>
            <title>Marker PDU Aligned Framing for TCP Specification</title>
            <author initials="P." surname="Culley" fullname="P. Culley">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="U." surname="Elzur" fullname="U. Elzur">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Recio" fullname="R. Recio">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Bailey" fullname="S. Bailey">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="J." surname="Carrier" fullname="J. Carrier">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2007" month="October"/>
            <abstract>
              <t>Marker PDU Aligned Framing (MPA) is designed to work as an "adaptation layer" between TCP and the Direct Data Placement protocol (DDP) as described in RFC 5041.  It preserves the reliable, in-order delivery of TCP, while adding the preservation of higher-level protocol record boundaries that DDP requires.  MPA is fully compliant with applicable TCP RFCs and can be utilized with existing TCP implementations.  MPA also supports integrated implementations that combine TCP, MPA and DDP to reduce buffering requirements in the implementation and improve performance at the system level.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5044"/>
          <seriesInfo name="DOI" value="10.17487/RFC5044"/>
        </reference>
        <reference anchor="RFC5531" target="https://www.rfc-editor.org/info/rfc5531" quoteTitle="true" derivedAnchor="RFC5531">
          <front>
            <title>RPC: Remote Procedure Call Protocol Specification Version 2</title>
            <author initials="R." surname="Thurlow" fullname="R. Thurlow">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2009" month="May"/>
            <abstract>
              <t>This document describes the Open Network Computing (ONC) Remote Procedure Call (RPC) version 2 protocol as it is currently deployed and accepted.  This document obsoletes RFC 1831.   [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5531"/>
          <seriesInfo name="DOI" value="10.17487/RFC5531"/>
        </reference>
        <reference anchor="RFC5666" target="https://www.rfc-editor.org/info/rfc5666" quoteTitle="true" derivedAnchor="RFC5666">
          <front>
            <title>Remote Direct Memory Access Transport for Remote Procedure Call</title>
            <author initials="T." surname="Talpey" fullname="T. Talpey">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B." surname="Callaghan" fullname="B. Callaghan">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2010" month="January"/>
            <abstract>
              <t>This document describes a protocol providing Remote Direct Memory Access (RDMA) as a new transport for Remote Procedure Call (RPC).  The RDMA transport binding conveys the benefits of efficient, bulk-data transport over high-speed networks, while providing for minimal change to RPC applications and with no required revision of the application RPC protocol, or the RPC protocol itself.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="5666"/>
          <seriesInfo name="DOI" value="10.17487/RFC5666"/>
        </reference>
        <reference anchor="RFC6581" target="https://www.rfc-editor.org/info/rfc6581" quoteTitle="true" derivedAnchor="RFC6581">
          <front>
            <title>Enhanced Remote Direct Memory Access (RDMA) Connection Establishment</title>
            <author initials="A." surname="Kanevsky" fullname="A. Kanevsky" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="C." surname="Bestler" fullname="C. Bestler" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Sharp" fullname="R. Sharp">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Wise" fullname="S. Wise">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2012" month="April"/>
            <abstract>
              <t>This document updates RFC 5043 and RFC 5044 by extending Marker Protocol Data Unit (PDU) Aligned Framing (MPA) negotiation for Remote Direct Memory Access (RDMA) connection establishment.  The first enhancement extends RFC 5044, enabling peer-to-peer connection establishment over MPA / Transmission Control Protocol (TCP).  The second enhancement extends both RFC 5043 and RFC 5044, by providing an option for standardized exchange of RDMA-layer connection configuration.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="6581"/>
          <seriesInfo name="DOI" value="10.17487/RFC6581"/>
        </reference>
        <reference anchor="RFC7530" target="https://www.rfc-editor.org/info/rfc7530" quoteTitle="true" derivedAnchor="RFC7530">
          <front>
            <title>Network File System (NFS) Version 4 Protocol</title>
            <author initials="T." surname="Haynes" fullname="T. Haynes" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="D." surname="Noveck" fullname="D. Noveck" role="editor">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2015" month="March"/>
            <abstract>
              <t>The Network File System (NFS) version 4 protocol is a distributed file system protocol that builds on the heritage of NFS protocol version 2 (RFC 1094) and version 3 (RFC 1813).  Unlike earlier versions, the NFS version 4 protocol supports traditional file access while integrating support for file locking and the MOUNT protocol. In addition, support for strong security (and its negotiation), COMPOUND operations, client caching, and internationalization has been added.  Of course, attention has been applied to making NFS version 4 operate well in an Internet environment.</t>
              <t>This document, together with the companion External Data Representation (XDR) description document, RFC 7531, obsoletes RFC 3530 as the definition of the NFS version 4 protocol.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7530"/>
          <seriesInfo name="DOI" value="10.17487/RFC7530"/>
        </reference>
        <reference anchor="RFC7861" target="https://www.rfc-editor.org/info/rfc7861" quoteTitle="true" derivedAnchor="RFC7861">
          <front>
            <title>Remote Procedure Call (RPC) Security Version 3</title>
            <author initials="A." surname="Adamson" fullname="A. Adamson">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="N." surname="Williams" fullname="N. Williams">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2016" month="November"/>
            <abstract>
              <t>This document specifies version 3 of the Remote Procedure Call (RPC) security protocol (RPCSEC_GSS).  This protocol provides support for multi-principal authentication of client hosts and user principals to a server (constructed by generic composition), security label assertions for multi-level security and type enforcement, structured privilege assertions, and channel bindings.  This document updates RFC 5403.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7861"/>
          <seriesInfo name="DOI" value="10.17487/RFC7861"/>
        </reference>
      </references>
    </references>
    <section anchor="section_3910182B-831B-4CE3-9A51-B23F0C26A43B" numbered="false" toc="include" removeInRFC="false" pn="section-appendix.a">
      <name slugifiedName="name-acknowledgments">Acknowledgments</name>
      <t pn="section-appendix.a-1">
Thanks to
<contact fullname="Christoph Hellwig"/>
and
<contact fullname="Devesh Sharma"/>
for suggesting this approach,
and to
<contact fullname="Tom Talpey"/>
and
<contact fullname="David Noveck"/>
for their expert comments and review.
The author also wishes to thank
<contact fullname="Bill Baker"/>
and
<contact fullname="Greg Marsden"/>
for their support of this work.
Also, thanks to expert reviewers
<contact fullname="Sean Hefty"/>
and
<contact fullname="Dave Minturn"/>.
</t>
      <t pn="section-appendix.a-2">
Special thanks go to
document shepherd
<contact fullname="Brian Pawlowski"/>,
Transport Area Director
<contact fullname="Magnus Westerlund"/>,
NFSV4 Working Group Chairs
<contact fullname="David Noveck"/>
and
<contact fullname="Spencer Shepler"/>,
and
NFSV4 Working Group Secretary <contact fullname="Thomas Haynes"/>.
</t>
    </section>
    <section anchor="authors-addresses" numbered="false" removeInRFC="false" toc="include" pn="section-appendix.b">
      <name slugifiedName="name-authors-address">Author's Address</name>
      <author initials="C." surname="Lever" fullname="Charles Lever">
        <organization abbrev="Oracle" showOnFrontPage="true">Oracle Corporation</organization>
        <address>
          <postal>
            <street/>
            <city/>
            <region/>
            <code/>
            <country>United States of America</country>
          </postal>
          <email>chuck.lever@oracle.com</email>
        </address>
      </author>
    </section>
  </back>
</rfc>
