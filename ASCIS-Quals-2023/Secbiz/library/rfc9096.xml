<?xml version='1.0' encoding='utf-8'?>
<rfc xmlns:xi="http://www.w3.org/2001/XInclude" version="3" category="bcp" consensus="true" docName="draft-ietf-v6ops-cpe-slaac-renum-08" indexInclude="true" ipr="trust200902" number="9096" prepTime="2021-08-30T15:48:14" scripts="Common,Latin" sortRefs="true" submissionType="IETF" symRefs="true" tocDepth="3" tocInclude="true" updates="7084" xml:lang="en">
  <link href="https://datatracker.ietf.org/doc/draft-ietf-v6ops-cpe-slaac-renum-08" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc9096" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <front>
    <title abbrev="CE Requirements for Renumbering Events">Improving the Reaction of Customer Edge Routers to IPv6 Renumbering Events</title>
    <seriesInfo name="RFC" value="9096" stream="IETF"/>
    <seriesInfo name="BCP" value="234" stream="IETF"/>
    <author fullname="Fernando Gont" initials="F." surname="Gont">
      <organization abbrev="SI6 Networks" showOnFrontPage="true">SI6 Networks</organization>
      <address>
        <postal>
          <street>Segurola y Habana 4310, 7mo Piso</street>
          <city>Villa Devoto</city>
          <region>Ciudad Autonoma de Buenos Aires</region>
          <country>Argentina</country>
        </postal>
        <email>fgont@si6networks.com</email>
        <uri>https://www.si6networks.com</uri>
      </address>
    </author>
    <author fullname="Jan Žorž" initials="J." surname="Žorž">
      <organization abbrev="6connect" showOnFrontPage="true">6connect</organization>
      <address>
        <email>jan@6connect.com</email>
      </address>
    </author>
    <author initials="R." surname="Patterson" fullname="Richard Patterson">
      <organization showOnFrontPage="true">Sky UK</organization>
      <address>
        <email>richard.patterson@sky.uk</email>
      </address>
    </author>
    <author fullname="Bernie Volz" initials="B" surname="Volz">
      <organization abbrev="Individual Contributor" showOnFrontPage="true">Individual Contributor</organization>
      <address>
        <postal>
          <street>116 Hawkins Pond Road</street>
          <city>Center Harbor</city>
          <region>NH</region>
          <code>03226</code>
          <country>United States of America</country>
        </postal>
        <email>bevolz@gmail.com</email>
      </address>
    </author>
    <date month="08" year="2021"/>
    <area>Operations and Management</area>
    <workgroup>IPv6 Operations Working Group (v6ops)</workgroup>
    <keyword>IPv6</keyword>
    <keyword>problem</keyword>
    <keyword>address</keyword>
    <keyword>prefix delegation</keyword>
    <keyword>DHCPv6</keyword>
    <keyword>stale prefixes</keyword>
    <keyword>old prefixes</keyword>
    <keyword/>
    <abstract pn="section-abstract">
      <t indent="0" pn="section-abstract-1">
This document specifies improvements to Customer Edge routers that help mitigate the problems that may arise when network configuration information becomes invalid without any explicit signaling of that condition to the local nodes. This document updates RFC 7084.
</t>
    </abstract>
    <boilerplate>
      <section anchor="status-of-memo" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.1">
        <name slugifiedName="name-status-of-this-memo">Status of This Memo</name>
        <t indent="0" pn="section-boilerplate.1-1">
            This memo documents an Internet Best Current Practice.
        </t>
        <t indent="0" pn="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further information
            on BCPs is available in Section 2 of RFC 7841.
        </t>
        <t indent="0" pn="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <eref target="https://www.rfc-editor.org/info/rfc9096" brackets="none"/>.
        </t>
      </section>
      <section anchor="copyright" numbered="false" removeInRFC="false" toc="exclude" pn="section-boilerplate.2">
        <name slugifiedName="name-copyright-notice">Copyright Notice</name>
        <t indent="0" pn="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.
        </t>
        <t indent="0" pn="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<eref target="https://trustee.ietf.org/license-info" brackets="none"/>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.
        </t>
      </section>
    </boilerplate>
    <toc>
      <section anchor="toc" numbered="false" removeInRFC="false" toc="exclude" pn="section-toc.1">
        <name slugifiedName="name-table-of-contents">Table of Contents</name>
        <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1">
          <li pn="section-toc.1-1.1">
            <t indent="0" keepWithNext="true" pn="section-toc.1-1.1.1"><xref derivedContent="1" format="counter" sectionFormat="of" target="section-1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-introduction">Introduction</xref></t>
          </li>
          <li pn="section-toc.1-1.2">
            <t indent="0" keepWithNext="true" pn="section-toc.1-1.2.1"><xref derivedContent="2" format="counter" sectionFormat="of" target="section-2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-requirements-language">Requirements Language</xref></t>
          </li>
          <li pn="section-toc.1-1.3">
            <t indent="0" pn="section-toc.1-1.3.1"><xref derivedContent="3" format="counter" sectionFormat="of" target="section-3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-improved-customer-edge-rout">Improved Customer Edge Router Behavior</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.3.2">
              <li pn="section-toc.1-1.3.2.1">
                <t indent="0" keepWithNext="true" pn="section-toc.1-1.3.2.1.1"><xref derivedContent="3.1" format="counter" sectionFormat="of" target="section-3.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-automatic-dhcpv6-releases">Automatic DHCPv6 RELEASEs</xref></t>
              </li>
              <li pn="section-toc.1-1.3.2.2">
                <t indent="0" pn="section-toc.1-1.3.2.2.1"><xref derivedContent="3.2" format="counter" sectionFormat="of" target="section-3.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-stability-of-iaids">Stability of IAIDs</xref></t>
              </li>
              <li pn="section-toc.1-1.3.2.3">
                <t indent="0" pn="section-toc.1-1.3.2.3.1"><xref derivedContent="3.3" format="counter" sectionFormat="of" target="section-3.3"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-interface-between-the-wan-s">Interface between the WAN Side and LAN Side</xref></t>
              </li>
              <li pn="section-toc.1-1.3.2.4">
                <t indent="0" pn="section-toc.1-1.3.2.4.1"><xref derivedContent="3.4" format="counter" sectionFormat="of" target="section-3.4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-lan-side-option-lifetimes">LAN-Side Option Lifetimes</xref></t>
              </li>
              <li pn="section-toc.1-1.3.2.5">
                <t indent="0" pn="section-toc.1-1.3.2.5.1"><xref derivedContent="3.5" format="counter" sectionFormat="of" target="section-3.5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-signaling-stale-configurati">Signaling Stale Configuration Information</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.4">
            <t indent="0" pn="section-toc.1-1.4.1"><xref derivedContent="4" format="counter" sectionFormat="of" target="section-4"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-recommended-option-lifetime">Recommended Option Lifetimes Configuration Values</xref></t>
          </li>
          <li pn="section-toc.1-1.5">
            <t indent="0" pn="section-toc.1-1.5.1"><xref derivedContent="5" format="counter" sectionFormat="of" target="section-5"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-iana-considerations">IANA Considerations</xref></t>
          </li>
          <li pn="section-toc.1-1.6">
            <t indent="0" pn="section-toc.1-1.6.1"><xref derivedContent="6" format="counter" sectionFormat="of" target="section-6"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-security-considerations">Security Considerations</xref></t>
          </li>
          <li pn="section-toc.1-1.7">
            <t indent="0" pn="section-toc.1-1.7.1"><xref derivedContent="7" format="counter" sectionFormat="of" target="section-7"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-references">References</xref></t>
            <ul bare="true" empty="true" indent="2" spacing="compact" pn="section-toc.1-1.7.2">
              <li pn="section-toc.1-1.7.2.1">
                <t indent="0" pn="section-toc.1-1.7.2.1.1"><xref derivedContent="7.1" format="counter" sectionFormat="of" target="section-7.1"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-normative-references">Normative References</xref></t>
              </li>
              <li pn="section-toc.1-1.7.2.2">
                <t indent="0" pn="section-toc.1-1.7.2.2.1"><xref derivedContent="7.2" format="counter" sectionFormat="of" target="section-7.2"/>.  <xref derivedContent="" format="title" sectionFormat="of" target="name-informative-references">Informative References</xref></t>
              </li>
            </ul>
          </li>
          <li pn="section-toc.1-1.8">
            <t indent="0" pn="section-toc.1-1.8.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.a"/><xref derivedContent="" format="title" sectionFormat="of" target="name-acknowledgments">Acknowledgments</xref></t>
          </li>
          <li pn="section-toc.1-1.9">
            <t indent="0" pn="section-toc.1-1.9.1"><xref derivedContent="" format="none" sectionFormat="of" target="section-appendix.b"/><xref derivedContent="" format="title" sectionFormat="of" target="name-authors-addresses">Authors' Addresses</xref></t>
          </li>
        </ul>
      </section>
    </toc>
  </front>
  <middle>
    <section anchor="intro" numbered="true" toc="include" removeInRFC="false" pn="section-1">
      <name slugifiedName="name-introduction">Introduction</name>
      <t indent="0" pn="section-1-1">In scenarios where network configuration information becomes invalid without any explicit signaling of that condition (such as when a Customer Edge (CE) router crashes and reboots without knowledge of the previously employed configuration information), hosts on the local network will continue using stale information for an unacceptably long period of time, thus resulting in connectivity problems. This problem is documented in detail in <xref target="RFC8978" format="default" sectionFormat="of" derivedContent="RFC8978"/>.</t>
      <t indent="0" pn="section-1-2">This document specifies improvements to CE routers that help mitigate the aforementioned problem for residential and small office scenarios. It specifies recommendations for the default behavior of CE routers but does not preclude the availability of configuration knobs that might allow an operator or user to manually configure the CE router to deviate from these recommendations. This document updates RFC 7084.
</t>
    </section>
    <section anchor="reqs-language" numbered="true" toc="include" removeInRFC="false" pn="section-2">
      <name slugifiedName="name-requirements-language">Requirements Language</name>
      <t indent="0" pn="section-2-1">
    The key words "<bcp14>MUST</bcp14>", "<bcp14>MUST NOT</bcp14>", "<bcp14>REQUIRED</bcp14>", "<bcp14>SHALL</bcp14>", "<bcp14>SHALL NOT</bcp14>", "<bcp14>SHOULD</bcp14>", "<bcp14>SHOULD NOT</bcp14>", "<bcp14>RECOMMENDED</bcp14>", "<bcp14>NOT RECOMMENDED</bcp14>",
    "<bcp14>MAY</bcp14>", and "<bcp14>OPTIONAL</bcp14>" in this document are to be interpreted as
    described in BCP 14 <xref target="RFC2119" format="default" sectionFormat="of" derivedContent="RFC2119"/> <xref target="RFC8174" format="default" sectionFormat="of" derivedContent="RFC8174"/> 
    when, and only when, they appear in all capitals, as shown here.
      </t>
    </section>
    <section anchor="CPE" numbered="true" toc="include" removeInRFC="false" pn="section-3">
      <name slugifiedName="name-improved-customer-edge-rout">Improved Customer Edge Router Behavior</name>
      <t indent="0" pn="section-3-1">This section specifies and clarifies requirements for CE routers that can help mitigate the problem discussed in <xref target="intro" format="default" sectionFormat="of" derivedContent="Section 1"/>, particularly when they employ prefixes learned via DHCPv6 Prefix Delegation (DHCPv6-PD) <xref target="RFC8415" format="default" sectionFormat="of" derivedContent="RFC8415"/> on the WAN side with Stateless Address Autoconfiguration (SLAAC) <xref target="RFC4862" format="default" sectionFormat="of" derivedContent="RFC4862"/> or DHCPv6 <xref target="RFC8415" format="default" sectionFormat="of" derivedContent="RFC8415"/> on the LAN side. The recommendations in this document help improve robustness at the CE router (on which the user or ISP may have no control) and do not preclude implementation of host-side improvements such as those specified in <xref target="I-D.ietf-6man-slaac-renum" format="default" sectionFormat="of" derivedContent="6MAN-SLAAC-RENUM"/>.</t>
      <t indent="0" pn="section-3-2">This document specifies additional WAN-side prefix-delegation (WPD) requirements to those specified in <xref target="RFC7084" format="default" sectionFormat="of" derivedContent="RFC7084"/>:

      </t>
      <dl indent="3" newline="false" spacing="normal" pn="section-3-3">
        <dt pn="section-3-3.1">WPD-9:</dt>
        <dd pn="section-3-3.2">CE routers <bcp14>SHOULD NOT</bcp14> automatically send DHCPv6-PD RELEASE
messages upon restart events. See <xref target="dhcpv6-release" format="default" sectionFormat="of" derivedContent="Section 3.1"/> for further details.
</dd>
        <dt pn="section-3-3.3">WPD-10:</dt>
        <dd pn="section-3-3.4">CE routers <bcp14>MUST</bcp14> by default use a WAN-side Identity
Association IDentifier (IAID) value that is stable between CE router restarts,
DHCPv6 client restarts, or interface state changes (e.g., transient PPP
interfaces), unless the CE router employs the IAID techniques discussed in
<xref target="RFC7844" sectionFormat="of" section="4.5" format="default" derivedLink="https://rfc-editor.org/rfc/rfc7844#section-4.5" derivedContent="RFC7844"/>.
See <xref target="dhcpv6-iaid" format="default" sectionFormat="of" derivedContent="Section 3.2"/> for further details.
</dd>
      </dl>
      <t indent="0" pn="section-3-4">This document also replaces LAN-side requirement L-13 from <xref target="RFC7084" format="default" sectionFormat="of" derivedContent="RFC7084"/> with:

</t>
      <dl indent="3" newline="false" spacing="normal" pn="section-3-5">
        <dt pn="section-3-5.1">L-13:</dt>
        <dd pn="section-3-5.2">CE routers <bcp14>MUST</bcp14> signal stale configuration information as
specified in <xref target="sig-stale-config" format="default" sectionFormat="of" derivedContent="Section 3.5"/>.
</dd>
      </dl>
      <t indent="0" pn="section-3-6">Finally, this document specifies the following additional LAN-side requirements to those from <xref target="RFC7084" format="default" sectionFormat="of" derivedContent="RFC7084"/>:

      </t>
      <dl indent="3" newline="false" spacing="normal" pn="section-3-7">
        <dt pn="section-3-7.1">L-15:</dt>
        <dd pn="section-3-7.2">

CE routers <bcp14>MUST NOT</bcp14> advertise prefixes via SLAAC or assign
addresses or delegate prefixes via DHCPv6 on the LAN side using lifetimes that
exceed the remaining lifetimes of the corresponding prefixes learned on the
WAN side via DHCPv6-PD.  For more details, see <xref target="dhcpv6-pd-slaac" format="default" sectionFormat="of" derivedContent="Section 3.3"/>.
</dd>
        <dt pn="section-3-7.3">L-16:
</dt>
        <dd pn="section-3-7.4">CE routers <bcp14>SHOULD</bcp14> advertise capped SLAAC option lifetimes,
capped DHCPv6 IA Address option lifetimes, and capped IA Prefix option lifetimes, as specified
in <xref target="lan-lifetimes" format="default" sectionFormat="of" derivedContent="Section 3.4"/>.
</dd>
      </dl>
      <section anchor="dhcpv6-release" numbered="true" toc="include" removeInRFC="false" pn="section-3.1">
        <name slugifiedName="name-automatic-dhcpv6-releases">Automatic DHCPv6 RELEASEs</name>
        <t indent="0" pn="section-3.1-1">
	  Some CE routers are known to automatically send DHCPv6-PD RELEASE
	  messages upon restart events. However, this may inadvertently
	  trigger a flash-renumbering scenario, along with the associated
	  problems discussed in <xref target="RFC8978" format="default" sectionFormat="of" derivedContent="RFC8978"/>,
	  that this document attempts to mitigate.
        </t>
        <t indent="0" pn="section-3.1-2">
As a result, requirement WPD-9 from <xref target="CPE" format="default" sectionFormat="of" derivedContent="Section 3"/>
specifies that CE routers <bcp14>SHOULD NOT</bcp14> automatically send
DHCPv6-PD RELEASE messages upon restart events.
</t>
      </section>
      <section anchor="dhcpv6-iaid" numbered="true" toc="include" removeInRFC="false" pn="section-3.2">
        <name slugifiedName="name-stability-of-iaids">Stability of IAIDs</name>
        <t indent="0" pn="section-3.2-1">
   <xref target="RFC8415" format="default" sectionFormat="of" derivedContent="RFC8415"/> requires that the IAID for an IA
   <bcp14>MUST</bcp14> be consistent across restarts of the DHCP
   client. However, some popular CE routers are known to select new random
   IAIDs, e.g., every time the underlying PPP session is established or when
   the device is rebooted. This could be the result of extrapolating the
   behavior described in <xref target="RFC7844" format="default" sectionFormat="of" derivedContent="RFC7844"/> or simply a
   consequence of not storing IAIDs on stable storage along with failure to
   employ an algorithm that consistently generates the same IAID upon
   reboots. Thus, requirement WPD-10 from <xref target="CPE" format="default" sectionFormat="of" derivedContent="Section 3"/> prevents CE routers from inadvertently triggering
   flash-renumbering events on the local network.
</t>
      </section>
      <section anchor="dhcpv6-pd-slaac" numbered="true" toc="include" removeInRFC="false" pn="section-3.3">
        <name slugifiedName="name-interface-between-the-wan-s">Interface between the WAN Side and LAN Side</name>
        <t indent="0" pn="section-3.3-1">The "Preferred Lifetime" and "Valid Lifetime" of Prefix Information
        Options (PIOs) <xref target="RFC4861" format="default" sectionFormat="of" derivedContent="RFC4861"/> corresponding
        to prefixes learned via DHCPv6-PD on the WAN side <bcp14>MUST NOT</bcp14> span past the remaining preferred and valid lifetimes of
        the corresponding DHCPv6-PD prefixes. This means that the "Preferred
        Lifetime" and the "Valid Lifetime" advertised in PIOs by the CE router
        <bcp14>MUST</bcp14> be dynamically adjusted such that they never span
        past the remaining preferred and valid lifetimes of the corresponding
        prefixes delegated via DHCPv6-PD on the WAN side.</t>
        <t indent="0" pn="section-3.3-2">Similarly, the "preferred-lifetime" and "valid-lifetime" of DHCPv6
        IA Address options and DHCPv6 IA Prefix options employed with DHCPv6
        on the LAN side <bcp14>MUST NOT</bcp14> span past the remaining
        preferred and valid lifetimes of the corresponding prefixes learned
        via DHCPv6-PD on the WAN side. This means that the
        "preferred-lifetime" and "valid-lifetime" of DHCPv6 IA Address options
        and DHCPv6 IA Prefix options employed with DHCPv6 on the LAN side
        <bcp14>MUST</bcp14> be dynamically adjusted such that they never span
        past the remaining preferred and valid lifetimes of the corresponding
        prefixes delegated to the CE router on the WAN side via DHCPv6-PD.</t>
        <t indent="0" pn="section-3.3-3">RATIONALE:</t>
        <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-3.3-4">
          <li pn="section-3.3-4.1">The lifetime values employed for the "Preferred Lifetime"
              (AdvPreferredLifetime) and "Valid Lifetime" (AdvValidLifetime)
              of SLAAC Prefix Information Options must never be larger than
              the remaining lifetimes of the corresponding prefixes (as learned
              via DHCPv6-PD on the WAN side). This is in line with the
              requirement from <xref target="RFC8415" sectionFormat="of" section="6.3" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8415#section-6.3" derivedContent="RFC8415"/>, which states:</li>
        </ul>
        <blockquote pn="section-3.3-5">In particular, if the
              delegated prefix or a prefix derived from it is advertised for
              stateless address autoconfiguration <xref target="RFC4862" format="default" sectionFormat="of" derivedContent="RFC4862"/>, the advertised preferred and valid lifetimes
              <bcp14>MUST NOT</bcp14> exceed the corresponding remaining
              lifetimes of the delegated prefix.</blockquote>
        <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-3.3-6">
          <li pn="section-3.3-6.1">The lifetime values of prefixes advertised on the LAN side
              via SLAAC must be dynamically updated (rather than static
              values); otherwise, the advertised lifetimes would eventually
              span past the DHCPv6-PD lifetimes.</li>
          <li pn="section-3.3-6.2">The same considerations apply for the "valid-lifetime" and
              "preferred-lifetime" of IA Address options and IA Prefix options
              employed with DHCPv6 on the LAN side.</li>
        </ul>
      </section>
      <section anchor="lan-lifetimes" numbered="true" toc="include" removeInRFC="false" pn="section-3.4">
        <name slugifiedName="name-lan-side-option-lifetimes">LAN-Side Option Lifetimes</name>
        <t indent="0" pn="section-3.4-1">
CE routers <bcp14>SHOULD</bcp14> override the default lifetime values of Neighbor Discovery options that depend in any way on changes in the prefix employed for address configuration on the LAN side, and employ shorter lifetime values to improve the robustness to renumbering events, while complying with the requirements from <xref target="dhcpv6-pd-slaac" format="default" sectionFormat="of" derivedContent="Section 3.3"/> of this document and the recommendations in <xref target="RFC7772" format="default" sectionFormat="of" derivedContent="RFC7772"/>.
</t>
        <t indent="0" pn="section-3.4-2">CE routers <bcp14>SHOULD</bcp14> set the "Router Lifetime" of
        Router Advertisement (RA) messages to ND_PREFERRED_LIMIT.</t>
        <t indent="0" pn="section-3.4-3">CE routers <bcp14>SHOULD</bcp14> also set the PIO "Preferred
        Lifetime" to the lesser of the remaining preferred lifetime of the
        corresponding prefix (see <xref target="dhcpv6-pd-slaac" format="default" sectionFormat="of" derivedContent="Section 3.3"/>) and ND_PREFERRED_LIMIT, and set the PIO "Valid
        Lifetime" to the lesser of the remaining valid lifetime of the
        corresponding prefix and ND_VALID_LIMIT.

 Additionally, the "Route Lifetime" of Route Information Options (RIOs) <xref target="RFC4191" format="default" sectionFormat="of" derivedContent="RFC4191"/>, the "Lifetime" of Recursive DNS Server (RDNSS) options
 <xref target="RFC8106" format="default" sectionFormat="of" derivedContent="RFC8106"/>, and the "Lifetime" of DNS Search List (DNSSL) options
 <xref target="RFC8106" format="default" sectionFormat="of" derivedContent="RFC8106"/> <bcp14>SHOULD</bcp14> be set to the lesser of the
 longest remaining valid lifetime of a prefix (leased via DHCPv6 on
 the WAN side) and ND_VALID_LIMIT, if any of these options are included in
 Router Advertisement messages.

</t>
        <t indent="3" pn="section-3.4-4">
NOTE: In scenarios where the valid lifetime and the preferred lifetime of
prefixes learned via DHCPv6 on the WAN side are always larger than
ND_VALID_LIMIT and ND_PREFERRED_LIMIT, respectively, the lifetime values
advertised on the LAN side will not experience actual changes.
</t>
        <t indent="0" pn="section-3.4-5">
The above text refers to the Neighbor Discovery options that are typically
employed by CE routers. A CE router may need to apply the same policy for
setting the lifetime of other Neighbor Discovery options it employs, if and
where applicable.
</t>
        <t indent="0" pn="section-3.4-6">CE routers providing stateful address configuration via DHCPv6
        <bcp14>SHOULD</bcp14> set the "preferred-lifetime" of a DHCPv6 IA
        Address option to the lesser of the remaining preferred lifetime of
        the corresponding prefix (see <xref target="dhcpv6-pd-slaac" format="default" sectionFormat="of" derivedContent="Section 3.3"/>) and ND_PREFERRED_LIMIT, and set the
        "valid-lifetime" of the same option to the lesser of the remaining
        valid lifetime of the corresponding prefix and ND_VALID_LIMIT.
</t>
        <t indent="0" pn="section-3.4-7">
CE routers providing DHCPv6-PD on the LAN side <bcp14>SHOULD</bcp14> set the
"preferred-lifetime" of a DHCPv6 IA Prefix option to the lesser of the
remaining preferred lifetime of the corresponding prefix (see <xref target="dhcpv6-pd-slaac" format="default" sectionFormat="of" derivedContent="Section 3.3"/>) and ND_PREFERRED_LIMIT, and set
the "valid-lifetime" of the same option to the lesser of the remaining valid
lifetime of the corresponding prefix and ND_VALID_LIMIT.
</t>
        <t indent="0" pn="section-3.4-8">RATIONALE:</t>
        <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-3.4-9">
          <li pn="section-3.4-9.1">
            <t indent="0" pn="section-3.4-9.1.1">The "Valid Lifetime" and "Preferred Lifetime" of PIOs have a
                direct impact on three different aspects:
            </t>
            <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-3.4-9.1.2">
              <li pn="section-3.4-9.1.2.1">The amount of time hosts may end up employing stale
                  network configuration information (see <xref target="RFC8978" format="default" sectionFormat="of" derivedContent="RFC8978"/>).</li>
              <li pn="section-3.4-9.1.2.2">The amount of time CE routers need to persist trying to
                  deprecate stale network configuration information (e.g., to
                  handle cases where hosts miss Router Advertisement messages
                  and thus still consider the stale information as
                  valid).</li>
              <li pn="section-3.4-9.1.2.3">The amount of information that CE routers need to
                  maintain when, e.g., multiple crash-and-reboot events occur
                  in the time span represented by the option lifetimes employed
                  on the LAN side.</li>
            </ul>
          </li>
          <li pn="section-3.4-9.2">
		CE routers need not employ the (possibly long) WAN-side
		DHCPv6-PD lifetimes for the "Valid Lifetime" and "Preferred
		Lifetime" of PIOs sent in Router Advertisement messages to
		advertise sub-prefixes of the leased prefix. Instead, CE
		routers <bcp14>SHOULD</bcp14> use shorter values for the "Valid
		Lifetime" and "Preferred Lifetime" of PIOs, since subsequent
		Router Advertisement messages will nevertheless refresh the
		associated lifetimes, leading to the same effective lifetimes
		as specified by the WAN-side DHCPv6-PD lifetimes.
</li>
          <li pn="section-3.4-9.3">
Similarly, CE routers need not employ the (possibly long) WAN-side DHCPv6-PD lifetimes for the "valid-lifetime" and "preferred-lifetime" of IA Address options and IA Prefix options employed by DHCPv6 on the LAN side, since the renewal of bindings by DHCPv6 clients will lead to the same effective lifetimes as specified by the WAN-side DHCPv6-PD lifetimes. 
</li>
        </ul>
      </section>
      <section anchor="sig-stale-config" numbered="true" toc="include" removeInRFC="false" pn="section-3.5">
        <name slugifiedName="name-signaling-stale-configurati">Signaling Stale Configuration Information</name>
        <t indent="0" pn="section-3.5-1">When a CE router provides LAN-side address-configuration information via SLAAC:

        </t>
        <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-3.5-2">
          <li pn="section-3.5-2.1">A CE router sending RAs that advertise prefixes belonging to a
          dynamically learned prefix (e.g., via DHCPv6-PD)
          <bcp14>SHOULD</bcp14> record, on stable storage, the list of
          prefixes being advertised via PIOs on each network segment and the
          state of the "A" and "L" flags of the corresponding PIOs.</li>
          <li pn="section-3.5-2.2">
            <t indent="0" pn="section-3.5-2.2.1">Upon changes to the advertised prefixes, and after
            bootstrapping, the CE router advertising prefix information via
            SLAAC proceeds as follows:
            </t>
            <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-3.5-2.2.2">
              <li pn="section-3.5-2.2.2.1">Any prefixes that were previously advertised by the CE
              router via PIOs in RA messages, but that have now become stale,
              <bcp14>MUST</bcp14> be advertised with PIOs that have the "Valid
              Lifetime" and the "Preferred Lifetime" set to 0 and the "A" and
              "L" bits unchanged.
				</li>
              <li pn="section-3.5-2.2.2.2">
                <t indent="0" pn="section-3.5-2.2.2.2.1">The aforementioned advertisements <bcp14>MUST</bcp14> be
                performed for at least the "Valid Lifetime" previously
                employed for such prefixes. The CE router <bcp14>MUST</bcp14>
                advertise this information with unsolicited Router
                Advertisement messages, as described in <xref target="RFC4861" sectionFormat="of" section="6.2.4" format="default" derivedLink="https://rfc-editor.org/rfc/rfc4861#section-6.2.4" derivedContent="RFC4861"/>, and
                <bcp14>MAY</bcp14> advertise this information via unicast
                Router Advertisement messages when possible and applicable.

</t>
                <ul spacing="normal" empty="true" bare="false" indent="3" pn="section-3.5-2.2.2.2.2">
                  <li pn="section-3.5-2.2.2.2.2.1">NOTE: If requirement L-16 (<xref target="CPE" format="default" sectionFormat="of" derivedContent="Section 3"/>) is followed, the "Valid Lifetime" need
                  not be saved, and the stale prefix can simply be advertised
                  for a period of ND_VALID_LIMIT.</li>
                </ul>
              </li>
            </ul>
          </li>
          <li pn="section-3.5-2.3">CE routers receiving DHCPv6 IA Prefix options with a 0
          "valid-lifetime" <bcp14>MUST</bcp14> advertise the corresponding
          sub-prefixes (as they would be generated for the same leased prefix
          with a non-zero lifetime) with PIOs with both the "Preferred
          Lifetime" and the "Valid Lifetime" set to 0, for at least the
          WAN-side DHCPv6-PD "valid-lifetime", or for a period of
          ND_VALID_LIMIT if the recommended lifetimes from <xref target="lan-lifetimes" format="default" sectionFormat="of" derivedContent="Section 3.4"/> are employed.</li>
        </ul>
        <t indent="0" pn="section-3.5-3">
	  When a CE router provides LAN-side DHCPv6 (address assignment or
	  prefix delegation), then:

</t>
        <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-3.5-4">
          <li pn="section-3.5-4.1">The CE router <bcp14>SHOULD</bcp14> record, on stable storage,
          the DHCPv6 address and delegated-prefix bindings corresponding to
          the LAN side.</li>
          <li pn="section-3.5-4.2">
            <t indent="0" pn="section-3.5-4.2.1">If the CE router finds that the prefix to be employed for
            address assignment and/or prefix delegation has changed (e.g.,
            upon a crash-and-reboot event) or the CE router receives DHCPv6 IA
            Prefix options with 0 lifetimes, the CE router
            <bcp14>MUST</bcp14>:
            </t>
            <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-3.5-4.2.2">
              <li pn="section-3.5-4.2.2.1">In Replies to DHCPv6 Request, Renew, and Rebind messages,
              send IA Address options or IA Prefix options (as appropriate)
              for any address assignments or prefix delegations for the stale
              prefixes. The aforementioned options <bcp14>MUST</bcp14> be sent
              with both the "valid-lifetime" and the "preferred-lifetime" set
              to 0, for at least the "valid-lifetime" originally employed for
              them, or for a period of ND_VALID_LIMIT if the recommended
              lifetimes from <xref target="lan-lifetimes" format="default" sectionFormat="of" derivedContent="Section 3.4"/>
              are employed.
		</li>
              <li pn="section-3.5-4.2.2.2">
                <t indent="0" pn="section-3.5-4.2.2.2.1">Initiate sending Reconfigure messages, if possible (i.e.,
              client requests Reconfigure support and the CE router offers
              it), to those clients with address assignments or prefix
              delegations for the stale prefixes.</t>
              </li>
            </ul>
          </li>
        </ul>
        <t indent="0" pn="section-3.5-5">RATIONALE:</t>
        <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-3.5-6">
          <li pn="section-3.5-6.1">IPv6 network renumbering is expected to take place in a
              planned manner with old/stale prefixes being phased out via
              reduced prefix lifetimes while new prefixes (with normal
              lifetimes) are introduced. However, a number of scenarios may
              lead to the so-called "flash-renumbering" events, where a prefix
              being employed on a network suddenly becomes invalid and
              replaced by a new prefix <xref target="RFC8978" format="default" sectionFormat="of" derivedContent="RFC8978"/>. One such scenario is when an Internet
              Service Provider (ISP) employs dynamic prefixes and the CE
              router crashes and reboots. The requirements in this section are
              meant to allow CE routers to deprecate stale information in such
              scenarios.
		</li>
          <li pn="section-3.5-6.2">The recommendations in this section expand from requirement
              L-13 in <xref target="RFC7084" sectionFormat="of" section="4.3" format="default" derivedLink="https://rfc-editor.org/rfc/rfc7084#section-4.3" derivedContent="RFC7084"/> and <xref target="RFC8415" sectionFormat="of" section="6.3" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8415#section-6.3" derivedContent="RFC8415"/>.</li>
          <li pn="section-3.5-6.3">Hosts configuring addresses via SLAAC on the local network
              may employ addresses configured for the previously advertised
              prefixes for at most the "Valid Lifetime" of the corresponding
              PIOs of the last received Router Advertisement messages. Since
              Router Advertisement messages may be lost or fail to be received
              for various reasons, CE routers need to try to
              deprecate stale prefixes for a period of time equal to the
              "Valid Lifetime" of the PIO employed when originally advertising
              the prefix.</li>
          <li pn="section-3.5-6.4">The requirements in this section to store information on
              stable storage are conveyed as "<bcp14>SHOULD</bcp14>" (as
              opposed to "<bcp14>MUST</bcp14>"), since they may represent a
              challenge for some implementations.</li>
          <li pn="section-3.5-6.5">Advertising DHCPv6-leased prefixes with zero lifetimes on
              the LAN side would handle the case where a CE router has no
              stable storage but receives the prefixes via DHCPv6 with 0
              lifetimes.</li>
          <li pn="section-3.5-6.6">The above text does not include DHCPv6 Advertise messages
              sent in response to DHCPv6 Solicit messages, since <xref target="RFC8415" sectionFormat="of" section="18.3.9" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8415#section-18.3.9" derivedContent="RFC8415"/> requires that a DHCPv6 server that is not
              going to assign an address or delegated prefix received as a
              hint in the Solicit message <bcp14>MUST NOT</bcp14> include that
              address or delegated prefix in the Advertise
              message. Additionally, any subsequent Request messages will
              trigger the response specified in this section and therefore
              cause the address or prefix to be deprecated.</li>
        </ul>
      </section>
    </section>
    <section anchor="parameters" numbered="true" toc="include" removeInRFC="false" pn="section-4">
      <name slugifiedName="name-recommended-option-lifetime">Recommended Option Lifetimes Configuration Values</name>
      <ul spacing="normal" bare="false" empty="false" indent="3" pn="section-4-1">
        <li pn="section-4-1.1">ND_PREFERRED_LIMIT: 2700 seconds (45 minutes)</li>
        <li pn="section-4-1.2">ND_VALID_LIMIT: 5400 seconds (90 minutes)</li>
      </ul>
      <t indent="0" pn="section-4-2">RATIONALE:</t>
      <ul empty="false" bare="false" indent="3" spacing="normal" pn="section-4-3">
        <li pn="section-4-3.1">These values represent a trade-off among a number of factors, including responsiveness and possible impact on the battery life of connected devices <xref target="RFC7772" format="default" sectionFormat="of" derivedContent="RFC7772"/>.
		</li>
        <li pn="section-4-3.2">ND_PREFERRED_LIMIT is set according to the recommendations in
        <xref target="RFC7772" format="default" sectionFormat="of" derivedContent="RFC7772"/> for the "Router Lifetime",
        following the rationale from <xref target="RFC8978" sectionFormat="of" section="3.2" format="default" derivedLink="https://rfc-editor.org/rfc/rfc8978#section-3.2" derivedContent="RFC8978"/>.</li>
        <li pn="section-4-3.3">ND_VALID_LIMIT is set to 2 * ND_PREFERRED_LIMIT to provide some additional leeway before configuration information is finally discarded by the hosts.</li>
      </ul>
    </section>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-5">
      <name slugifiedName="name-iana-considerations">IANA Considerations</name>
      <t indent="0" pn="section-5-1">
This document has no IANA actions.
</t>
    </section>
    <section numbered="true" toc="include" removeInRFC="false" pn="section-6">
      <name slugifiedName="name-security-considerations">Security Considerations</name>
      <t indent="0" pn="section-6-1">This document discusses a problem that may arise, e.g., in scenarios where
      dynamic IPv6 prefixes are employed, and it proposes improvements to
      CE routers <xref target="RFC7084" format="default" sectionFormat="of" derivedContent="RFC7084"/> to
      mitigate the problem for residential or small office scenarios. It does
      not introduce new security issues; thus, the same security
      considerations as for <xref target="RFC4861" format="default" sectionFormat="of" derivedContent="RFC4861"/>, <xref target="RFC4862" format="default" sectionFormat="of" derivedContent="RFC4862"/>, <xref target="RFC7084" format="default" sectionFormat="of" derivedContent="RFC7084"/>, and <xref target="RFC8415" format="default" sectionFormat="of" derivedContent="RFC8415"/>
      apply.</t>
    </section>
  </middle>
  <back>
    <displayreference target="I-D.ietf-6man-slaac-renum" to="6MAN-SLAAC-RENUM"/>
    <references pn="section-7">
      <name slugifiedName="name-references">References</name>
      <references pn="section-7.1">
        <name slugifiedName="name-normative-references">Normative References</name>
        <reference anchor="RFC2119" target="https://www.rfc-editor.org/info/rfc2119" quoteTitle="true" derivedAnchor="RFC2119">
          <front>
            <title>Key words for use in RFCs to Indicate Requirement Levels</title>
            <author initials="S." surname="Bradner" fullname="S. Bradner">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="1997" month="March"/>
            <abstract>
              <t indent="0">In many standards track documents several words are used to signify the requirements in the specification.  These words are often capitalized. This document defines these words as they should be interpreted in IETF documents.  This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="2119"/>
          <seriesInfo name="DOI" value="10.17487/RFC2119"/>
        </reference>
        <reference anchor="RFC4191" target="https://www.rfc-editor.org/info/rfc4191" quoteTitle="true" derivedAnchor="RFC4191">
          <front>
            <title>Default Router Preferences and More-Specific Routes</title>
            <author initials="R." surname="Draves" fullname="R. Draves">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="D." surname="Thaler" fullname="D. Thaler">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2005" month="November"/>
            <abstract>
              <t indent="0">This document describes an optional extension to Router Advertisement messages for communicating default router preferences and more-specific routes from routers to hosts.  This improves the ability of hosts to pick an appropriate router, especially when the host is multi-homed and the routers are on different links.  The preference values and specific routes advertised to hosts require administrative configuration; they are not automatically derived from routing tables.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="4191"/>
          <seriesInfo name="DOI" value="10.17487/RFC4191"/>
        </reference>
        <reference anchor="RFC4861" target="https://www.rfc-editor.org/info/rfc4861" quoteTitle="true" derivedAnchor="RFC4861">
          <front>
            <title>Neighbor Discovery for IP version 6 (IPv6)</title>
            <author initials="T." surname="Narten" fullname="T. Narten">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="E." surname="Nordmark" fullname="E. Nordmark">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="W." surname="Simpson" fullname="W. Simpson">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="H." surname="Soliman" fullname="H. Soliman">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2007" month="September"/>
            <abstract>
              <t indent="0">This document specifies the Neighbor Discovery protocol for IP Version 6.  IPv6 nodes on the same link use Neighbor Discovery to discover each other's presence, to determine each other's link-layer addresses, to find routers, and to maintain reachability information about the paths to active neighbors.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="4861"/>
          <seriesInfo name="DOI" value="10.17487/RFC4861"/>
        </reference>
        <reference anchor="RFC4862" target="https://www.rfc-editor.org/info/rfc4862" quoteTitle="true" derivedAnchor="RFC4862">
          <front>
            <title>IPv6 Stateless Address Autoconfiguration</title>
            <author initials="S." surname="Thomson" fullname="S. Thomson">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="T." surname="Narten" fullname="T. Narten">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="T." surname="Jinmei" fullname="T. Jinmei">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2007" month="September"/>
            <abstract>
              <t indent="0">This document specifies the steps a host takes in deciding how to autoconfigure its interfaces in IP version 6.  The autoconfiguration process includes generating a link-local address, generating global addresses via stateless address autoconfiguration, and the Duplicate Address Detection procedure to verify the uniqueness of the addresses on a link.  [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="4862"/>
          <seriesInfo name="DOI" value="10.17487/RFC4862"/>
        </reference>
        <reference anchor="RFC7772" target="https://www.rfc-editor.org/info/rfc7772" quoteTitle="true" derivedAnchor="RFC7772">
          <front>
            <title>Reducing Energy Consumption of Router Advertisements</title>
            <author initials="A." surname="Yourtchenko" fullname="A. Yourtchenko">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="L." surname="Colitti" fullname="L. Colitti">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2016" month="February"/>
            <abstract>
              <t indent="0">Frequent Router Advertisement messages can severely impact host power consumption.  This document recommends operational practices to avoid such impact.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="202"/>
          <seriesInfo name="RFC" value="7772"/>
          <seriesInfo name="DOI" value="10.17487/RFC7772"/>
        </reference>
        <reference anchor="RFC7844" target="https://www.rfc-editor.org/info/rfc7844" quoteTitle="true" derivedAnchor="RFC7844">
          <front>
            <title>Anonymity Profiles for DHCP Clients</title>
            <author initials="C." surname="Huitema" fullname="C. Huitema">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="T." surname="Mrugalski" fullname="T. Mrugalski">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Krishnan" fullname="S. Krishnan">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2016" month="May"/>
            <abstract>
              <t indent="0">Some DHCP options carry unique identifiers.  These identifiers can enable device tracking even if the device administrator takes care of randomizing other potential identifications like link-layer addresses or IPv6 addresses.  The anonymity profiles are designed for clients that wish to remain anonymous to the visited network.  The profiles provide guidelines on the composition of DHCP or DHCPv6 messages, designed to minimize disclosure of identifying information.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7844"/>
          <seriesInfo name="DOI" value="10.17487/RFC7844"/>
        </reference>
        <reference anchor="RFC8106" target="https://www.rfc-editor.org/info/rfc8106" quoteTitle="true" derivedAnchor="RFC8106">
          <front>
            <title>IPv6 Router Advertisement Options for DNS Configuration</title>
            <author initials="J." surname="Jeong" fullname="J. Jeong">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Park" fullname="S. Park">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="L." surname="Beloeil" fullname="L. Beloeil">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Madanapalli" fullname="S. Madanapalli">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2017" month="March"/>
            <abstract>
              <t indent="0">This document specifies IPv6 Router Advertisement (RA) options (called "DNS RA options") to allow IPv6 routers to advertise a list of DNS Recursive Server Addresses and a DNS Search List to IPv6 hosts.</t>
              <t indent="0">This document, which obsoletes RFC 6106, defines a higher default value of the lifetime of the DNS RA options to reduce the likelihood of expiry of the options on links with a relatively high rate of packet loss.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8106"/>
          <seriesInfo name="DOI" value="10.17487/RFC8106"/>
        </reference>
        <reference anchor="RFC8174" target="https://www.rfc-editor.org/info/rfc8174" quoteTitle="true" derivedAnchor="RFC8174">
          <front>
            <title>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</title>
            <author initials="B." surname="Leiba" fullname="B. Leiba">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2017" month="May"/>
            <abstract>
              <t indent="0">RFC 2119 specifies common key words that may be used in protocol  specifications.  This document aims to reduce the ambiguity by clarifying that only UPPERCASE usage of the key words have the  defined special meanings.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="8174"/>
          <seriesInfo name="DOI" value="10.17487/RFC8174"/>
        </reference>
        <reference anchor="RFC8415" target="https://www.rfc-editor.org/info/rfc8415" quoteTitle="true" derivedAnchor="RFC8415">
          <front>
            <title>Dynamic Host Configuration Protocol for IPv6 (DHCPv6)</title>
            <author initials="T." surname="Mrugalski" fullname="T. Mrugalski">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Siodelski" fullname="M. Siodelski">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B." surname="Volz" fullname="B. Volz">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="A." surname="Yourtchenko" fullname="A. Yourtchenko">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="M." surname="Richardson" fullname="M. Richardson">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="S." surname="Jiang" fullname="S. Jiang">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="T." surname="Lemon" fullname="T. Lemon">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="T." surname="Winters" fullname="T. Winters">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2018" month="November"/>
            <abstract>
              <t indent="0">This document describes the Dynamic Host Configuration Protocol for IPv6 (DHCPv6): an extensible mechanism for configuring nodes with network configuration parameters, IP addresses, and prefixes. Parameters can be provided statelessly, or in combination with stateful assignment of one or more IPv6 addresses and/or IPv6 prefixes.  DHCPv6 can operate either in place of or in addition to stateless address autoconfiguration (SLAAC).</t>
              <t indent="0">This document updates the text from RFC 3315 (the original DHCPv6 specification) and incorporates prefix delegation (RFC 3633), stateless DHCPv6 (RFC 3736), an option to specify an upper bound for how long a client should wait before refreshing information (RFC 4242), a mechanism for throttling DHCPv6 clients when DHCPv6 service is not available (RFC 7083), and relay agent handling of unknown messages (RFC 7283).  In addition, this document clarifies the interactions between models of operation (RFC 7550).  As such, this document obsoletes RFC 3315, RFC 3633, RFC 3736, RFC 4242, RFC 7083, RFC 7283, and RFC 7550.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8415"/>
          <seriesInfo name="DOI" value="10.17487/RFC8415"/>
        </reference>
      </references>
      <references pn="section-7.2">
        <name slugifiedName="name-informative-references">Informative References</name>
        <reference anchor="I-D.ietf-6man-slaac-renum" quoteTitle="true" target="https://datatracker.ietf.org/doc/html/draft-ietf-6man-slaac-renum-02" derivedAnchor="6MAN-SLAAC-RENUM">
          <front>
            <title>Improving the Robustness of Stateless Address Autoconfiguration (SLAAC) to Flash Renumbering Events</title>
            <author fullname="Fernando Gont">
              <organization showOnFrontPage="true">SI6 Networks</organization>
            </author>
            <author fullname="Jan Zorz">
              <organization showOnFrontPage="true">6connect</organization>
            </author>
            <author fullname="Richard Patterson">
              <organization showOnFrontPage="true">Sky UK</organization>
            </author>
            <date month="January" day="19" year="2021"/>
            <abstract>
              <t indent="0">   In renumbering scenarios where an IPv6 prefix suddenly becomes
   invalid, hosts on the local network will continue using stale
   prefixes for an unacceptably long period of time, thus resulting in
   connectivity problems.  This document improves the reaction of IPv6
   Stateless Address Autoconfiguration to such renumbering scenarios.

              </t>
            </abstract>
          </front>
          <seriesInfo name="Internet-Draft" value="draft-ietf-6man-slaac-renum-02"/>
          <format type="TXT" target="https://www.ietf.org/archive/id/draft-ietf-6man-slaac-renum-02.txt"/>
          <refcontent>Work in Progress</refcontent>
        </reference>
        <reference anchor="RFC7084" target="https://www.rfc-editor.org/info/rfc7084" quoteTitle="true" derivedAnchor="RFC7084">
          <front>
            <title>Basic Requirements for IPv6 Customer Edge Routers</title>
            <author initials="H." surname="Singh" fullname="H. Singh">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="W." surname="Beebee" fullname="W. Beebee">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="C." surname="Donley" fullname="C. Donley">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="B." surname="Stark" fullname="B. Stark">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2013" month="November"/>
            <abstract>
              <t indent="0">This document specifies requirements for an IPv6 Customer Edge (CE) router.  Specifically, the current version of this document focuses on the basic provisioning of an IPv6 CE router and the provisioning of IPv6 hosts attached to it.  The document also covers IP transition technologies.  Two transition technologies in RFC 5969's IPv6 Rapid Deployment on IPv4 Infrastructures (6rd) and RFC 6333's Dual-Stack Lite (DS-Lite) are covered in the document.  The document obsoletes RFC 6204.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="7084"/>
          <seriesInfo name="DOI" value="10.17487/RFC7084"/>
        </reference>
        <reference anchor="RFC8978" target="https://www.rfc-editor.org/info/rfc8978" quoteTitle="true" derivedAnchor="RFC8978">
          <front>
            <title>Reaction of IPv6 Stateless Address Autoconfiguration (SLAAC) to Flash-Renumbering Events</title>
            <author initials="F." surname="Gont" fullname="F. Gont">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="J." surname="Žorž" fullname="J. Žorž">
              <organization showOnFrontPage="true"/>
            </author>
            <author initials="R." surname="Patterson" fullname="R. Patterson">
              <organization showOnFrontPage="true"/>
            </author>
            <date year="2021" month="March"/>
            <abstract>
              <t indent="0">In scenarios where network configuration information related to IPv6 prefixes becomes invalid without any explicit and reliable signaling of that condition (such as when a Customer Edge router crashes and reboots without knowledge of the previously employed prefixes), hosts on the local network may continue using stale prefixes for an unacceptably long time (on the order of several days), thus resulting in connectivity problems. This document describes this issue and discusses operational workarounds that may help to improve network robustness. Additionally, it highlights areas where further work may be needed.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8978"/>
          <seriesInfo name="DOI" value="10.17487/RFC8978"/>
        </reference>
      </references>
    </references>
    <section numbered="false" toc="include" removeInRFC="false" pn="section-appendix.a">
      <name slugifiedName="name-acknowledgments">Acknowledgments</name>
      <t indent="0" pn="section-appendix.a-1">The authors would like to thank <contact fullname="Owen DeLong"/>,
      <contact fullname="Philip Homburg"/>, <contact fullname="Erik Kline"/>,
      and <contact fullname="Ted Lemon"/> for their valuable help in
      improving this document via successive detailed reviews.
</t>
      <t indent="0" pn="section-appendix.a-2">The authors would like to thank <contact fullname="Mikael       Abrahamsson"/>, <contact fullname="Luis Balbinot"/>, <contact fullname="Brian Carpenter"/>, <contact fullname="Tim Chown"/>, <contact fullname="Lorenzo Colitti"/>, <contact fullname="Alejandro D'Egidio"/>,
      <contact fullname="Gert Doering"/>, <contact fullname="Fernando       Frediani"/>, <contact fullname="Guillermo Gont"/>, <contact fullname="Steinar Haug"/>, <contact fullname="Nick Hilliard"/>, <contact fullname="Lee Howard"/>, <contact fullname="Christian Huitema"/>,
      <contact fullname="Sheng Jiang"/>, <contact fullname="Benjamin Kaduk"/>,
      <contact fullname="Suresh Krishnan"/>, <contact fullname="Warren       Kumari"/>, <contact fullname="Albert Manfredi"/>, <contact fullname="Olorunloba Olopade"/>, <contact fullname="Jordi Palet       Martinez"/>, <contact fullname="Pete Resnick"/>, <contact fullname="Michael Richardson"/>, <contact fullname="Mark Smith"/>,
      <contact fullname="Job Snijders"/>, <contact fullname="Sander       Steffann"/>, <contact fullname="Tarko Tikan"/>, <contact fullname="Ole       Trøan"/>, <contact fullname="Loganaden Velvindron"/>, <contact fullname="Éric Vyncke"/>, <contact fullname="Robert Wilton"/>, <contact fullname="Timothy Winters"/>, <contact fullname="Christopher Wood"/>,
      and <contact fullname="Chongfeng Xie"/> for providing valuable comments
      on earlier draft versions of this document.</t>
      <t indent="0" pn="section-appendix.a-3">Fernando would also like to thank <contact fullname="Brian       Carpenter"/> who, over the years, has answered many questions and
      provided valuable comments that have benefited his protocol-related
      work.</t>
    </section>
    <section anchor="authors-addresses" numbered="false" removeInRFC="false" toc="include" pn="section-appendix.b">
      <name slugifiedName="name-authors-addresses">Authors' Addresses</name>
      <author fullname="Fernando Gont" initials="F." surname="Gont">
        <organization abbrev="SI6 Networks" showOnFrontPage="true">SI6 Networks</organization>
        <address>
          <postal>
            <street>Segurola y Habana 4310, 7mo Piso</street>
            <city>Villa Devoto</city>
            <region>Ciudad Autonoma de Buenos Aires</region>
            <country>Argentina</country>
          </postal>
          <email>fgont@si6networks.com</email>
          <uri>https://www.si6networks.com</uri>
        </address>
      </author>
      <author fullname="Jan Žorž" initials="J." surname="Žorž">
        <organization abbrev="6connect" showOnFrontPage="true">6connect</organization>
        <address>
          <email>jan@6connect.com</email>
        </address>
      </author>
      <author initials="R." surname="Patterson" fullname="Richard Patterson">
        <organization showOnFrontPage="true">Sky UK</organization>
        <address>
          <email>richard.patterson@sky.uk</email>
        </address>
      </author>
      <author fullname="Bernie Volz" initials="B" surname="Volz">
        <organization abbrev="Individual Contributor" showOnFrontPage="true">Individual Contributor</organization>
        <address>
          <postal>
            <street>116 Hawkins Pond Road</street>
            <city>Center Harbor</city>
            <region>NH</region>
            <code>03226</code>
            <country>United States of America</country>
          </postal>
          <email>bevolz@gmail.com</email>
        </address>
      </author>
    </section>
  </back>
</rfc>
